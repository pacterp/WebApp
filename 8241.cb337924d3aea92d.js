"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[8241],{622:(E,D,n)=>{n.r(D),n.d(D,{UnAppDocumentsViewModel:()=>M});var m=n(74523),a=n(7321),o=n(32040),h=n(3338),l=n(43767);class M{constructor(){this.LocationID="",Logger.InfoLog("UnAppDocumentsViewModel:: Entering UnAppDocumentsViewModel");try{this.DocumentsGrid=new a.vv,this.DocumentsGrid.Width="",this.DocumentsGrid.OnLinkClick.Subscribe(this,"OnLinkClickEvent"),this.DocumentsGrid.Columns=h.GeneralDashboardViewModel.InitColumns("Un Approved Documents_DashBoardCustomize"),this.LocationID=o.d.SessionManager.Preferences.ContainsKey("EnableLocationWise")&&"True"==o.d.SessionManager.Preferences.EnableLocationWise.toString()?o.d.SessionManager.LocationID>0?o.d.SessionManager.LocationID.toString():o.d.SessionManager.LocationWhere:"0",this.OnLoad()}catch(s){Logger.ErrorLog("UnAppDocumentsViewModel","Constructor",s)}Logger.InfoLog("UnAppDocumentsViewModel:: Entering UnAppDocumentsViewModel")}OnLoad(){o.d.document.GetUnApprovedDocuments(this.LocationID,371).subscribe(s=>{let e=s.Tables[0];e?.forEach(t=>{t.id=o.d.slick.rowid,t.Date_Text=l.J0.ParseDate(t.DocDate).ToString(o.d.SessionManager.Preferences["Date Format"]),""!=t.ModifiedDate.toString()&&(t.MDate_Text=l.J0.ParseDate(t.ModifiedDate).ToString("hh:mm"))}),this.DocumentsGrid.Table=e})}OnLinkClickEvent(s,e,t){var g=this;return(0,m.A)(function*(){try{if("95"!=s.CostCenterID.toString()){const{DocumentViewerViewModel:i}=yield Promise.all([n.e(9891),n.e(534),n.e(7996),n.e(1755),n.e(3884),n.e(7030),n.e(4628),n.e(5984),n.e(5152),n.e(8405),n.e(895),n.e(5819),n.e(6015),n.e(2963),n.e(108),n.e(2290),n.e(8024),n.e(3364),n.e(9284),n.e(9128),n.e(1938),n.e(2726),n.e(4065),n.e(2014),n.e(2209),n.e(2771),n.e(6084),n.e(4882),n.e(4119),n.e(2076)]).then(n.bind(n,42847)),{DocumentViewerComponent:L}=yield n.e(2076).then(n.bind(n,40695));let d=new i;d.DocumentViewerViewModel_Document(g.DocumentsGrid,s,e),d.IsDocumentFound&&o.d.page.addNewTab({component:L,params:{obj:d}})}}catch(i){Logger.ErrorLog("UnAppDocumentsViewModel","OnLinkClickEvent",i)}})()}}}}]);
"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[897,1250,4487,7875],{24980:(R,G,a)=>{a.d(G,{m:()=>L});var e=a(96598);function i(I,A){if(1&I){const y=e.RV6();e.j41(0,"span",12),e.bIt("click",function(){e.eBV(y);const d=e.XpG();return e.Njj(d.obj.OnSave("UploadPhoto"))}),e.nrm(1,"i",13),e.k0s()}}function O(I,A){if(1&I){const y=e.RV6();e.j41(0,"img",14),e.bIt("click",function(){e.eBV(y);const d=e.XpG();return e.Njj(d.obj.OnSave("UploadPhoto"))}),e.k0s()}if(2&I){const y=e.XpG();e.Y8G("src",y.obj.CustomerPhoto,e.B4B)}}function E(I,A){if(1&I){const y=e.RV6();e.j41(0,"span",15),e.bIt("click",function(){e.eBV(y);const d=e.XpG();return e.Njj(d.obj.OnSave("Save"))}),e.nrm(1,"i",16),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&I&&(e.R7$(2),e.JRh(e.bMT(3,1,"Save")))}let L=(()=>{class I{constructor(){}ngOnInit(){this.obj=this.params.obj}static{this.\u0275fac=function(r){return new(r||I)}}static{this.\u0275cmp=e.VBU({type:I,selectors:[["app-add-contacts"]],standalone:!1,decls:30,vars:5,consts:[["dynscreen",""],["id","maincontainer",1,"maincontainer","document_container"],[2,"flex-direction","column","justify-content","flex-end","width","Calc(100%)","display","flex"],[1,"page-header"],[1,"page-title"],[1,"btnMetroDiv","secondary-btn-group"],[1,"user",2,"padding","0 5px 0 5px"],["id","userDropdown","class","secondary-btn",3,"click",4,"ngIf"],["id","userDropdown","alt","",3,"src","click",4,"ngIf"],["class","secondary-btn",3,"click",4,"ngIf"],[1,"main_div"],[3,"ScreenObject"],["id","userDropdown",1,"secondary-btn",3,"click"],[1,"fa-light","fa-image",2,"font-size","21px"],["id","userDropdown","alt","",3,"click","src"],[1,"secondary-btn",3,"click"],[1,"fa-light","fa-floppy-disk"]],template:function(r,d){1&r&&(e.j41(0,"div",1),e.EFF(1,"\n    "),e.j41(2,"div",2),e.EFF(3,"\n    "),e.j41(4,"div",3),e.EFF(5,"\n        "),e.j41(6,"label",4),e.EFF(7),e.k0s(),e.EFF(8,"\n        "),e.j41(9,"div",5),e.EFF(10,"\n            "),e.j41(11,"div",6),e.EFF(12,"\n                "),e.DNE(13,i,2,0,"span",7),e.EFF(14,"\n                "),e.DNE(15,O,1,1,"img",8),e.EFF(16,"\n            "),e.k0s(),e.EFF(17,"\n            "),e.DNE(18,E,4,3,"span",9),e.EFF(19,"\n        "),e.k0s(),e.EFF(20,"\n    "),e.k0s(),e.EFF(21,"\n    "),e.j41(22,"div",10),e.EFF(23,"\n    "),e.nrm(24,"app-master-screen",11,0),e.EFF(26,"\n    "),e.k0s(),e.EFF(27,"\n"),e.k0s(),e.EFF(28,"\n"),e.k0s(),e.EFF(29,"\n    ")),2&r&&(e.R7$(7),e.SpI("\n            ",d.obj.Title,"\n        "),e.R7$(6),e.Y8G("ngIf",""==d.obj.CustomerPhoto||null==d.obj.CustomerPhoto),e.R7$(2),e.Y8G("ngIf",""!=d.obj.CustomerPhoto&&null!=d.obj.CustomerPhoto),e.R7$(3),e.Y8G("ngIf",d.obj.ButtonSave.Visible),e.R7$(6),e.Y8G("ScreenObject",d.obj.ScreenObject))},encapsulation:2})}}return I})()},38258:(R,G,a)=>{a.r(G),a.d(G,{AddEditOpportunityComponent:()=>_});var e=a(96598),i=a(96336),O=a(43357),E=a(42272),L=a(58130);function I(m,f){if(1&m){const b=e.RV6();e.j41(0,"span",9),e.bIt("click",function(){e.eBV(b);const g=e.XpG();return e.Njj(g.obj.GetRecords("PREVIOUS"))}),e.nrm(1,"i",13),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"Previous")))}function A(m,f){if(1&m){const b=e.RV6();e.j41(0,"span",9),e.bIt("click",function(){e.eBV(b);const g=e.XpG();return e.Njj(g.obj.GetRecords("NEXT"))}),e.nrm(1,"i",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"Next")))}function y(m,f){if(1&m){const b=e.RV6();e.j41(0,"span",9),e.bIt("click",function(){e.eBV(b);const g=e.XpG();return e.Njj(g.obj.OnSave("Save"))}),e.nrm(1,"i",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"SaveandNew")))}function r(m,f){if(1&m){const b=e.RV6();e.j41(0,"span",9),e.bIt("click",function(){e.eBV(b);const g=e.XpG();return e.Njj(g.obj.OnSave("SaveDraft"))}),e.nrm(1,"i",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"Com_SaveAsDraft")))}function d(m,f){if(1&m){const b=e.RV6();e.j41(0,"span",9),e.bIt("click",function(){e.eBV(b);const g=e.XpG();return e.Njj(g.obj.OnSave("Print"))}),e.nrm(1,"i",16),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"Print")))}function h(m,f){if(1&m){const b=e.RV6();e.j41(0,"span",9),e.bIt("click",function(){e.eBV(b);const g=e.XpG();return e.Njj(g.obj.OnSave("Email"))}),e.nrm(1,"i",17),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"SMTP_Email")))}function p(m,f){if(1&m){const b=e.RV6();e.j41(0,"span",9),e.bIt("click",function(){e.eBV(b);const g=e.XpG();return e.Njj(g.obj.OnSave("Report"))}),e.nrm(1,"i",18),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"Report")))}function C(m,f){if(1&m){const b=e.RV6();e.j41(0,"span",9),e.bIt("click",function(){e.eBV(b);const g=e.XpG();return e.Njj(g.obj.OnSave("Clone"))}),e.nrm(1,"i",19),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"Clone")))}function c(m,f){if(1&m){const b=e.RV6();e.j41(0,"span",9),e.bIt("click",function(){e.eBV(b);const g=e.XpG();return e.Njj(g.obj.OnSave("ApproveMaster"))}),e.nrm(1,"i",20),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"Approve")))}function v(m,f){if(1&m){const b=e.RV6();e.j41(0,"span",9),e.bIt("click",function(){e.eBV(b);const g=e.XpG();return e.Njj(g.obj.OnSave("ViewHistory"))}),e.nrm(1,"i",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"History")))}let _=(()=>{class m{constructor(b){this.translate=b}ngOnInit(){this.obj=this.params.obj}static{this.\u0275fac=function(T){return new(T||m)(e.rXU(i.c$))}}static{this.\u0275cmp=e.VBU({type:m,selectors:[["app-add-edit-opportunity"]],standalone:!1,decls:50,vars:13,consts:[["dynscreen",""],["id","maincontainer",1,"maincontainer","document_container",2,"display","flex"],[2,"flex-direction","column","justify-content","flex-end","width","100%"],[1,"page-header"],[1,"page-title",2,"padding","12px"],[2,"display","inline-flex"],[3,"WFDocLevelList"],[1,"btnMetroDiv","secondary-btn-group"],["class","secondary-btn",3,"click",4,"ngIf"],[1,"secondary-btn",3,"click"],[1,"fa-light","fa-times"],[1,"main_div"],[3,"ScreenObject"],[1,"far","fa-angle-left"],[1,"far","fa-angle-right"],[1,"fa-light","fa-save"],[1,"fa-light","fa-print"],[1,"fa-light","fa-envelope"],[1,"fa-light","fa-file-chart-line"],[1,"fa-light","fa-copy"],[1,"fa-light","fa-floppy-disk"],[1,"fa-light","fa-user"]],template:function(T,g){if(1&T){const M=e.RV6();e.j41(0,"div",1),e.EFF(1,"\n    "),e.j41(2,"div",2),e.EFF(3,"\n    "),e.j41(4,"div",3),e.EFF(5,"\n        "),e.j41(6,"label",4),e.EFF(7),e.k0s(),e.EFF(8,"\n        "),e.j41(9,"div",5),e.EFF(10,"\n            "),e.nrm(11,"app-wflevel-view",6),e.EFF(12,"\n          "),e.k0s(),e.EFF(13,"\n        "),e.j41(14,"div",7),e.EFF(15,"\n            "),e.DNE(16,I,4,3,"span",8),e.EFF(17,"\n            "),e.DNE(18,A,4,3,"span",8),e.EFF(19,"\n            "),e.DNE(20,y,4,3,"span",8),e.EFF(21,"\n            "),e.DNE(22,r,4,3,"span",8),e.EFF(23,"\n            "),e.DNE(24,d,4,3,"span",8),e.EFF(25,"\n            "),e.DNE(26,h,4,3,"span",8),e.EFF(27,"\n            "),e.j41(28,"span",9),e.bIt("click",function(){return e.eBV(M),e.Njj(g.obj.OnSave("Close"))}),e.nrm(29,"i",10),e.EFF(30,"Close"),e.k0s(),e.EFF(31,"\n            "),e.DNE(32,p,4,3,"span",8),e.EFF(33,"     \n            "),e.DNE(34,C,4,3,"span",8),e.EFF(35,"       \n            "),e.DNE(36,c,4,3,"span",8),e.EFF(37,"\n            "),e.DNE(38,v,4,3,"span",8),e.EFF(39,"\n\n        "),e.k0s(),e.EFF(40,"\n    "),e.k0s(),e.EFF(41,"\n    "),e.j41(42,"div",11),e.EFF(43,"\n    "),e.nrm(44,"app-master-screen",12,0),e.EFF(46,"\n    "),e.k0s(),e.EFF(47,"\n    "),e.k0s(),e.EFF(48,"\n"),e.k0s(),e.EFF(49,"\n    ")}2&T&&(e.R7$(7),e.SpI("\n            ",g.obj.Title,"\n        "),e.R7$(4),e.Y8G("WFDocLevelList",g.obj.ScreenObject.WFDocLevelList),e.R7$(5),e.Y8G("ngIf",g.obj.NextPreviousVisibility),e.R7$(2),e.Y8G("ngIf",g.obj.NextPreviousVisibility),e.R7$(2),e.Y8G("ngIf",g.obj.ButtonSave.Visible&&g.obj.ButtonSave.Enable),e.R7$(2),e.Y8G("ngIf",g.obj.ButtonSave.Visible&&g.obj.ButtonSave.Enable),e.R7$(2),e.Y8G("ngIf",g.obj.PrintVisible),e.R7$(2),e.Y8G("ngIf",g.obj.ButtonEmail.Visible&&g.obj.ButtonEmail.Enable),e.R7$(6),e.Y8G("ngIf",g.obj.ReportInfoVisibility),e.R7$(2),e.Y8G("ngIf",g.obj.ButtonCopy.Visible),e.R7$(2),e.Y8G("ngIf",g.obj.BtnApprove.Visible),e.R7$(2),e.Y8G("ngIf",g.obj.btnHistoryVisible),e.R7$(6),e.Y8G("ScreenObject",g.obj.ScreenObject))},dependencies:[O.bT,E.O,L.s,i.D9],encapsulation:2})}}return m})()},45454:(R,G,a)=>{a.r(G),a.d(G,{AddCustomerComponent:()=>C});var e=a(96598),i=a(43357),O=a(42272),E=a(58130),L=a(96336);function I(c,v){if(1&c){const _=e.RV6();e.j41(0,"span",13),e.bIt("click",function(){e.eBV(_);const f=e.XpG();return e.Njj(f.obj.OnSaveCustomer("UploadPhoto"))}),e.nrm(1,"i",14),e.k0s()}}function A(c,v){if(1&c){const _=e.RV6();e.j41(0,"img",15),e.bIt("click",function(){e.eBV(_);const f=e.XpG();return e.Njj(f.obj.OnSaveCustomer("UploadPhoto"))}),e.k0s()}if(2&c){const _=e.XpG();e.Y8G("src",_.obj.CustomerPhoto,e.B4B)}}function y(c,v){if(1&c){const _=e.RV6();e.j41(0,"span",16),e.bIt("click",function(){e.eBV(_);const f=e.XpG();return e.Njj(f.obj.OnSaveCustomer("Convert"))}),e.nrm(1,"i",17),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&c&&(e.R7$(2),e.JRh(e.bMT(3,1,"Convert")))}function r(c,v){if(1&c){const _=e.RV6();e.j41(0,"span",16),e.bIt("click",function(){e.eBV(_);const f=e.XpG();return e.Njj(f.obj.OnSaveCustomer("Save"))}),e.nrm(1,"i",18),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&c&&(e.R7$(2),e.JRh(e.bMT(3,1,"Save")))}function d(c,v){if(1&c){const _=e.RV6();e.j41(0,"span",16),e.bIt("click",function(){e.eBV(_);const f=e.XpG();return e.Njj(f.obj.OnSaveCustomer("Clone"))}),e.nrm(1,"i",19),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&c&&(e.R7$(2),e.JRh(e.bMT(3,1,"Clone")))}function h(c,v){if(1&c){const _=e.RV6();e.j41(0,"span",16),e.bIt("click",function(){e.eBV(_);const f=e.XpG();return e.Njj(f.obj.OnSaveCustomer("ApproveMaster"))}),e.nrm(1,"i",20),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&c&&(e.R7$(2),e.JRh(e.bMT(3,1,"Approve")))}function p(c,v){if(1&c){const _=e.RV6();e.j41(0,"span",16),e.bIt("click",function(){e.eBV(_);const f=e.XpG();return e.Njj(f.obj.OnSaveCustomer("ViewHistory"))}),e.nrm(1,"i",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&c&&(e.R7$(2),e.JRh(e.bMT(3,1,"History")))}let C=(()=>{class c{constructor(){}ngOnInit(){this.obj=this.params.obj}static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["app-add-customer"]],standalone:!1,decls:40,vars:10,consts:[["dynscreen",""],["id","maincontainer",1,"maincontainer"],[1,"page-header"],[1,"page-title"],[2,"display","inline-flex"],[3,"WFDocLevelList"],[1,"btnMetroDiv","secondary-btn-group"],[1,"user",2,"padding","0 5px 0 5px"],["id","userDropdown","class","secondary-btn-wicon",3,"click",4,"ngIf"],["id","userDropdown","alt","",3,"src","click",4,"ngIf"],["class","secondary-btn",3,"click",4,"ngIf"],[1,"main_div"],[3,"ScreenObject"],["id","userDropdown",1,"secondary-btn-wicon",3,"click"],[1,"fa-light","fa-image",2,"font-size","21px"],["id","userDropdown","alt","",3,"click","src"],[1,"secondary-btn",3,"click"],[1,"fa-light","fa-dice-d4"],[1,"fa-light","fa-save"],[1,"fa-light","fa-copy"],[1,"fa-light","fa-floppy-disk"],[1,"fa-light","fa-user"]],template:function(m,f){1&m&&(e.j41(0,"div",1),e.EFF(1,"\n    "),e.j41(2,"div",2),e.EFF(3,"\n        "),e.j41(4,"label",3),e.EFF(5),e.k0s(),e.EFF(6,"\n        \n       "),e.j41(7,"div",4),e.EFF(8,"\n        "),e.nrm(9,"app-wflevel-view",5),e.EFF(10,"\n      "),e.k0s(),e.EFF(11,"\n        "),e.j41(12,"div",6),e.EFF(13,"\n            "),e.j41(14,"div",7),e.EFF(15,"\n                "),e.DNE(16,I,2,0,"span",8),e.EFF(17,"\n                "),e.DNE(18,A,1,1,"img",9),e.EFF(19,"\n            "),e.k0s(),e.EFF(20,"\n            "),e.DNE(21,y,4,3,"span",10),e.EFF(22,"\n            "),e.DNE(23,r,4,3,"span",10),e.EFF(24,"\n            "),e.DNE(25,d,4,3,"span",10),e.EFF(26," \n            "),e.DNE(27,h,4,3,"span",10),e.EFF(28,"\n            "),e.DNE(29,p,4,3,"span",10),e.EFF(30,"\n        "),e.k0s(),e.EFF(31,"\n    "),e.k0s(),e.EFF(32,"\n    "),e.j41(33,"div",11),e.EFF(34,"\n    "),e.nrm(35,"app-master-screen",12,0),e.EFF(37,"\n    "),e.k0s(),e.EFF(38,"\n"),e.k0s(),e.EFF(39,"\n    ")),2&m&&(e.R7$(5),e.SpI("\n            ",f.obj.Title,"\n        "),e.R7$(4),e.Y8G("WFDocLevelList",f.obj.ScreenObject.WFDocLevelList),e.R7$(7),e.Y8G("ngIf",""==f.obj.CustomerPhoto||null==f.obj.CustomerPhoto),e.R7$(2),e.Y8G("ngIf",""!=f.obj.CustomerPhoto&&null!=f.obj.CustomerPhoto),e.R7$(3),e.Y8G("ngIf",f.obj.ButtonConvert.Visible),e.R7$(2),e.Y8G("ngIf",f.obj.ButtonSave.Visible),e.R7$(2),e.Y8G("ngIf",f.obj.ButtonCopy.Visible),e.R7$(2),e.Y8G("ngIf",f.obj.BtnApprove.Visible),e.R7$(2),e.Y8G("ngIf",f.obj.btnHistoryVisible),e.R7$(6),e.Y8G("ScreenObject",f.obj.ScreenObject))},dependencies:[i.bT,O.O,E.s,L.D9],encapsulation:2})}}return c})()},68869:(R,G,a)=>{a.r(G),a.d(G,{DuplicateUser:()=>I,TeamViewModel:()=>L,ViewColumn1:()=>A});var e=a(98580),i=a(84151),O=a(27730),E=a(32040);class L extends e.g{constructor(r,d){super(),this.Name=new i.Dw(0),this.LOSelectedIndex=-1,this.ROSelectedIndex=-1,this.LMSelectedIndex=-1,this.Status=new O.y$(0),this.RMSelectedIndex=-1,this.obj={},this.oParent=null,this.lst=[],Logger.InfoLog("TeamViewModel :: Exiting OnLoad"),this.ID=r,this.oParent=d,this.Name.Label="Name",this.obj.TeamID=this.ID,0==this.ID?(this.Title=E.d.GetResource("CreateTeam"),this.LoadData()):(this.Title=E.d.GetResource("EditTeam"),this.LoadEditData()),this.DisplayName=this.Title,Logger.InfoLog("TeamViewModel :: Exiting OnExit")}LoadEditData(){let r=[];r.push(this.ID),r.push(E.d.SessionManager.UserID),r.push(E.d.SessionManager.LanguageID);let d="?CompanyIndex="+E.d.SessionManager.CompanyIndex+"&param="+JSON.stringify(r),h=E.d.crmService.GetTeamScreenDetails(d);if(null!=h&&h.Tables.length>4&&h.Tables[5].length>0){let p=null;if(null!=h&&h.Tables.length>0){for(let C=0;C<h.Tables[0].length;C++)this.Status.Items.push(O._p.ComboBoxItems_2(h.Tables[0][C].Status.toString(),h.Tables[0][C].StatusID.toString()));this.FillOwnersLeftList(p,1,h),this.FillMembersLeftList(p,2,h),this.FillMembersRightList(p,4,h),this.FillOwnersRightList(p,3,h),h.Tables[5].length>0&&""!=h.Tables[5][0].StatusID.toString()&&(this.Status.SelectedValue=h.Tables[5][0].StatusID.toString()),h.Tables[5].length>0&&""!=h.Tables[5][0].TeamName.toString()&&(this.Name.Text=h.Tables[5][0].TeamName.toString()),this.obj.TeamID=parseInt(h.Tables[5][0].TeamID.toString())}}}Check(r){for(let d=0;d<this.lst.length;d++)if(this.lst[d].User==r)return!1;return!0}OnSave(r){if(Logger.InfoLog("TeamViewModel ::  OnSave"),0==this.Name.Text.length)this.MessageVisibility=!0,this.DisplayMessage="Team Name cannot be empty";else{this.obj.Name=this.Name.Text,this.obj.Status=parseInt(this.Status.SelectedValue);let h,d="";d+="<XML>";for(let C=0;C<this.lstOwnersRight.length;C++)d+="<Row  IsOwner='1' UserId='"+this.lstOwnersRight[C].CostCenterColID+"'/>";for(let C=0;C<this.lstMembersRight.length;C++)d+="<Row  IsOwner='0' UserId='"+this.lstMembersRight[C].CostCenterColID+"'/>";d+="</XML>",this.obj.XML=d.toString(),this.DisplayMessage="";let p=this.SaveTeam();this.DisplayMessage=p.Message,h=p.RetValue,h>0&&(this.MessageVisibility=!0,this.LoadData(),this.Name.Text="",null!=this.oParent&&this.oParent.Refresh(),this.Status.SelectedValue="101",Logger.InfoLog("TeamViewModel :: Exiting OnSaveLead"))}Logger.InfoLog("TeamViewModel ::  OnSave Exit")}SaveTeam(){Logger.InfoLog("Cases::Exiting SaveCases");try{let r=[];r.push(this.obj.Name),r.push(this.obj.XML),r.push(this.obj.Status),r.push(this.obj.TeamID),r.push(E.d.SessionManager.CompanyGUID),r.push(E.d.SessionManager.UserName),r.push(E.d.SessionManager.UserID),r.push(E.d.SessionManager.RoleID),r.push(E.d.SessionManager.LanguageID);let d=E.d.crmService.SaveTeam(r);return Logger.InfoLog("SaveTeam::Exiting SaveTeam"),d}catch(r){return Logger.ErrorLog("SaveTeam::SaveTeam"+r.stack),""}}MoveItem(r){switch(Logger.InfoLog("TeamViewModel ::  MoveItem Enter"),r){case"Left1":-1!=this.LOSelectedIndex&&(this.Check(this.lstOwnersLeft[this.LOSelectedIndex].CostCenterColID)?(this.lst.push(new I(this.lstOwnersLeft[this.LOSelectedIndex].CostCenterColID)),this.lstOwnersRight.Insert(this.lstOwnersRight.length,this.lstOwnersLeft[this.LOSelectedIndex]),this.lstOwnersLeft.RemoveAt(this.LOSelectedIndex)):alert("User is aleady selected in Members list"));break;case"Right1":-1!=this.ROSelectedIndex&&(this.lstOwnersLeft.Insert(this.lstOwnersLeft.length,this.lstOwnersRight[this.ROSelectedIndex]),this.lst.Remove(new I(this.lstOwnersRight[this.ROSelectedIndex].CostCenterColID)),this.lstOwnersRight.RemoveAt(this.ROSelectedIndex));break;case"Left2":-1!=this.LMSelectedIndex&&(this.Check(this.lstMembersLeft[this.LMSelectedIndex].CostCenterColID)?(this.lst.push(new I(this.lstMembersLeft[this.LMSelectedIndex].CostCenterColID)),this.lstMembersRight.Insert(this.lstMembersRight.length,this.lstMembersLeft[this.LMSelectedIndex]),this.lstMembersLeft.RemoveAt(this.LMSelectedIndex)):alert("User is aleady selected in Owners list"));break;case"Right2":-1!=this.RMSelectedIndex&&(this.lstMembersLeft.Insert(this.lstMembersLeft.length,this.lstMembersRight[this.RMSelectedIndex]),this.lst.Remove(new I(this.lstMembersRight[this.RMSelectedIndex].CostCenterColID)),this.lstMembersRight.RemoveAt(this.RMSelectedIndex))}Logger.InfoLog("TeamViewModel ::  MoveItem Leave")}ListViewUserSelectionChange(r){"Right"==r.toString()&&-1!=this.RMSelectedIndex&&this.lstMembersRight.length>0&&(this.SelectedUserViewColumn=this.lstMembersRight[this.RMSelectedIndex])}ListViewSelectionChange(r){"Right"==r.toString()&&-1!=this.ROSelectedIndex&&this.lstOwnersRight.length>0&&(this.SelectedOwnerViewColumn=this.lstOwnersRight[this.ROSelectedIndex])}LoadData(){Logger.InfoLog("TeamViewModel ::  LoadData Enter");let r=[];r.push(this.ID),r.push(E.d.SessionManager.UserID),r.push(E.d.SessionManager.LanguageID);let d="?CompanyIndex="+E.d.SessionManager.CompanyIndex+"&param="+JSON.stringify(r),h=E.d.crmService.GetTeamScreenDetails(d);if(null!=h&&h.Tables.length>0){for(let C=0;C<h.Tables[0].length;C++)this.Status.Items.push(O._p.ComboBoxItems_2(h.Tables[0][C].Status.toString(),h.Tables[0][C].StatusID.toString()));this.FillOwnersLeftList(null,1,h),this.FillMembersLeftList(null,1,h),this.Status.SelectedValue="420"}Logger.InfoLog("TeamViewModel ::  LoadData Leave")}FillOwnersLeftList(r,d,h){Logger.InfoLog("TeamViewModel ::  LoadData FillOwnersLeftList"),this.lstOwnersLeft=[],this.lstOwnersRight=[];for(let p=0;p<h.Tables[d].length;p++)(r=new A).CostCenterColID=parseInt(h.Tables[d][p].UserID.toString()),r.UserColumnName=h.Tables[d][p].UserName.toString(),this.lstOwnersLeft.push(r);Logger.InfoLog("TeamViewModel ::  OnLeave FillOwnersLeftList")}FillOwnersRightList(r,d,h){Logger.InfoLog("TeamViewModel ::  LoadData FillOwnersLeftList"),this.lstOwnersRight=[];for(let p=0;p<h.Tables[d].length;p++)(r=new A).CostCenterColID=parseInt(h.Tables[d][p].UserID.toString()),r.UserColumnName=h.Tables[d][p].UserName.toString(),this.lstOwnersRight.push(r),this.lst.push(new I(r.CostCenterColID));Logger.InfoLog("TeamViewModel ::  OnLeave FillOwnersLeftList")}FillMembersRightList(r,d,h){Logger.InfoLog("TeamViewModel ::  LoadData FillOwnersLeftList"),this.lstMembersRight=[];for(let p=0;p<h.Tables[d].length;p++)(r=new A).CostCenterColID=parseInt(h.Tables[d][p].UserID.toString()),r.UserColumnName=h.Tables[d][p].UserName.toString(),this.lstMembersRight.push(r),this.lst.push(new I(r.CostCenterColID));Logger.InfoLog("TeamViewModel ::  OnLeave FillOwnersLeftList")}FillMembersLeftList(r,d,h){Logger.InfoLog("TeamViewModel ::  LoadData FillOwnersLeftList"),this.lstMembersLeft=[],this.lstMembersRight=[];for(let p=0;p<h.Tables[d].length;p++)(r=new A).CostCenterColID=parseInt(h.Tables[d][p].UserID.toString()),r.UserColumnName=h.Tables[d][p].UserName.toString(),this.lstMembersLeft.push(r);Logger.InfoLog("TeamViewModel ::  OnLeave FillOwnersLeftList")}}class I{constructor(r){this.User=0,this.User=r}}class A{}},76868:(R,G,a)=>{a.r(G),a.d(G,{AddEditCampaignComponent:()=>i});var e=a(96598);let i=(()=>{class O{constructor(){}ngOnInit(){}static{this.\u0275fac=function(I){return new(I||O)}}static{this.\u0275cmp=e.VBU({type:O,selectors:[["app-add-edit-campaign"]],standalone:!1,decls:3,vars:0,template:function(I,A){1&I&&(e.j41(0,"p"),e.EFF(1,"add-edit-campaign works!"),e.k0s(),e.EFF(2,"\n"))},encapsulation:2})}}return O})()},83278:(R,G,a)=>{a.r(G),a.d(G,{RibbonExtCrm:()=>Fe});var e=a(32040),i=a(96598),O=a(96336),E=a(43357),L=a(11798),I=a(67700);function A(S,s){if(1&S&&(i.j41(0,"div",9),i.EFF(1,"\n          "),i.eu8(2,10),i.EFF(3,"\n        "),i.k0s()),2&S){const t=i.XpG().$implicit,n=i.XpG();i.R7$(2),i.Y8G("obj",t)("group",n.obj.ScreenObject.form)}}function y(S,s){if(1&S&&(i.qex(0),i.EFF(1,"\n        "),i.DNE(2,A,4,2,"div",8),i.EFF(3,"\n      "),i.bVm()),2&S){const t=s.$implicit;i.R7$(2),i.Y8G("ngIf",t.Visible)}}function r(S,s){if(1&S){const t=i.RV6();i.j41(0,"button",11),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.obj.OnSaveCustomer("Details"))}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}2&S&&(i.R7$(),i.JRh(i.bMT(2,1,"QuidAdd_Details")))}function d(S,s){if(1&S){const t=i.RV6();i.j41(0,"button",12),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.obj.OnSaveCustomer("ApproveMaster"))}),i.nrm(1,"i",5),i.EFF(2),i.nI1(3,"translate"),i.k0s()}2&S&&(i.R7$(2),i.JRh(i.bMT(3,1,"Approve")))}let h=(()=>{class S{constructor(t){this.translate=t}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||S)(i.rXU(O.c$))}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["app-quick-add-customer"]],standalone:!1,decls:22,vars:7,consts:[[1,"master-screen",3,"formGroup"],[1,"PACTHeaderFields","dialogSubBody"],[4,"ngFor","ngForOf"],[1,"Pactdailogfooter"],[1,"primary-btn-wicon",3,"click"],[1,"fa-light","fa-floppy-disk"],["class","secondary-btn-wicon",3,"click",4,"ngIf"],["class","secondary-btn",3,"click",4,"ngIf"],["class","form-group col PACTControl",4,"ngIf"],[1,"form-group","col","PACTControl"],["FieldDirective","",3,"obj","group"],[1,"secondary-btn-wicon",3,"click"],[1,"secondary-btn",3,"click"]],template:function(n,o){1&n&&(i.j41(0,"div",0),i.EFF(1,"\n    "),i.j41(2,"div",1),i.EFF(3,"\n      "),i.DNE(4,y,4,1,"ng-container",2),i.EFF(5,"\n  "),i.k0s(),i.EFF(6,"\n\n  "),i.j41(7,"div",3),i.EFF(8,"\n    "),i.j41(9,"div"),i.EFF(10,"\n        "),i.j41(11,"button",4),i.bIt("click",function(){return o.obj.OnSaveCustomer("Save")}),i.nrm(12,"i",5),i.EFF(13),i.nI1(14,"translate"),i.k0s(),i.EFF(15,"\n        "),i.DNE(16,r,3,3,"button",6),i.EFF(17,"\n        "),i.DNE(18,d,4,3,"button",7),i.EFF(19,"\n    "),i.k0s(),i.EFF(20,"      \n  "),i.k0s(),i.EFF(21,"\n"),i.k0s()),2&n&&(i.Y8G("formGroup",o.obj.ScreenObject.form),i.R7$(4),i.Y8G("ngForOf",o.obj.ScreenObject.QuickAddFields),i.R7$(9),i.JRh(i.bMT(14,5,"Save")),i.R7$(3),i.Y8G("ngIf",o.obj.DetailButtonVisibility),i.R7$(2),i.Y8G("ngIf",o.obj.ScreenObject.ButtonApproveVisible))},dependencies:[E.Sq,E.bT,L.cb,L.j4,I._,O.D9],encapsulation:2})}}return S})();var p=a(74523),C=a(43767),c=a(54581),v=a(98580),_=a(85985),m=a(84151),f=a(23458),b=a(27730),T=a(82503),g=a(98342),M=a(2604),N=a(45454),k=a(13054),U=a(41264),X=a(41820);class Q extends v.g{get CustomerID(){return this.obj.CustomerID}set CustomerID(s){this.obj.CustomerID=s}constructor(s,t,n,o,D){super(),this.Height=700,this.obj=new g.C,this.ScreenObject=new _.ControlGenerator,this.ParentId=0,this.CustomerCode=null,this.CustomerName=null,this.Status=null,this.Group=null,this.QuickAddVisibility=!1,this.DetailButtonVisibility=!0,this.RetVal=0,this.Load(s,t,n,t>0&&1==o||o,D)}Load(s,t,n,o,D){this.Parent=D,this.CustomerID=s,this.obj.CustomerID=this.CustomerID,this.ScreenObject.LoadQuickScreen(this,83,o),this.CustomerCode=this.ScreenObject.GetQuickCode(24200),this.CustomerName=this.ScreenObject.GetQuickText(24201),this.Status=this.ScreenObject.GetQuickCombo(24204),this.ParentId=n,this.obj.ParentID=n,this.obj.IsGroup=o,null!=this.Status&&(this.ScreenObject.Data.Tables[3].forEach(u=>{this.Status.Items.push(b._p.ComboBoxItems_2(u.Status.toString(),u.StatusID.toString()))}),this.Status.SelectedValue="393"),this.ScreenObject.InitAutoCode(this.ScreenObject.Data.Tables[6],this.obj.IsGroup),this.obj.CustomerID>0&&0==o?(this.LoadEditData(),null!=this.Group&&(this.Group.Enable=!1,this.Group.CCID=83,this.Group.TypeID=2)):(this.obj.GUID="",null!=this.Group&&(this.Group.CCID=83,this.Group.TypeID=2)),this.DisplayName=this.ScreenName,this.obj.SelectedNodeID=t,this.obj.IsGroup=o,0==this.CustomerID&&this.AutoGenerateCode();let l,j=this.ScreenObject.Data.Tables[5].filter(u=>"CapsLock"==u.Name);if(j.length>0&&(0,c.yG0)(j[0].Value)&&null!=this.CustomerName&&(this.CustomerName.IsAllCaps=!0),j=this.ScreenObject.Data.Tables[5].filter(u=>"CapsToFirstLetter"==u.Name),j.length>0&&(0,c.yG0)(j[0].Value)&&null!=this.CustomerName&&(this.CustomerName.IsFirstLetterCaps=!0),o?(this.DetailButtonVisibility=!1,this.CustomerID>0?(this.LoadEditData(),this.Title=e.d.GetResource("Customer_EditGroup")):this.Title=e.d.GetResource("Customer_AddGroup")):this.Title=e.d.GetResource(this.CustomerID>0?"Customer_EditCustomer":"Customer_AddCustomer"),this.QuickAddVisibility=!0,this.DisplayName=this.Title,null!=this.Group&&(this.Group.SelectedValue=n),null!=this.ScreenObject.HeaderFields)for(let u=0;u<this.ScreenObject.StaticFields.length;u++)l=this.ScreenObject.StaticFields[u],l&&null!=l.ToolTipFooterTitle&&null!=l.KeyTip?this.SetControlEvent(l):this.CustomerID>0&&l&&null!=l.ToolTipFooterTitle&&null!=l.KeyTip&&19==l.Mode&&this.OnGetExtFunctionData(l);if(null!=this.ScreenObject.HeaderFields)for(let u=0;u<this.ScreenObject.HeaderFields.length;u++)l=this.ScreenObject.HeaderFields[u],l&&null!=l.ToolTipFooterTitle&&null!=l.KeyTip?this.SetControlEvent(l):this.CustomerID>0&&l&&null!=l.ToolTipFooterTitle&&null!=l.KeyTip&&19==l.Mode&&this.OnGetExtFunctionData(l);Logger.InfoLog("QuickAddCustomersViewModel::Exiting QuickAddCustomersViewModel")}SetControlEvent(s){try{s instanceof m.Dw?s.LostFocusCommand.Subscribe(this,"OnGetExtFunctionData"):s instanceof b.y$?s.SelectionChangedCommand.Subscribe(this,"OnGetExtFunctionData"):s instanceof k.I||s instanceof m.L6?s.LostFocusCommand.Subscribe(this,"OnGetExtFunctionData"):s instanceof f.y$?s.OnPactListBoxValueChanged.Subscribe(this,"OnGetExtFunctionData"):(s instanceof T.Lc||s instanceof T.P6||s instanceof T.C_)&&s.SelectedDateChanged.Subscribe(this,"OnGetExtFunctionData"),this.CustomerID>0&&19==s.Mode&&this.OnGetExtFunctionData(s)}catch{}}OnGetExtFunctionData(s){null!=s.ToolTipFooterTitle&&!C.J0.IsEmpty(s.KeyTip)&&"lostfocus"==s.KeyTip.toLowerCase()&&this.ScreenObject.ValidateExtData(s,null,!0)&&this.ScreenObject.GetExternalFuncData(s.Mode,this.CustomerID,s.ToolTipFooterTitle,s.ToolTipFooterDescription,s.ToolTipDescription,null,null)}AutoGenerateCode(){0==this.CustomerID&&null!=this.CustomerCode&&this.ScreenObject.SetAutoCode(this.CustomerCode,this.obj.IsGroup,this.ParentId,this.ScreenObject.Data.Tables[6])}LoadEditData(){Logger.InfoLog("QuickAddCustomersViewModel::Entering LoadEditData");let s=this.obj.GetCustomerDetails();null!=this.CustomerCode&&(this.CustomerCode.Text=this.obj.CustomerCode,(this.ScreenObject.InheritParentCode||this.ScreenObject.IsAutoCode)&&(this.CustomerCode.Enable=!1));let t=null;s.Tables[7].length>0&&(t=s.Tables[7][0]),this.ScreenObject.FillControls(s.Tables[0][0],s.Tables[1][0],t,null),null!=this.Group&&(this.Group.SelectedValue=parseInt(s.Tables[0][0].ParentID)),Logger.InfoLog("QuickAddCustomersViewModel::Exiting LoadEditData")}OnSaveCustomer(s){var t=this;return(0,p.A)(function*(){if("Cancel"==s.toString())null!=t.Parent?(t.Parent.QuickAddCustomersVisibility=!1,t.Parent.SetDetailsVisibile(),t.QuickAddVisibility=!1,t.Parent.DetailsVisibility=!0):e.d.page.HideDialog(t.PopUpGUID);else if("ApproveMaster"==s.toString()){let n=new U.i(83,t.obj.CustomerID,t.ScreenObject,t);e.d.page.ShowDialog(n,X.R,{ShowCenter:!0,Title:e.d.GetResource("ApproveReject")})}else if(Logger.InfoLog("QuickAddCustomersViewModel::Entering OnSaveCustomer"),"Details"==s.toString()){e.d.page.HideDialog(t.PopUpGUID);let n=new M.I(t.obj.CustomerID,t.obj.SelectedNodeID,t.obj.ParentID,t.obj.IsGroup);e.d.page.addNewTab({component:N.AddCustomerComponent,params:{obj:n}})}else try{let n=t.ScreenObject.ValidateData();if(!C.J0.IsEmpty(n))return t.DisplayMessage=n,void(t.MessageVisibility=!0);if(0==t.obj.CustomerID){if(null!=t.CustomerCode){let D={StrCode:t.obj.CustomerCode,CodePrefix:t.obj.CodePrefix,CodeNumber:t.obj.CodeNumber};if(t.DisplayMessage=t.ScreenObject.SetAutoCodeParams_3(t.CustomerCode,t.ParentId,t.ScreenObject.Data.Tables[6],D),t.obj.CustomerCode=D.StrCode,t.obj.CodePrefix=D.CodePrefix,t.obj.CodeNumber=D.CodeNumber,t.DisplayMessage.length>0)return}else t.obj.CustomerCode=null!=t.CustomerCode?t.CustomerCode.Text:"";if(null!=t.CustomerName&&null!=t.CustomerName.Text&&""!=t.CustomerName.Text.Trim()&&(t.obj.CustomerName=t.CustomerName.Text),null==t.obj.AliasName&&(t.obj.AliasName=""),t.obj.SelectedNodeID=null!=t.Group&&t.Group.SelectedValue>0?t.Group.SelectedValue:t.ParentId,null!=t.Status&&t.Status.Enable&&null!=t.Status.SelectedValue&&""!=t.Status.SelectedValue&&(t.obj.StatusID=parseInt(t.Status.SelectedValue)),0==t.CustomerID&&(t.obj.AliasName=t.obj.CustomerName),t.obj.ContactsXML="",t.obj.NotesXML="",t.obj.AttachmetsXML="",t.obj.AddressXML="",t.obj.CustomFieldsQuery=t.ScreenObject.GetQuickExtraFieldsQuery(),t.obj.CustomCostCenterFieldsQuery=t.ScreenObject.GetQuickExtraCCFieldsQuery(),t.obj.PrimaryContactQuery="",!t.ScreenObject.ValidateDataonSave())return;let o=t.obj.SaveCustomer();t.DisplayMessage=o.Message,t.RetVal=o.RetValue}else{t.obj.StatusID=t.ScreenObject.GetTextComboValue_int(24204,0);let o=t.ScreenObject.GetStaticFieldsQuery();if(t.obj.StaticFieldsQuery=o,t.obj.CustomFieldsQuery=t.ScreenObject.GetQuickExtraFieldsQuery(),t.obj.CustomCostCenterFieldsQuery=t.ScreenObject.GetQuickExtraCCFieldsQuery(),!t.ScreenObject.ValidateDataonSave())return;let D=t.obj.SaveCustomerQuick();t.DisplayMessage=D.Message,t.RetVal=D.RetValue}t.MessageVisibility=!0,t.RetVal>0&&(t.AutoGenerateCode(),null!=t.CustomerName&&(t.CustomerName.Text=""),null!=t.Group&&(t.Group.SelectedValue=t.ParentId),null!=t.Parent&&(null!=t.Parent.SelectedNode&&(t.Parent.tree[0].SetFocusNodeID=t.Parent.SelectedNode.Id),t.Parent.Refresh()),t.ScreenObject.Clear(),null!=t.CustomerCode&&(t.CustomerCode.Text=""),Logger.InfoLog("QuickAddCustomersViewModel::Exiting OnSaveCustomer"))}catch(n){Logger.ErrorLog("QuickAddCustomersViewModel:: OnSaveCustomer"+n.stack)}})()}GetCustomFieldsQuery(){let s,t="";return this.ScreenObject.CustomFields.forEach(n=>{(n instanceof m.Dw||n instanceof b.y$||n instanceof T.Lc)&&(s=null,t+=n.DBColumnName+"='null',")}),t.toString()}GetCustomCostCenterFieldsQuery(){let s,t="";return this.ScreenObject.CustomFields.forEach(n=>{n instanceof f.y$&&(s=null,t+=n.DBColumnName+"='null',")}),t}}var ee=a(58941),J=a(33692),Y=a(31343),B=a(56971),K=a(52436),H=a(86732);class V extends v.g{constructor(s,t,n,o,D){super(),this.LED=new H.k,this.ScreenObject=new _.ControlGenerator,this.parentid=1,this.selectedNode=0,this.group=!1,this.Company=null,this.Subject=null,this.Code=new m.s3(24198),this.Status=null,this.Mode=null,this.Group=null,this.Ret=0,this.RetValue=0,this.lstEventCtrls=[],this.CostCenterID=0,this.NodeID=0,this.ActVisibility=!1,this.ClassName="QuickAddLeads",this.parent=s,this.NodeID=t,this.parentid=n,this.selectedNode=D,this.CostCenterID=86,this.group=o,this.ButtonSave=new ee.v,this.ScreenObject.LoadQuickScreen(this,86,o),o?this.ActVisibility=!1:V.SetActivityUI(this,this.ScreenObject.dtActivityQuick),this.LED.LeadID=this.NodeID;let l,j=this.ScreenObject.GetQuickCode(24198);if(null!=j?this.Code=j:this.Code.Visible=!1,this.Company=this.ScreenObject.GetQuickText(24399),this.Status=this.ScreenObject.GetQuickCombo(24400),this.Mode=this.ScreenObject.GetQuickCombo(26637),this.Group=this.ScreenObject.GetQuickField(25905),this.Subject=this.ScreenObject.GetQuickText(25069),null!=this.Group&&(this.Group.Enable=!1,this.Group.CCID=86,this.Group.TypeID=2,this.Group.SelectedValue=n),null!=this.Status&&(this.ScreenObject.Data.Tables[3].forEach(u=>{this.Status.Items.push(b._p.ComboBoxItems_2(C.J0.String(u.Status),u.StatusID.toString()))}),this.Status.SelectedValue="415"),null!=this.Company){let u=this.ScreenObject.Data.Tables[4].filter(F=>"CapsLock"==F.Name);u.length>0&&(0,c.yG0)(u[0].Value)&&(this.Company.IsAllCaps=!0),u=this.ScreenObject.Data.Tables[4].filter(F=>"CapsToFirstLetter"==F.Name),u.length>0&&(0,c.yG0)(u[0].Value)&&(this.Company.IsFirstLetterCaps=!0)}this.ScreenObject.InitAutoCode(this.ScreenObject.Data.Tables[7],this.group),this.AutoGenerateCode(),0==this.NodeID?(this.Title=e.d.GetResource("CRMLead_AddLead"),this.LED.GUID="GUID"):(this.Title=e.d.GetResource("CRMLead_EditLead"),this.LoadEditData()),this.Title=0==this.group?e.d.GetResource(0==this.NodeID?"CRMLead_AddLead":"CRMLead_EditLead"):0==this.NodeID?e.d.GetResource("CRMLead_AddGroup"):"Edit Group",null!=this.Mode&&this.lstEventCtrls.push(this.Mode.DBColumnID),null!=this.Status&&this.lstEventCtrls.push(this.Status.DBColumnID);for(let u=0;u<this.ScreenObject.StaticFields.length;u++)l=this.ScreenObject.StaticFields[u],l&&null!=l.ToolTipFooterTitle&&null!=l.KeyTip&&!this.lstEventCtrls.Contains(l.DBColumnID)?this.SetControlEvent(l):this.NodeID>0&&l&&null!=l.ToolTipFooterTitle&&null!=l.KeyTip&&19==l.Mode&&this.OnGetExtFunctionData(l);if(null!=this.ScreenObject.HeaderFields)for(let u=0;u<this.ScreenObject.HeaderFields.length;u++)l=this.ScreenObject.HeaderFields[u],l&&null!=l.ToolTipFooterTitle&&null!=l.KeyTip&&!this.lstEventCtrls.Contains(l.DBColumnID)?this.SetControlEvent(l):this.NodeID>0&&l&&null!=l.ToolTipFooterTitle&&null!=l.KeyTip&&19==l.Mode&&this.OnGetExtFunctionData(l)}SetControlEvent(s){try{s instanceof m.Dw?s.LostFocusCommand.Subscribe(this,"OnGetExtFunctionData"):s instanceof b.y$?s.SelectionChangedCommand.Subscribe(this,"OnGetExtFunctionData"):s instanceof k.I||s instanceof m.L6?s.LostFocusCommand.Subscribe(this,"OnGetExtFunctionData"):s instanceof f.y$?s.OnPactListBoxValueChanged.Subscribe(this,"OnGetExtFunctionData"):(s instanceof T.Lc||s instanceof T.P6||s instanceof T.C_)&&s.SelectedDateChanged.Subscribe(this,"OnGetExtFunctionData"),this.NodeID>0&&19==s.Mode&&this.OnGetExtFunctionData(s)}catch{}}OnGetExtFunctionData(s){null!=s.ToolTipFooterTitle&&!C.J0.IsEmpty(s.KeyTip)&&"lostfocus"==s.KeyTip.toLowerCase()&&this.ScreenObject.ValidateExtData(s,null,!0)&&this.ScreenObject.GetExternalFuncData(s.Mode,this.NodeID,s.ToolTipFooterTitle,s.ToolTipFooterDescription,s.ToolTipDescription,null,null)}LoadEditData(){let s=this.LED.GetLead(this.NodeID);null!=s&&s.Tables.length>5&&s.Columns[5].Contains("ConvertFromLeadID")&&s.Tables[5].length>0&&parseInt(s.Tables[5][0][s.Columns[5][0]].toString())>0&&(this.ButtonSave.Enable=!1,this.DisplayMessage="Lead is converted to Opportunity cannot be edited"),null!=this.Code&&(this.Code.Text=s.Tables[0][0].Code.toString(),(this.ScreenObject.InheritParentCode||this.ScreenObject.IsAutoCode)&&(this.Code.Enable=!1)),this.LED.GUID=s.Tables[0][0].GUID.toString(),this.LED.Company=s.Tables[0][0].Company.toString(),this.LED.Code=s.Tables[0][0].Code.toString();let t=null;s.Tables[11].length>0&&(t=s.Tables[11][0]);let n=null;s.Tables[3].length>0&&(n=s.Tables[3][0]),this.ScreenObject.FillControls(s.Tables[0][0],s.Tables[4][0],t,n),this.ScreenObject.LoadPrimaryContactData(s.Tables[3],s.Columns[3]),this.ActVisibility&&!this.group&&s.Tables.length>7&&(this.ViewActivities.LoadActivityData(s.Tables[8]),this.ViewActivities.ActivityGridData.length>0?(this.ViewActivities.SelectedRow=this.ViewActivities.ActivityGridData[this.ViewActivities.ActivityGridData.length-1],this.ViewActivities.OnCmnItem_Click("EDIT","EDIT")):this.ActVisibility=!1),null!=this.Group&&(this.Group.SelectedValue=parseInt(s.Tables[0][0].ParentID)),null!=this.Status&&(this.Status.SelectedValue=s.Tables[0][0].StatusID.toString()),Logger.InfoLog("QuickAddCustomersViewModel::Exiting LoadEditData")}AutoGenerateCode(){let s;0==this.NodeID&&null!=this.Code&&this.ScreenObject.SetAutoCode(this.Code,this.group,this.parentid,this.ScreenObject.Data.Tables[7]);var t=this.ScreenObject.StaticFields.find(n=>26637==n.DBColumnID);t&&t instanceof b.y$&&(t.Items.Clear(),s=this.ScreenObject.Data.Tables[4].filter(n=>"IncludeNewInMode"==n.Name),s.length>0&&""!=s[0].Value.toString()&&(0,c.yG0)(s[0].Value.toString())&&(t.Items.push(b._p.ComboBoxItems_2("New","0")),t.SelectedValue="0"),s=this.ScreenObject.Data.Tables[4].filter(n=>"LinkDimension"==n.Name),s.length>0&&""!=s[0].Value.toString()&&t.Items.push(b._p.ComboBoxItems_2("Existing lead","1")),s=this.ScreenObject.Data.Tables[4].filter(n=>"AccountLinkDimension"==n.Name),s.length>0&&""!=s[0].Value.toString()&&t.Items.push(b._p.ComboBoxItems_2("Account","2")),s=this.ScreenObject.Data.Tables[4].filter(n=>"CustomerInMode"==n.Name),s.length>0&&(0,c.yG0)(s[0].Value)&&t.Items.push(b._p.ComboBoxItems_2("Customer","3")))}OnSave(s){if("Cancel"==s)this.parent.DetailsVisibility=!0;else if("ApproveMaster"==s.toString()){let t=new U.i(86,this.LED.LeadID,this.ScreenObject,this);e.d.page.ShowDialog(t,X.R,{ShowCenter:!0,Title:e.d.GetResource("ApproveReject")})}else if("Save"==s)try{this.LED.LeadID=this.NodeID,this.LED.IsGroup=this.group;let t=this.ScreenObject.ValidateData();if(!C.J0.IsEmpty(t))return this.DisplayMessage=t,void(this.MessageVisibility=!0);if(0==this.LED.LeadID){if(0==this.LED.LeadID&&null!=this.Code){let o={StrCode:this.LED.Code,CodePrefix:this.LED.CodePrefix,CodeNumber:this.LED.CodeNumber};if(this.DisplayMessage=this.ScreenObject.SetAutoCodeParams_3(this.Code,this.parentid,this.ScreenObject.Data.Tables[7],o),this.LED.Code=o.StrCode,this.LED.CodePrefix=o.CodePrefix,this.LED.CodeNumber=o.CodeNumber,this.DisplayMessage.length>0)return}if(this.Company&&(this.LED.Company=this.Company.Text),this.Subject?this.LED.Name=this.Subject.Text:this.Code&&(this.LED.Name=this.Code.Text),this.LED.StatusID=this.Status?parseInt(this.Status.SelectedValue):415,this.LED.SelectedNodeID=this.Group&&this.Group.SelectedValue>0?this.Group.SelectedValue:this.parentid,this.LED.Date=this.ScreenObject.GetDatePickerValue(25068,Date.Today()),this.LED.CampaignID=this.ScreenObject.GetPactListValue(25073,1),this.LED.SourceID=this.ScreenObject.GetTextComboValue_int(25071,0),this.LED.RatingID=this.ScreenObject.GetTextComboValue_int(25072,0),this.LED.IndustryID=this.ScreenObject.GetTextComboValue_int(25074,0),this.LED.Contact=this.ScreenObject.GetTextComboValue_int(26651,0),this.LED.Details=this.details(),this.ActVisibility){if(this.Activities.onSaveActivity("Save"),!C.J0.IsEmpty(this.Activities.DisplayMessage))return void(this.DisplayMessage=this.Activities.DisplayMessage);this.LED.ActivityXML=this.ViewActivities.ActivitiesXML()}else this.LED.ActivityXML="";if(this.LED.ProductsXML="",this.LED.TabXML="",this.LED.CustomFieldsQuery=this.ScreenObject.GetQuickExtraFieldsQuery(),this.LED.CustomCostCenterFieldsQuery=this.ScreenObject.GetQuickExtraCCFieldsQuery(),this.LED.NotesXML="",this.LED.FeedBackXML="",this.LED.CVRXML="",this.LED.AttachmentXML="",this.LED.ContactsXML="",this.LED.PrimaryContactXML=this.ScreenObject.GetPrimaryContact(),!this.ScreenObject.ValidateDataonSave())return;let n=this.LED.SaveLead();this.DisplayMessage=n.Message,this.Ret=n.RetValue}else{if(null!=this.Code&&(this.LED.Code=this.Code.Text),null!=this.Company&&(this.LED.Company=this.Company.Text),this.ActVisibility){if(this.Activities.onSaveActivity("Save"),!C.J0.IsEmpty(this.Activities.DisplayMessage))return void(this.DisplayMessage=this.Activities.DisplayMessage);this.LED.ActivityXML=this.ViewActivities.ActivitiesXML()}else this.LED.ActivityXML="";if(this.LED.StaticFieldsQuery=this.ScreenObject.GetStaticFieldsQuery(),this.LED.CustomFieldsQuery=this.ScreenObject.GetQuickExtraFieldsQuery(),this.LED.CustomCostCenterFieldsQuery=this.ScreenObject.GetQuickExtraCCFieldsQuery(),this.LED.Details=this.details(),!this.ScreenObject.ValidateDataonSave())return;let n=this.LED.SaveLeadQuick();this.DisplayMessage=n.Message,this.Ret=n.RetValue}this.MessageVisibility=!0,this.RetValue=this.Ret,this.Ret>0&&(null!=this.Company&&(this.Company.Text=""),null!=this.Status&&(this.Status.SelectedValue="415"),null!=this.parent&&(null!=this.parent.SelectedNode&&(this.parent.obj.SetFocusNodeID=this.parent.SelectedNode.Id),this.parent.Refresh()),this.AutoGenerateCode(),null!=this.Activities&&this.Activities.ClearFields())}catch(t){Logger.ErrorLog("SaveLeadViewModel:: OnSave"+t.stack)}else{let t=new B.p(this.NodeID,this.parentid,this.group);this.ScreenObject.StaticFields.forEach(n=>{var o=t.ScreenObject.StaticFields.find(D=>D.DBColumnID==n.DBColumnID);o&&(o instanceof m.Dw?o.Text=n.Text:o instanceof f.gH?n instanceof m.Dw&&(o.Text=n.Text):o instanceof b.y$||o instanceof f.y$?o.SelectedValue=n.SelectedValue:o instanceof T.Lc?o.Date=n.Date:o instanceof m.s3&&n instanceof m.s3&&(o.Text=n.Text,o.SuffixCode=n.SuffixCode,o.PrefixCode=n.PrefixCode))}),e.d.page.addNewTab({component:K.AddEditLeadComponent,params:{obj:t}}),e.d.page.HideDialog(this.PopUpGUID)}}static GetValidXml(s){return(s=(s=(s=s.Replace("&","&amp;")).Replace("'","&apos;&apos;")).Replace('"',"&quot;")).Replace("<","&lt;")}details(){Logger.InfoLog("AddEditLeads::Entering details");try{let s="";return 0==this.NodeID?(s+="<Row ",this.ScreenObject.StaticFields.forEach(t=>{"CRM_CONTACTS"==t.SysTableName.toUpperCase()&&("FirstName"==t.DBColumnName&&""!=t.Text?s+=' FirstName="'+V.GetValidXml(t.Text)+'"':"MiddleName"==t.DBColumnName&&""!=t.Text?s+=' MiddleName="'+V.GetValidXml(t.Text)+'"':"LastName"==t.DBColumnName&&""!=t.Text?s+=' LastName="'+V.GetValidXml(t.Text)+'"':"JobTitle"==t.DBColumnName&&""!=t.Text?s+=' JobTitle="'+V.GetValidXml(t.Text)+'"':"Phone1"==t.DBColumnName&&""!=t.Text?s+=' Phone1="'+V.GetValidXml(t.Text)+'"':"Phone2"==t.DBColumnName&&""!=t.Text?s+=' Phone2="'+V.GetValidXml(t.Text)+'"':"Email"==t.DBColumnName&&""!=t.Text?s+=' Email="'+V.GetValidXml(t.Text)+'"':"Fax"==t.DBColumnName&&""!=t.Text?s+=' Fax="'+V.GetValidXml(t.Text)+'"':"Department"==t.DBColumnName&&""!=t.Text&&(s+=' Department="'+V.GetValidXml(t.Text)+'"'))}),s+="/>"):this.ScreenObject.StaticFields.forEach(t=>{"CRM_CONTACTS"==t.SysTableName.toUpperCase()&&"CRM_CONTACTS"==t.SysTableName.toUpperCase()&&("FirstName"==t.DBColumnName&&""!=t.Text?s+=" FirstName='"+V.GetValidXml(t.Text)+"'":"MiddleName"==t.DBColumnName&&""!=t.Text?s+=" MiddleName='"+V.GetValidXml(t.Text)+"'":"LastName"==t.DBColumnName&&""!=t.Text?s+=" LastName='"+V.GetValidXml(t.Text)+"'":"JobTitle"==t.DBColumnName&&""!=t.Text?s+=" JobTitle='"+V.GetValidXml(t.Text)+"'":"Phone1"==t.DBColumnName&&""!=t.Text?s+=" Phone1='"+V.GetValidXml(t.Text)+"'":"Phone2"==t.DBColumnName&&""!=t.Text?s+=" Phone2='"+V.GetValidXml(t.Text)+"'":"Email"==t.DBColumnName&&""!=t.Text?s+=" Email='"+V.GetValidXml(t.Text)+"'":"Fax"==t.DBColumnName&&""!=t.Text?s+=" Fax='"+V.GetValidXml(t.Text)+"'":"Department"==t.DBColumnName&&""!=t.Text&&(s+=" Department='"+V.GetValidXml(t.Text)+"'"))}),s.toString()}catch{return""}}static SetActivityUI(s,t){if(t.length>0){s.ActVisibility=!0,s.Activities=new Y.ActivitiesViewModel(s,!1),s.Activities.IsPopup=!1,s.Activities.LoadCustomFields(86),s.Activities.AssignVisiblity=!1,s.Activities.HeaderVisible=!1,s.Activities.ButtonsVisible=!1,s.ViewActivities=new J.ViewActivitiesViewModel(s),s.ViewActivities.Activities=s.Activities;let n=t.filter(o=>"ActivityTypeName"==o.SysColumnName);s.Activities.ActivityType.Visible=n.length>0,n=t.filter(o=>"StatusID"==o.SysColumnName),s.Activities.StatusVisible=n.length>0,n=t.filter(o=>"Subject"==o.SysColumnName),s.Activities.Subject.Visible=n.length>0,n=t.filter(o=>"CRMCustomer"==o.SysColumnName),s.Activities.CRMCustomer.Visible=n.length>0,n=t.filter(o=>"CRMContactPerson"==o.SysColumnName),s.Activities.CRMContactPerson.Visible=n.length>0,n=t.filter(o=>"AssignUserID"==o.SysColumnName),s.Activities.AssignUserList.Visible=n.length>0,n=t.filter(o=>"Remarks"==o.SysColumnName),s.Activities.Remarks.Visible=n.length>0,s.Activities.Fields.forEach(o=>{n=t.filter(D=>D.SysColumnName==o.SysColumnName),o.Visible=n.length>0})}else s.ActVisibility=!1}}function te(S,s){if(1&S&&(i.j41(0,"div",9),i.EFF(1,"\n          "),i.eu8(2,10),i.EFF(3,"\n        "),i.k0s()),2&S){const t=i.XpG().$implicit,n=i.XpG();i.R7$(2),i.Y8G("obj",t)("group",n.obj.ScreenObject.form)}}function se(S,s){if(1&S&&(i.qex(0),i.EFF(1,"\n        "),i.DNE(2,te,4,2,"div",8),i.EFF(3,"\n      "),i.bVm()),2&S){const t=s.$implicit;i.R7$(2),i.Y8G("ngIf",t.Visible)}}function ie(S,s){if(1&S){const t=i.RV6();i.j41(0,"button",11),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.obj.OnSave("ApproveMaster"))}),i.nrm(1,"i",5),i.EFF(2),i.nI1(3,"translate"),i.k0s()}2&S&&(i.R7$(2),i.JRh(i.bMT(3,1,"Approve")))}let ne=(()=>{class S{constructor(t){this.translate=t}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||S)(i.rXU(O.c$))}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["app-quick-add-lead"]],standalone:!1,decls:24,vars:9,consts:[[1,"master-screen",3,"formGroup"],[1,"PACTHeaderFields","dialogSubBody"],[4,"ngFor","ngForOf"],[1,"Pactdailogfooter"],[1,"primary-btn-wicon",3,"click"],[1,"fa-light","fa-floppy-disk"],[1,"secondary-btn-wicon",3,"click"],["class","secondary-btn",3,"click",4,"ngIf"],["class","form-group col PACTControl",4,"ngIf"],[1,"form-group","col","PACTControl"],["FieldDirective","",3,"obj","group"],[1,"secondary-btn",3,"click"]],template:function(n,o){1&n&&(i.j41(0,"div",0),i.EFF(1,"\n    "),i.j41(2,"div",1),i.EFF(3,"\n      "),i.DNE(4,se,4,1,"ng-container",2),i.EFF(5,"\n  "),i.k0s(),i.EFF(6,"\n\n  "),i.j41(7,"div",3),i.EFF(8,"\n    "),i.j41(9,"div"),i.EFF(10,"\n        "),i.j41(11,"button",4),i.bIt("click",function(){return o.obj.OnSave("Save")}),i.nrm(12,"i",5),i.EFF(13),i.nI1(14,"translate"),i.k0s(),i.EFF(15,"\n        "),i.j41(16,"button",6),i.bIt("click",function(){return o.obj.OnSave("Details")}),i.EFF(17),i.nI1(18,"translate"),i.k0s(),i.EFF(19,"\n        "),i.DNE(20,ie,4,3,"button",7),i.EFF(21,"\n    "),i.k0s(),i.EFF(22,"      \n  "),i.k0s(),i.EFF(23,"\n"),i.k0s()),2&n&&(i.Y8G("formGroup",o.obj.ScreenObject.form),i.R7$(4),i.Y8G("ngForOf",o.obj.ScreenObject.QuickAddFields),i.R7$(9),i.JRh(i.bMT(14,5,"Save")),i.R7$(4),i.JRh(i.bMT(18,7,"QuidAdd_Details")),i.R7$(3),i.Y8G("ngIf",o.obj.ScreenObject.ButtonApproveVisible))},dependencies:[E.Sq,E.bT,L.cb,L.j4,I._,O.D9],encapsulation:2})}}return S})();var W=a(70939),oe=a(38258),ae=a(78905),le=a(24980),x=a(73215),w=a(63290),re=a(17820),ce=a(96586),de=a(95076),ue=a(99668),he=a(81061),me=a(31398),z=a(19931),pe=a(76868),Ce=a(51470),Z=a(65452),P=a(88750);class $ extends v.g{constructor(s,t,n,o,D){super(),this.lstatusid="",this.AllowCreationofCase=!1,this.ActMandatory=!1,this.ScreenObject=new _.ControlGenerator,this.Casesmodel=new Ce.K,this.CaseID=0,this.parentid=1,this.selectedNode=1,this.group=!1,this.GroupVisible=!1,this.QuickVisible=!0,this.DetailButtonVisibility=!0,this.RetValue=0,this.CName=new m.s3(0),this.CaseDate=new T.Lc(0),this.Status=new b.y$(0),this.Customer=new f.y$(0),this.Group=new f.y$(0),this.dsinfo=null,this.lstEventCtrls=[],this.CostCenterID=0,this.NodeID=0,this.ActVisibility=!1,this.CaseID=t;let j=this.Casesmodel.GetCaseScreenDetails(this.CaseID);this.parent=s,this.parentid=n,this.selectedNode=D,this.CostCenterID=73,this.group=o,this.ScreenObject.LoadQuickScreen(this,73,this.group),o?(this.GroupVisible=!0,this.QuickVisible=!1,this.CName.Label=e.d.GetResource("CRMCases_CaseNumber"),this.CaseDate.Label=e.d.GetResource("CRMCases_CaseDate"),this.Status.Label=e.d.GetResource("CRMCases_Status"),this.Group.Label=e.d.GetResource("CRMCases_Group"),this.Customer.Label=e.d.GetResource("CRMCases_Customer")):(this.QuickVisible=!0,this.GroupVisible=!1,this.CaseDate=this.ScreenObject.GetQuickField(24233),null==this.CaseDate&&(this.CaseDate=new T.Lc(24233),this.CaseDate.Visible=!1,this.CaseDate.Date=Date.Today()),this.CName=this.ScreenObject.GetQuickCode(24234),this.Status=this.ScreenObject.GetQuickCombo(24235),null==this.Status&&(this.Status=new b.y$(24235),this.Status.Visible=!1),this.Customer=this.ScreenObject.GetQuickField(24238),null==this.Customer&&(this.Customer=new f.y$(24238),this.Customer.Visible=!1),this.Group=this.ScreenObject.GetQuickField(24398),null==this.Group&&(this.Group=new f.y$(24398)),this.FillComboBoxItems(j)),null!=this.Group?(this.Group.Visible=!0,this.Group.CCID=73,this.Group.TypeID=2):(this.Group=new f.y$(0),this.Group.SelectedValue=n),null!=this.Customer&&(this.Customer.CCID=83,this.Customer.TypeID=1),this.dsinfo=this.ScreenObject.Data,this.ScreenObject.Data=this.dsinfo,this.ScreenObject.CostCenterID=73,o?this.ActVisibility=!1:($.SetActivityUI(this,this.ScreenObject.dtActivityQuick),null!=this.Activities&&this.Activities.AssignRowColumns()),0==this.group?this.Title=e.d.GetResource(0==this.CaseID?"CRMCase_AddCase":"CRMCase_EditCase"):(this.Title=e.d.GetResource("CRMLead_AddGroup"),this.DetailButtonVisibility=!1,this.Casesmodel.GUID="GUID"),this.Casesmodel.CaseID=this.CaseID,null!=this.ScreenObject.Data&&this.ScreenObject.Data.Tables.length>7&&this.ScreenObject.Data.Columns[7].Contains("IsParentCodeInherited")&&this.ScreenObject.Data.Tables[7].length>0&&this.ScreenObject.InitAutoCode(this.ScreenObject.Data.Tables[7],this.group);let u,l=this.ScreenObject.Data.Tables[4].filter(F=>"AllowCreationofCase"==F.Name);l.length>0&&""!=l[0].Value.toString()&&(this.AllowCreationofCase=(0,c.yG0)(l[0].Value)),this.AllowCreationofCase&&(l=this.ScreenObject.Data.Tables[4].filter(F=>"StatusDuplicateCreationofCases"==F.Name),l.length>0&&""!=l[0].Value.toString()&&(this.lstatusid=l[0].Value.toString())),l=this.ScreenObject.Data.Tables[4].filter(F=>"Activitymandatorywhilecreatingcase"==F.Name),l.length>0&&""!=l[0].Value.toString()&&(this.ActMandatory=(0,c.yG0)(l[0].Value)),null!=this.Status&&this.dsinfo.Tables[5].forEach(F=>{this.Status.Items.push(b._p.ComboBoxItems_2(F.Name.toString(),F.NodeID.toString())),(0,c.yG0)(F.IsDefault)&&(this.Status.SelectedValue=F.NodeID.toString(),this.Status.DefaultValue=F.NodeID.toString())}),null!=this.Group&&this.Group.SelectionChangedCommand.Subscribe(this,"OnGroupSelectionChanged"),0==this.CaseID?(this.Group.SelectedValue=n,this.AutoGenerateCode(),this.Casesmodel.GUID="GUID",e.d.SessionManager.Preferences.ContainsKey("Date Format")&&(this.CaseDate.Text=(new Date).ToString(e.d.SessionManager.Preferences["Date Format"].toString()))):(j.Tables.length>4&&j.Tables[4].length>0&&((this.ScreenObject.InheritParentCode||this.ScreenObject.IsAutoCode)&&(this.CName.Enable=!1),this.Casesmodel.GUID=j.Tables[4][0].GUID.toString(),this.CaseDate.Date=C.J0.ParseDate(j.Tables[4][0].CDAte.toString()),this.CName.Text=j.Tables[4][0].CaseNumber.toString(),this.Status.SelectedValue=j.Tables[4][0].StatusID.toString(),this.Group.SelectedValue=parseInt(j.Tables[4][0].ParentID),this.Customer.SelectedValue=parseInt(j.Tables[4][0].CustomerID)),this.ActVisibility&&!this.group&&j.Tables.length>7&&(this.ViewActivities.LoadActivityData(j.Tables[7]),this.ViewActivities.ActivityGridData.length>0?(this.ViewActivities.SelectedRow=this.ViewActivities.ActivityGridData[this.ViewActivities.ActivityGridData.length-1],this.ViewActivities.OnCmnItem_Click("EDIT","EDIT")):this.ActVisibility=!1)),this.MessageVisibility=!1,null!=this.Group&&this.lstEventCtrls.push(this.Group.DBColumnID),null!=this.Status&&this.lstEventCtrls.push(this.Status.DBColumnID),null!=this.Customer&&this.lstEventCtrls.push(this.Customer.DBColumnID);for(let F=0;F<this.ScreenObject.StaticFields.length;F++)u=this.ScreenObject.StaticFields[F],u&&null!=u.ToolTipFooterTitle&&null!=u.KeyTip&&!this.lstEventCtrls.Contains(u.DBColumnID)?this.SetControlEvent(u):this.CaseID>0&&u&&null!=u.ToolTipFooterTitle&&null!=u.KeyTip&&19==u.Mode&&this.OnGetExtFunctionData(u);if(null!=this.ScreenObject.HeaderFields)for(let F=0;F<this.ScreenObject.HeaderFields.length;F++)u=this.ScreenObject.HeaderFields[F],u&&null!=u.ToolTipFooterTitle&&null!=u.KeyTip&&!this.lstEventCtrls.Contains(u.DBColumnID)?this.SetControlEvent(u):this.CaseID>0&&u&&null!=u.ToolTipFooterTitle&&null!=u.KeyTip&&19==u.Mode&&this.OnGetExtFunctionData(u)}SetControlEvent(s){try{s instanceof m.Dw?s.LostFocusCommand.Subscribe(this,"OnGetExtFunctionData"):s instanceof b.y$?s.SelectionChangedCommand.Subscribe(this,"OnGetExtFunctionData"):s instanceof k.I||s instanceof m.L6?s.LostFocusCommand.Subscribe(this,"OnGetExtFunctionData"):s instanceof f.y$?s.OnPactListBoxValueChanged.Subscribe(this,"OnGetExtFunctionData"):(s instanceof T.Lc||s instanceof T.P6||s instanceof T.C_)&&s.SelectedDateChanged.Subscribe(this,"OnGetExtFunctionData"),this.CaseID>0&&19==s.Mode&&this.OnGetExtFunctionData(s)}catch{}}OnGetExtFunctionData(s){null!=s.ToolTipFooterTitle&&!C.J0.IsEmpty(s.KeyTip)&&"lostfocus"==s.KeyTip.toLowerCase()&&this.ScreenObject.ValidateExtData(s,null,!0)&&this.ScreenObject.GetExternalFuncData(s.Mode,this.CaseID,s.ToolTipFooterTitle,s.ToolTipFooterDescription,s.ToolTipDescription,null,null)}FillComboBoxItems(s){this.cType=this.ScreenObject.GetQuickCombo(24397),null!=this.cType&&b.y$.FillComboWithDefaultOption(s.Tables[7],this.ScreenObject.GetQuickCombo(24397)),this.origin=this.ScreenObject.GetQuickCombo(24237),null!=origin&&b.y$.FillComboWithDefaultOption(s.Tables[6],this.ScreenObject.GetQuickCombo(24237)),this.priority=this.ScreenObject.GetQuickCombo(24236),null!=this.priority&&b.y$.FillComboWithDefaultOption(s.Tables[5],this.ScreenObject.GetQuickCombo(24236)),this.cmode=this.ScreenObject.GetQuickCombo(53516),null!=this.cmode&&(this.cmode.Items.Clear(),this.cmode.Items.push(b._p.ComboBoxItems_2("Manual","Manual")),this.cmode.Items.push(b._p.ComboBoxItems_2("PM","PM")),this.cmode.SelectedValue="Manual")}OnGroupSelectionChanged(s){this.Group.SelectedValue>0&&(this.parentid=this.Group.SelectedValue,this.AutoGenerateCode())}AutoGenerateCode(){this.ScreenObject.SetAutoCode(this.CName,this.group,this.parentid,this.dsinfo.Tables[7])}OnSave(s){if("Cancel"==s)e.d.page.HideDialog(this.PopUpGUID);else if("Save"==s)try{let t=0;if(!this.group&&(0==this.Customer.SelectedValue||null==this.Customer.SelectedValue))return this.DisplayMessage="Select "+this.Customer.Label,void(this.MessageVisibility=!0);if(0==this.Casesmodel.CaseID){if(0==this.Casesmodel.CaseID&&this.AllowCreationofCase){let o=0,D=0,j="";2==this.Customer.CCID?D=1:83==this.Customer.CCID&&(D=2);let l=e.d.common.GetDataSet3("CRM002",this.lstatusid.toString().Replace(";",","),D.toString(),this.Customer.SelectedValue.toString());if(null!=l&&l.Tables.length>0&&l.Tables[0].length>0&&""!=l.Tables[0][0][0].toString()&&(o=parseInt(l.Tables[0][0][1].toString()),j=l.Tables[0][0][0].toString(),o>0&&!confirm("Case already opened with Customer and Case Number is "+j+", Are you sure you want to continue?")))return}if(0==this.Casesmodel.CaseID&&this.ActMandatory)return void alert("Activity is mandatory");let n={StrCode:this.Casesmodel.CaseNumber,CodePrefix:this.Casesmodel.CodePrefix,CodeNumber:this.Casesmodel.CodeNumber};if(this.DisplayMessage=this.ScreenObject.SetAutoCodeParams_3(this.CName,this.parentid,this.ScreenObject.Data.Tables[7],n),this.Casesmodel.CaseNumber=n.StrCode,this.Casesmodel.CodePrefix=n.CodePrefix,this.Casesmodel.CodeNumber=n.CodeNumber,this.DisplayMessage.length>0)return}else this.Casesmodel.CaseNumber=this.CName.Text;if(this.group){if(null==this.CaseDate.Date)return this.MessageVisibility=!0,void(this.DisplayMessage="Please Enter Case Date");this.Casesmodel.CaseDate=this.CaseDate.Date,this.Casesmodel.StatusID=parseInt(this.Status.SelectedValue),this.Casesmodel.IsGroup=this.group,this.Casesmodel.Customer=this.Customer.SelectedValue,2==this.Customer.CCID?this.Casesmodel.CustomerMode=1:83==this.Customer.CCID&&(this.Casesmodel.CustomerMode=2),this.Casesmodel.SelectedNodeID=this.Group.SelectedValue}else{if(null==this.CaseDate.Date)return this.MessageVisibility=!0,void(this.DisplayMessage="Please Enter Case Date");this.Casesmodel.CaseDate=this.ScreenObject.GetDatePickerValue(24233,Date.Today()),""==this.Status.DefaultValue&&(this.Status.DefaultValue="0"),""==this.Customer.DefaultValue&&(this.Customer.DefaultValue="0"),""==this.Group.DefaultValue&&(this.Group.DefaultValue=this.selectedNode.toString()),this.Casesmodel.StatusID=this.ScreenObject.GetTextComboValue_int(24235,parseInt(this.Status.DefaultValue)),this.Casesmodel.IsGroup=this.group,this.Casesmodel.Customer=this.ScreenObject.GetPactListValue(24238,parseInt(this.Customer.DefaultValue)),2==this.Customer.CCID?this.Casesmodel.CustomerMode=1:83==this.Customer.CCID&&(this.Casesmodel.CustomerMode=2),this.Casesmodel.SelectedNodeID=null==this.ScreenObject.GetQuickField(24398)?this.selectedNode:this.ScreenObject.GetPactListValue(24398,parseInt(this.Group.DefaultValue))}if(this.ActVisibility){if(this.Activities.onSaveActivity("Save"),!C.J0.IsEmpty(this.Activities.DisplayMessage))return void(this.DisplayMessage=this.Activities.DisplayMessage);this.Casesmodel.ActivityXml=this.ViewActivities.ActivitiesXML()}else this.Casesmodel.ActivityXml="";if(this.Casesmodel.Subject=this.ScreenObject.GetTextComboValue_string(27293,""),null!=this.cType&&(this.Casesmodel.CaseTypeID=this.ScreenObject.GetTextComboValue_int(24397,0)),null!=origin&&(this.Casesmodel.CaseOriginID=this.ScreenObject.GetTextComboValue_int(24237,0)),null!=this.priority&&(this.Casesmodel.CasePriorityID=this.ScreenObject.GetTextComboValue_int(24236,0)),null!=this.cmode&&(this.Casesmodel.Mode=this.ScreenObject.GetTextComboValue_string(53516,"")),!this.ScreenObject.ValidateDataonSave())return;if(0==this.Casesmodel.CaseID){let n=this.Casesmodel.SaveCase(0,0);t=n.RetValue,this.DisplayMessage=n.Message}else{let n=this.Casesmodel.QuickUpdateCase();t=n.RetValue,this.DisplayMessage=n.RetValue}this.RetValue=t,t>0&&(this.CName.Text="",this.Casesmodel.CaseID=0,e.d.SessionManager.Preferences.ContainsKey("Date Format")&&(this.CaseDate.Text=(new Date).ToString(e.d.SessionManager.Preferences["Date Format"].toString())),this.Status.SelectedValue="1",null!=this.parent&&(null!=this.parent.SelectedNode&&(this.parent.tree[0].SetFocusNodeID=this.parent.SelectedNode.Id),this.parent.Refresh()),this.AutoGenerateCode(),this.Group.SelectedValue=this.selectedNode)}catch(t){Logger.ErrorLog("SaveCaseViewModel:: OnSave",t)}else if("Details"==s.toString()){null!=this.Group&&(this.parentid=this.Group.SelectedValue);let t=new P.AddEditCasesViewModel(this.CaseID,this.parentid,this.group);t.isClose||e.d.page.addNewTab({component:Z.AddEditCaseComponent,params:{obj:t}}),e.d.page.HideDialog(this.PopUpGUID)}}static SetActivityUI(s,t){if(t.length>0){s.ActVisibility=!0,s.Activities=new Y.ActivitiesViewModel(s,!1),s.Activities.IsPopup=!1,s.Activities.LoadCustomFields(73),s.Activities.AssignVisiblity=!1,s.Activities.HeaderVisible=!1,s.Activities.ButtonsVisible=!1,s.ViewActivities=new J.ViewActivitiesViewModel(s),s.ViewActivities.Activities=s.Activities;let n=t.filter(o=>"ActivityTypeName"==o.SysColumnName);s.Activities.ActivityType.Visible=n.length>0,n=t.filter(o=>"StatusID"==o.SysColumnName),s.Activities.StatusVisible=n.length>0,n=t.filter(o=>"Subject"==o.SysColumnName),s.Activities.Subject.Visible=n.length>0,n=t.filter(o=>"CRMCustomer"==o.SysColumnName),s.Activities.CRMCustomer.Visible=n.length>0,n=t.filter(o=>"CRMContactPerson"==o.SysColumnName),s.Activities.CRMContactPerson.Visible=n.length>0,n=t.filter(o=>"AssignUserID"==o.SysColumnName),s.Activities.AssignUserList.Visible=n.length>0,n=t.filter(o=>"Remarks"==o.SysColumnName),s.Activities.Remarks.Visible=n.length>0,s.Activities.Fields.forEach(o=>{n=t.filter(D=>D.SysColumnName==o.SysColumnName),o.Visible=n.length>0})}else s.ActVisibility=!1}}function fe(S,s){if(1&S&&(i.j41(0,"div",9),i.EFF(1,"\n          "),i.eu8(2,10),i.EFF(3,"\n        "),i.k0s()),2&S){const t=i.XpG().$implicit,n=i.XpG();i.R7$(2),i.Y8G("obj",t)("group",n.obj.ScreenObject.form)}}function be(S,s){if(1&S&&(i.qex(0),i.EFF(1,"\n        "),i.DNE(2,fe,4,2,"div",8),i.EFF(3,"\n      "),i.bVm()),2&S){const t=s.$implicit;i.R7$(2),i.Y8G("ngIf",t.Visible)}}let Se=(()=>{class S{constructor(t){this.translate=t}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||S)(i.rXU(O.c$))}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["app-quick-add-case"]],standalone:!1,decls:27,vars:11,consts:[[1,"master-screen",3,"formGroup"],[1,"PACTHeaderFields","dialogSubBody"],[4,"ngFor","ngForOf"],[1,"Pactdailogfooter"],[1,"primary-btn-wicon",3,"click"],[1,"fa-light","fa-floppy-disk"],[1,"secondary-btn-wicon",3,"click"],[1,"fa-light","fa-rectangle-xmark"],["class","form-group col PACTControl",4,"ngIf"],[1,"form-group","col","PACTControl"],["FieldDirective","",3,"obj","group"]],template:function(n,o){1&n&&(i.j41(0,"div",0),i.EFF(1,"\n    "),i.j41(2,"div",1),i.EFF(3,"\n      "),i.DNE(4,be,4,1,"ng-container",2),i.EFF(5,"\n  "),i.k0s(),i.EFF(6,"\n\n  "),i.j41(7,"div",3),i.EFF(8,"\n    "),i.j41(9,"div"),i.EFF(10,"\n        "),i.j41(11,"button",4),i.bIt("click",function(){return o.obj.OnSave("Save")}),i.nrm(12,"i",5),i.EFF(13),i.nI1(14,"translate"),i.k0s(),i.EFF(15,"\n        "),i.j41(16,"button",6),i.bIt("click",function(){return o.obj.OnSave("Details")}),i.EFF(17),i.nI1(18,"translate"),i.k0s(),i.EFF(19,"\n        "),i.j41(20,"button",6),i.bIt("click",function(){return o.obj.OnSave("Cancel")}),i.nrm(21,"i",7),i.EFF(22),i.nI1(23,"translate"),i.k0s(),i.EFF(24,"\n    "),i.k0s(),i.EFF(25,"      \n  "),i.k0s(),i.EFF(26,"\n"),i.k0s()),2&n&&(i.Y8G("formGroup",o.obj.ScreenObject.form),i.R7$(4),i.Y8G("ngForOf",o.obj.ScreenObject.QuickAddFields),i.R7$(9),i.JRh(i.bMT(14,5,"Save")),i.R7$(4),i.JRh(i.bMT(18,7,"QuidAdd_Details")),i.R7$(5),i.JRh(i.bMT(23,9,"Cancel")))},dependencies:[E.Sq,E.bT,L.cb,L.j4,I._,O.D9],encapsulation:2})}}return S})();var q=a(68869),De=a(90256),ge=a(31425);class Fe{static AddPage(s,t,n,o,D,j){let l=s.obj;if(83==l.CostCenterID)if(e.d.page.ShowLoading=!0,l.IsQuickNodeDefined&&!t){let u=new Q(o,l.SelectedNode.id,D,n?l.SelectedNode.IsGroup:j,s);e.d.page.ShowDialog(u,h)}else{let F={obj:new M.I(o,l.SelectedNode.id,D,!1)};e.d.page.addNewTab({component:N.AddCustomerComponent,params:F})}else if(86==l.CostCenterID)if(e.d.page.ShowLoading=!0,l.IsQuickNodeDefined&&!t){let u=new V(s,o,D,n?l.SelectedNode.IsGroup:j,l.SelectedNode.id);e.d.page.ShowDialog(u,ne)}else{let F={obj:new B.p(o,l.SelectedNode.id,!1)};e.d.page.addNewTab({component:K.AddEditLeadComponent,params:F})}else if(88==l.CostCenterID){e.d.page.ShowLoading=!0;let F={obj:new z.Q(o,l.SelectedNode.id)};e.d.page.addNewTab({component:pe.AddEditCampaignComponent,params:F})}else if(89==l.CostCenterID){e.d.page.ShowLoading=!0;{let F={obj:new W.AddEditOpportunity(o,l.SelectedNode.id,!1)};e.d.page.addNewTab({component:oe.AddEditOpportunityComponent,params:F})}}else if(91==l.CostCenterID){e.d.page.ShowLoading=!0;let F={obj:new q.TeamViewModel(o,l.SelectedNode.id)};e.d.page.addNewTab({component:De.TeamviewmodelComponent,params:F})}else if(73==l.CostCenterID)if(e.d.page.ShowLoading=!0,l.IsQuickNodeDefined&&!t){let u=new $(s,o,D,n?l.SelectedNode.IsGroup:j,l.SelectedNode.id);e.d.page.ShowDialog(u,Se)}else{let F={obj:new P.AddEditCasesViewModel(o,D,!1)};e.d.page.addNewTab({component:Z.AddEditCaseComponent,params:F})}else if(65==l.CostCenterID){e.d.page.ShowLoading=!0;{let F={obj:new ae.AddDContactViewModel(o,!1,l.SelectedNode.id)};e.d.page.addNewTab({component:le.m,params:F})}}}static Convert(s){if(s.SelectedNode.IsGroup)alert("Group cannot be converted ");else if(null!=s.SelectedNode)if(83==s.CostCenterID){let t=new M.I(83,s.SelectedNode.id,1,!1);t.CustomerID=s.SelectedNode.id;let n=new re.a;n.ConvertCustomer_1(t),e.d.page.ShowDialog(n,ce.Z,{ShowCenter:!0})}else if(86==s.CostCenterID){let t=(new H.k).GetLead(s.SelectedNode.id),n=null;if(n=t.Tables[2].filter(o=>"ConvertApprovedLeads"==o.Name),n.length>0)if(C.J0.IsEmpty(n[0].Value)||"0"==n[0].Value.toString()){let o=new x._(s.SelectedNode.id,t,s.CostCenterID);e.d.page.ShowDialog(o,w.i,{ShowCenter:!0})}else if((0,c.yG0)(n[0].Value)){if(null!=t&&t.Tables.length>1&&t.Tables[0].length>0&&t.Columns[0].Contains("IsApproved")&&(C.J0.IsEmpty(t.Tables[0][0].IsApproved)||!(0,c.yG0)(t.Tables[0][0].IsApproved)))return void alert("Lead should be in approved status! ");let o=new x._(s.SelectedNode.id,t,s.CostCenterID);e.d.page.ShowDialog(o,w.i,{ShowCenter:!0})}else{let o=new x._(s.SelectedNode.id,t,s.CostCenterID);e.d.page.ShowDialog(o,w.i,{ShowCenter:!0})}}else if(89==s.CostCenterID){let t=new x._(s.SelectedNode.id,null,s.CostCenterID);e.d.page.ShowDialog(t,w.i,{ShowCenter:!0})}}static Close(s,t){if(t.SelectedNode.IsGroup)alert("Group cannot be converted ");else if(null!=t.SelectedNode&&86==t.CostCenterID){let n=e.d.common.GetDataSet("CRM001",t.SelectedNode.id.toString());if(null!=n&&n.Tables.length>0&&n.Tables[0].length>0&&"419"==n.Tables[0][0].StatusID.toString()){let o=new de.V(t.SelectedNode.id,s,86);e.d.page.ShowDialog(o,ue.CloseLeadComponent,{ShowCenter:!0,NoWidth:!0})}else t.DisplayMessage="Select Assigned lead"}}static Assign(s,t){if(null!=t.SelectedNode){if(1==t.SelectedNode.id)return;let n=new Array;null!=t.SelectedNodes&&t.SelectedNodes.forEach(D=>{n.push(b.oN.CheckedListBoxItem_6(D.Text[0],D.Id.toString(),!0,D.TypeID))});let o=new he.AssignFeatureViewModel;n.length>0?o.AssignFeatureViewModel_2(this,n,t.CostCenterID):o.AssignFeatureViewModel_1(this,t.SelectedNode.id,t.CostCenterID),e.d.page.ShowDialog(o,me.AssignFeatureComponent)}}static LoadCRMScreen(s,t){return"6558"===s.FeatureActionID.toString()?{component:ge.TreeViewPageComponent,params:{ScreenName:s.ScreenName,FeatureActionID:s.FeatureActionID,CostCenterID:s.FeatureID,Call:"C3"},basedon:"CostCenterID"}:{}}static ShowQuickAdd_CRMIsQuick(s,t){if(83==s){let n=new Q(t,0,1,!1,null);return n.Height=400,e.d.page.ShowDialog(n,h),n.CustomerID}return 0}static ShowQuickAdd_CRM(s,t){if(83==s){let n=null;n=0==t?new M.I(0,0,1,!1):new M.I(83,t,1,!1),e.d.page.ShowDialog(n,N.AddCustomerComponent,{ShowCenter:!0})}}static GetCRMActivityScreen(s){let t=null;return 86==s.FeatureID?t=new B.p(s.DBColumnID,0,!1):89==s.FeatureID?t=new W.AddEditOpportunity(s.DBColumnID,0,!1):73==s.FeatureID?t=new P.AddEditCasesViewModel(s.DBColumnID,0,!1):88==s.FeatureID?t=new z.Q(s.DBColumnID,0):83==s.FeatureID?t=new M.I(s.DBColumnID,s.DBColumnID,0,!1):91==s.FeatureID&&(t=new q.TeamViewModel(s.DBColumnID,s.DBColumnID)),t}}},90256:(R,G,a)=>{a.r(G),a.d(G,{TeamviewmodelComponent:()=>r});var e=a(96598),i=a(43357),O=a(67700),E=a(96336);function L(d,h){if(1&d){const p=e.RV6();e.qex(0),e.EFF(1,"\n                                "),e.j41(2,"div",23),e.bIt("click",function(){const c=e.eBV(p).index,v=e.XpG();return e.Njj(v.obj.LOSelectedIndex=c)}),e.EFF(3,"\n                                    "),e.j41(4,"span",24),e.EFF(5),e.k0s(),e.EFF(6,"\n                                "),e.k0s(),e.EFF(7,"\n                            "),e.bVm()}if(2&d){const p=h.$implicit,C=h.index,c=e.XpG();e.R7$(2),e.AVh("selected",C==c.obj.LOSelectedIndex),e.R7$(3),e.JRh(p.UserColumnName)}}function I(d,h){if(1&d){const p=e.RV6();e.qex(0),e.EFF(1,"\n                            "),e.j41(2,"div",23),e.bIt("click",function(){const c=e.eBV(p).index,v=e.XpG();return e.Njj(v.obj.ROSelectedIndex=c)}),e.EFF(3,"\n                                "),e.j41(4,"span",24),e.EFF(5),e.k0s(),e.EFF(6,"\n                            "),e.k0s(),e.EFF(7,"\n                        "),e.bVm()}if(2&d){const p=h.$implicit,C=h.index,c=e.XpG();e.R7$(2),e.AVh("selected",C==c.obj.ROSelectedIndex),e.R7$(3),e.JRh(p.UserColumnName)}}function A(d,h){if(1&d){const p=e.RV6();e.qex(0),e.EFF(1,"\n                                "),e.j41(2,"div",23),e.bIt("click",function(){const c=e.eBV(p).index,v=e.XpG();return e.Njj(v.obj.LMSelectedIndex=c)}),e.EFF(3,"\n                                    "),e.j41(4,"span",24),e.EFF(5),e.k0s(),e.EFF(6,"\n                                "),e.k0s(),e.EFF(7,"\n                            "),e.bVm()}if(2&d){const p=h.$implicit,C=h.index,c=e.XpG();e.R7$(2),e.AVh("selected",C==c.obj.LMSelectedIndex),e.R7$(3),e.JRh(p.UserColumnName)}}function y(d,h){if(1&d){const p=e.RV6();e.qex(0),e.EFF(1,"\n                            "),e.j41(2,"div",23),e.bIt("click",function(){const c=e.eBV(p).index,v=e.XpG();return e.Njj(v.obj.RMSelectedIndex=c)}),e.EFF(3,"\n                                "),e.j41(4,"span",24),e.EFF(5),e.k0s(),e.EFF(6,"\n                            "),e.k0s(),e.EFF(7,"\n                        "),e.bVm()}if(2&d){const p=h.$implicit,C=h.index,c=e.XpG();e.R7$(2),e.AVh("selected",C==c.obj.RMSelectedIndex),e.R7$(3),e.JRh(p.UserColumnName)}}let r=(()=>{class d{constructor(){}ngOnInit(){this.obj=this.params.obj}static{this.\u0275fac=function(C){return new(C||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-teamviewmodel"]],standalone:!1,decls:96,vars:20,consts:[["id","maincontainer",1,"maincontainer","document_container"],[2,"flex-direction","column","justify-content","flex-end","width","Calc(100%)","display","flex"],[1,"page-header"],[1,"page-title"],[1,"btnMetroDiv","secondary-btn-group"],[1,"secondary-btn",3,"click"],[1,"fa-light","fa-floppy-disk"],[1,"main_div"],[1,"section"],[1,"form-row","row"],[1,"form-group","col-xl-6","col-md-6","col-sm-12","col-xs-12","PACTControl"],["FieldDirective","",1,"input_cntrl",3,"obj","group"],[1,"form-row","row",2,"display","flex","justify-content","space-evenly","margin","30px"],[1,"form-group","col-xl-4","col-md-4","col-sm-12","col-xs-12","PACTControl",2,"margin","auto"],[1,"input_cntrl_label"],[1,"teamDiv"],[4,"ngFor","ngForOf"],[1,"teamDiv",2,"display","flex","flex-direction","column","grid-gap","20px","align-items","center","border","none","justify-content","center"],[1,"primary-btn-wicon",3,"click"],[1,"fa-light","fa-left"],[1,"fa-light","fa-right"],[1,"form-group","col-xl-4","col-md-4","col-sm-12","col-xs-12","PACTControl","teamDiv",2,"margin","auto"],[1,"divChk","form-group","col-xl-4","col-md-4","col-sm-12","col-xs-12","PACTControl","teamDiv",2,"margin","auto"],[2,"flex-direction","column","margin-top","4px","gap","6px",3,"click"],[1,"input_checkbox_label"]],template:function(C,c){1&C&&(e.j41(0,"div",0),e.EFF(1,"\n    "),e.j41(2,"div",1),e.EFF(3,"\n        "),e.j41(4,"div",2),e.EFF(5,"\n            "),e.j41(6,"label",3),e.EFF(7),e.k0s(),e.EFF(8,"\n            "),e.j41(9,"div",4),e.EFF(10,"\n                "),e.j41(11,"span",5),e.bIt("click",function(){return c.obj.OnSave("Save")}),e.nrm(12,"i",6),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.EFF(15,"\n            "),e.k0s(),e.EFF(16,"\n        "),e.k0s(),e.EFF(17,"\n        "),e.j41(18,"div",7),e.EFF(19,"\n            "),e.j41(20,"div",8),e.EFF(21,"\n                "),e.j41(22,"div",9),e.EFF(23,"\n                    "),e.j41(24,"div",10),e.EFF(25,"\n                        "),e.qex(26,11),e.EFF(27,"\n                        "),e.bVm(),e.EFF(28,"\n                    "),e.k0s(),e.EFF(29,"\n                    "),e.j41(30,"div",10),e.EFF(31,"\n                        "),e.qex(32,11),e.EFF(33,"\n                        "),e.bVm(),e.EFF(34,"\n                    "),e.k0s(),e.EFF(35,"\n                "),e.k0s(),e.EFF(36,"\n                "),e.j41(37,"div",12),e.EFF(38,"\n                    "),e.j41(39,"div",13),e.EFF(40,"\n                        "),e.j41(41,"label",14),e.EFF(42,"AssignOwners"),e.k0s(),e.EFF(43,"\n                        "),e.j41(44,"div",15),e.EFF(45,"\n                            "),e.DNE(46,L,8,3,"ng-container",16),e.EFF(47,"\n                        "),e.k0s(),e.EFF(48,"\n                    "),e.k0s(),e.EFF(49,"\n                    "),e.j41(50,"div",17),e.EFF(51,"\n                        "),e.j41(52,"button",18),e.bIt("click",function(){return c.obj.MoveItem("Right1")}),e.nrm(53,"i",19),e.k0s(),e.EFF(54,"\n                        "),e.j41(55,"button",18),e.bIt("click",function(){return c.obj.MoveItem("Left1")}),e.nrm(56,"i",20),e.k0s(),e.EFF(57,"\n                    "),e.k0s(),e.EFF(58,"\n                    "),e.j41(59,"div",21),e.EFF(60,"\n                        "),e.DNE(61,I,8,3,"ng-container",16),e.EFF(62,"\n                    "),e.k0s(),e.EFF(63,"\n                "),e.k0s(),e.EFF(64,"\n                "),e.j41(65,"div",12),e.EFF(66,"\n                    "),e.j41(67,"div",13),e.EFF(68,"\n                        "),e.j41(69,"label",14),e.EFF(70,"AssignMembers"),e.k0s(),e.EFF(71,"\n                        "),e.j41(72,"div",15),e.EFF(73,"\n                            "),e.DNE(74,A,8,3,"ng-container",16),e.EFF(75,"\n                        "),e.k0s(),e.EFF(76,"\n                    "),e.k0s(),e.EFF(77,"\n                    "),e.j41(78,"div",17),e.EFF(79,"\n                        "),e.j41(80,"button",18),e.bIt("click",function(){return c.obj.MoveItem("Right2")}),e.nrm(81,"i",19),e.k0s(),e.EFF(82,"\n                        "),e.j41(83,"button",18),e.bIt("click",function(){return c.obj.MoveItem("Left2")}),e.nrm(84,"i",20),e.k0s(),e.EFF(85,"\n                    "),e.k0s(),e.EFF(86,"\n                    "),e.j41(87,"div",22),e.EFF(88,"\n                        "),e.DNE(89,y,8,3,"ng-container",16),e.EFF(90,"\n                    "),e.k0s(),e.EFF(91,"\n                "),e.k0s(),e.EFF(92,"\n            "),e.k0s(),e.EFF(93,"\n        "),e.k0s(),e.EFF(94,"\n    "),e.k0s(),e.EFF(95,"\n"),e.k0s()),2&C&&(e.R7$(7),e.SpI("\n                ",c.obj.Title,"\n            "),e.R7$(6),e.JRh(e.bMT(14,18,"Save")),e.R7$(13),e.Y8G("obj",c.obj.Name)("group",c.obj.form),e.R7$(6),e.Y8G("obj",c.obj.Status)("group",c.obj.form),e.R7$(12),e.AVh("columnflex",!c.obj.IsHorizontalOrientation),e.R7$(2),e.Y8G("ngForOf",c.obj.lstOwnersLeft),e.R7$(13),e.AVh("columnflex",!c.obj.IsHorizontalOrientation),e.R7$(2),e.Y8G("ngForOf",c.obj.lstOwnersRight),e.R7$(11),e.AVh("columnflex",!c.obj.IsHorizontalOrientation),e.R7$(2),e.Y8G("ngForOf",c.obj.lstMembersLeft),e.R7$(13),e.AVh("columnflex",!c.obj.IsHorizontalOrientation),e.R7$(2),e.Y8G("ngForOf",c.obj.lstMembersRight))},dependencies:[i.Sq,O._,E.D9],styles:[".teamDiv[_ngcontent-%COMP%]{height:300px;justify-content:flex-start;flex-basis:300px;padding:5px!important;overflow:auto;border:solid 1px #ccc}.teamDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px}.teamDiv[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background:#ffe2b7 0% 0% no-repeat padding-box;background-color:#ffe2b7}"]})}}return d})()}}]);
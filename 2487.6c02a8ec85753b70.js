"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[2487],{72487:(Ne,ut,O)=>{O.r(ut),O.d(ut,{GSTModule:()=>ye});var x=O(32881),Nt=O(52412),P=O(89417),y=O(9659),C=O(66148),F=O(4884),v=O(99393),w=O(76199),R=O(3955),U=O(29702),L=O(6190),H=O(39107),gt=O(16645);class ft{constructor(){this.CompanyStartRow=0,this.CompanyEndRow=0,this.DataStartRow=0,this.DataEndRow=0,this.TotalStartRow=0}}var W=function(A){return A[A.None=0]="None",A[A.GSTR1Summary=1]="GSTR1Summary",A}(W||{});class E{static{this.IsMultipleLocs=!1}static{this.LocationWhere=""}static{this.AllowGSTatVAT=!1}static{this.dicReports=new R.bT}static ColumnsXML(o,i){if(i==W.GSTR1Summary)return E.GSTSummaryColumnsXML(o);if(E.dicReports.ContainsKey(o))return E.dicReports[o];let a="";return"ANX1_B2C"==o?a+="<XML GroupBy='PoS,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN of Recipient</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_B2B"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='SaleType' Width='100' Combo='TEXT' InUse='0'><Caption>Sale Type</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_EXP"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='SaleType' Width='100' Combo='TEXT' InUse='0'><Caption>Sale Type</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='ExportType' Width='140' Combo='TEXT'><Caption>Export Type*</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='120'><Caption>Port Code</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='160'><Caption>Shipping Bill Number</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150'><Caption>Shipping Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_SEZ"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='GSTPaymentType' Width='140' Combo='TEXT'><Caption>GST Payment Type*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='WouldClaimRefund' Width='110' IsReadOnly='1'><Caption>Would You Claim Refund*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_DE"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Document Number*</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Document Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Document Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='WouldClaimRefund' Width='110' IsReadOnly='1'><Caption>Would You Claim Refund*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_ECOM"==o?a+="<XML GroupBy='RecipientGSTIN'>\n<Col ID='IsEcomCustomer' Width='110' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>Is Ecom Customer</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of E-com*</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Value of supplies made*</Caption><DType>FLOAT</DType></Col>\n<Col ID='RetInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Value of Suppies Returned*</Caption><DType>FLOAT</DType></Col>\n<Col ID='NetValue' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Net Value of Supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_REV"==o?a+="<XML GroupBy='SupplierGSTIN,hsnCode,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType' InUse='0'><Caption>Document Type*</Caption></Col>\n\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/PAN of Supplier*</Caption></Col>\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='DifferentialTaxRate' Width='120' IsReadOnly='1'><Caption>Differential % of Tax Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='SupplyUnderSec7' Width='155' IsReadOnly='1'><Caption>Supply Covered Under Sec 7 of IGST Act*</Caption></Col>\n<Col ID='SupplyType' Width='100' Combo='TEXT'><Caption>Supply Type</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_IMPS"==o?a+="<XML GroupBy='PoS,hsnCode,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType' InUse='0'><Caption>Document Type*</Caption></Col>\n\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='SupplyType' Width='100' Combo='TEXT'><Caption>Supply Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_IMPG"==o?a+="<XML GroupBy='PoS,hsnCode,BillNo,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n\n<Col ID='IMPGDocType' Width='110' IsReadOnly='1'><Caption>Document Type*</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='90'><Caption>Port Code*</Caption></Col>\n<Col ID='BillNo' Combo='TEXT' Width='160'><Caption>Bill of Entry Number*</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='150'><Caption>Bill of Entry Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Bill of Entry Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_IMPGSEZ"==o?a+="<XML GroupBy='SupplierGSTIN,PoS,PortCode,hsnCode,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PartyType' Width='100' Combo='TEXT' InUse='0'><Caption>Party Type</Caption></Col>\n\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/PAN of Supplier*</Caption></Col>\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal  Name</Caption></Col>\n<Col ID='IMPGDocType' Width='110' IsReadOnly='1'><Caption>Document Type*</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='90'><Caption>Port Code*</Caption></Col>\n<Col ID='BillNo' Combo='TEXT' Width='160'><Caption>Bill of Entry Number*</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='150'><Caption>Bill of Entry Date*</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Bill of Entry Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place of Supply*</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code*</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate*</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"ANX1_PurchaseRegister"==o?a+="<XML GroupBy='SupplierGSTIN,BillNo'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of supplier *</Caption></Col>\n<Col ID='SupplierName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Trade/Legal name</Caption></Col>\n<Col ID='InwardSuppType' Combo='TEXT' Width='160'><Caption>Type of inward supplies *</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='ANX1_B2BDocType'><Caption>Document Type*</Caption></Col>\n\n<Col ID='BillNo' Combo='TEXT' Width='160'><Caption>Document number *</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='150'><Caption>Document date *</Caption><DType>DATE</DType></Col>\n\n<Col ID='TotalTax' Combo='NUM' Width='110' Agg='SUM'><Caption>TotalTax*</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value*</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='130' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2b"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Receiver Name</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120'><Caption>Reverse Charge</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='InvType' Combo='TEXT' Width='110'><Caption>Invoice Type</Caption></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cl"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cs"==o?a+="<XML GroupBy='Type,PoS,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' InUse='0' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Type' Width='110' Combo='TEXT'><Caption>Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"cdnr"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='ReceiverName' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Receiver Name</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Note Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120'><Caption>Reverse Charge</Caption></Col>\n<Col ID='InvType' Combo='TEXT' Width='160'><Caption>Note Supply Type</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"cdnur"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='URType' Width='140' Combo='TEXT'><Caption>UR Type</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Note Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' IsOptional='1' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exp"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='ExportType' Width='140' Combo='TEXT'><Caption>Export Type</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PortCode' Combo='TEXT' Width='120'><Caption>Port Code</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='160'><Caption>Shipping Bill Number</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150'><Caption>Shipping Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"at"==o?a+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"atadj"==o?a+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ApplicableTaxRate' Combo='NUM' Width='130' IsOptional='1'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM' InUse='0'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvAdjusted' Combo='NUM' Width='150' Agg='SUM' IsReadOnly='1'><Caption>Gross Advance Adjusted</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exemp"==o?a+="<XML>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120' InUse='0'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Description' Width='240' IsReadOnly='1'><Caption>Description</Caption></Col>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='NilRated' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Nil Rated Supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='Exempted' ComboDefValue='3' Combo='TEXT' Width='180' Agg='SUM'><Caption>Exempted(other than nil rated/non GST supply)</Caption><DType>FLOAT</DType></Col>\n<Col ID='NonGST' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Non-GST supplies</Caption><DType>FLOAT</DType></Col>\n</XML>":"hsn"==o?a+="<XML GroupBy='HSN,UQC,Rate'>\n<Col ID='HSN' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN</Caption></Col>\n<Col ID='Description' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='PRType' Width='160' Combo='TEXT' ComboDefValue='3' IsOptional='1'><Caption>Product Type</Caption></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>UQC</Caption></Col>\n<Col ID='TotalQty' Combo='NUM' Width='120' Agg='SUM'><Caption>Total Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='TotalValue' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Agg='SUM' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"docs"==o?a+="<XML>\n<Col ID='NatureofDocument' Width='280' Combo='NatureofDocument'><Caption>Nature of Document</Caption></Col>\n<Col ID='SrNoFrom' Width='120' IsReadOnly='1'><Caption>Sr. No. From</Caption></Col>\n<Col ID='SrNoTo' Width='120' IsReadOnly='1'><Caption>Sr. No. To</Caption></Col>\n<Col ID='TotalNumber' Width='120' IsReadOnly='1' Decimals='0'><Caption>Total Number</Caption><DType>FLOAT</DType></Col>\n<Col ID='Cancelled' Width='110' IsReadOnly='1' Decimals='0'><Caption>Cancelled</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR1Summary"==o?a+="<XML>\n<Col ID='Particulars' Width='200' IsOptional='1' IsReadOnly='1'><Caption>Particulars</Caption></Col>\n<Col ID='Cnt' Width='80' IsOptional='1' IsReadOnly='1'><Caption>Count</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>State Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1' IsReadOnly='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n</XML>":"CT01"==o?a+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Invoice Number</Caption></Col>\n<Col ID='RecipientName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='receiver.name'><Caption>Customer Billing Name</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='receiver.gstin'><Caption>Customer Billing GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsBillOfSupply' Combo='TEXT' Width='130' IsOptional='1'><Caption>Is this a Bill of Supply?</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Invoice Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Invoice Number (In case of amendment)</Caption></Col>\n<Col ID='OrgRecipientName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Customer Billing GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='160' IsOptional='1'><Caption>GSTIN of Ecommerce Marketplace</Caption></Col>\n\n<Col ID='LinkAdvDocDate' Width='150' IsOptional='1' Combo='DATE'><Caption>Date of Linked Advance Receipt</Caption><DType>DATE</DType></Col>\n<Col ID='LinkAdvVoucherNo' Width='160' IsOptional='1' Combo='TEXT'><Caption>Voucher Number of Linked Advance Receipt</Caption></Col>\n<Col ID='LinkAdvAdjAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Adjustment Amount of the Linked Advance Receipt</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ExportType' Combo='TEXT' Width='140' IsOptional='1'><Caption>Type of Export</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='160' IsOptional='1'><Caption>Shipping Port Code - Export</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='150' IsOptional='1'><Caption>Shipping Bill Number - Export</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150' IsOptional='1'><Caption>Shipping Bill Date - Export</Caption><DType>DATE</DType></Col>\n\n<Col ID='HasGSTTDSDeducted' Combo='TEXT' Width='160' IsOptional='1'><Caption>Has GST/IDT TDS been deducted</Caption></Col>\n\n<Col ID='RecipientBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='receiver.address'><Caption>Customer Billing Address</Caption></Col>\n<Col ID='RecipientBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.city'><Caption>Customer Billing City</Caption></Col>\n<Col ID='RecipientBillState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>Customer Billing State</Caption></Col>\n\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='seller.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='SellerState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>My State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n\n\n<Col ID='ItemCode' Width='160' Combo='TEXT' ComboDefValue='3' CT='item_code' InUse='0'><Caption>Item Code</Caption></Col>\n</XML>":"CT02"==o?a+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='130' IsReadOnly='1' CT='transaction_date'><Caption>Credit/Debit Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='140' IsReadOnly='1' CT='id'><Caption>Credit/Debit Note Number</Caption></Col>\n<Col ID='CrDrNoteType' Width='170' Combo='TEXT'><Caption>Credit (C)/Debit (D) Note Type</Caption></Col>\n<Col ID='LinkDocDate' Width='100' IsReadOnly='1' CT='original_invoice_date'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Width='110' IsReadOnly='1' CT='original_invoice_serial_num'><Caption>Invoice Number</Caption></Col>\n\n<Col ID='RecipientName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='receiver.name'><Caption>Customer Billing Name</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='receiver.gstin'><Caption>Customer Billing GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='140' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE' CT='original_note_date'><Caption>Original Credit/Debit Note Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Credit/Debit Note Number (In case of amendment)</Caption></Col>\n<Col ID='OrgRecipientName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Customer Billing GSTIN (In Case of amendment)</Caption></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='seller.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>My State</Caption></Col>\n\n<Col ID='RecipientBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='receiver.address'><Caption>Customer Billing Address</Caption></Col>\n<Col ID='RecipientBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.city'><Caption>Customer Billing City</Caption></Col>\n<Col ID='RecipientBillState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>Customer Billing State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT03"==o?a+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='140' IsReadOnly='1' CT='transaction_date'><Caption>Advance Receipt Voucher Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='150' IsReadOnly='1' CT='id'><Caption>Advance Receipt Voucher Number</Caption></Col>\n<Col ID='RecipientName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='receiver.name'><Caption>Customer Billing Name</Caption></Col>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='receiver.gstin'><Caption>Customer Billing GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='140' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Advance Receipt Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT' CT='original_invoice_serial_num'><Caption>Original Advance Receipt Voucher Number (In case of amendment)</Caption></Col>\n<Col ID='OrgRecipientName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Customer Billing GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='seller.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>My State</Caption></Col>\n\n<Col ID='RecipientBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='receiver.address'><Caption>Customer Billing Address</Caption></Col>\n<Col ID='RecipientBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.city'><Caption>Customer Billing City</Caption></Col>\n<Col ID='RecipientBillState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>Customer Billing State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT04"==o?a+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Invoice Number</Caption></Col>\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='seller.name'><Caption>Supplier Name</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='seller.gstin'><Caption>Supplier GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ITCClaimType' Combo='TEXT' Width='110' IsOptional='1'><Caption>ITC Claim Type</Caption></Col>\n<Col ID='CGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsBillOfSupply' Combo='TEXT' Width='130' IsOptional='1'><Caption>Is this a Bill of Supply?</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Invoice Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Invoice Number (In case of amendment)</Caption></Col>\n<Col ID='OrgSupplierName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Supplier GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='LinkAdvDocDate' Width='150' IsOptional='1' Combo='DATE'><Caption>Date of Linked Advance Payment</Caption><DType>DATE</DType></Col>\n<Col ID='LinkAdvVoucherNo' Width='160' IsOptional='1' Combo='TEXT'><Caption>Voucher Number of Linked Advance Payment</Caption></Col>\n<Col ID='LinkAdvAdjAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Adjustment Amount of Linked Advance Payment</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='TypeofImport' Combo='TEXT' Width='140' IsOptional='1'><Caption>Type of Import (Goods, Services, SEZ)</Caption></Col>\n<Col ID='PortCode' Combo='TEXT' Width='160' IsOptional='1'><Caption>Bill of Entry Port Code</Caption></Col>\n<Col ID='PivBillNo' Combo='TEXT' Width='150' IsOptional='1'><Caption>Bill of Entry Number</Caption></Col>\n<Col ID='PivBillDate' Combo='DATE' Width='150' IsOptional='1'><Caption>Bill of Entry Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='receiver.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyStae' Combo='TEXT' Width='140' CT='receiver.state'><Caption>My State</Caption></Col>\n\n<Col ID='SupplierBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='seller.address'><Caption>Supplier Address</Caption></Col>\n<Col ID='SupplierBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='seller.city'><Caption>Supplier City</Caption></Col>\n<Col ID='SupplierBillState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>Supplier State</Caption></Col>\n\n<Col ID='GRNNo' Combo='TEXT' Width='150' IsOptional='1'><Caption>Goods Receipt Note Number</Caption></Col>\n<Col ID='GRNDate' Combo='DATE' Width='150' IsOptional='1'><Caption>Goods Receipt Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='GRNQty' Combo='NUM' Width='110' Agg='SUM'><Caption>Goods Receipt Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='GRNAmt' Combo='NUM' Width='110' Agg='SUM'><Caption>Goods Receipt Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT05"==o?a+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Credit/Debit Note Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Credit/Debit Note Number</Caption></Col>\n<Col ID='CrDrNoteType' Width='170' Combo='TEXT'><Caption>Credit (C)/Debit (D) Note Type</Caption></Col>\n<Col ID='LinkDocDate' Width='100' IsReadOnly='1' CT='original_invoice_date'><Caption>Linked Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Width='110' IsReadOnly='1' CT='original_invoice_serial_num'><Caption>Linked Invoice Number</Caption></Col>\n\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='seller.name'><Caption>Supplier Name</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='seller.gstin'><Caption>Supplier GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN or SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ITCClaimType' Combo='TEXT' Width='110' IsOptional='1'><Caption>ITC Claim Type</Caption></Col>\n<Col ID='CGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessITCClaimAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS ITC Claim Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n<Col ID='IsNilRatedExmNonGST' Combo='TEXT' Width='140' IsOptional='1'><Caption>Is this a Nil Rated/Exempt/NonGST item?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE' CT='original_note_date'><Caption>Original Credit/Debit Note Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Credit/Debit Note Number (In case of amendment)</Caption></Col>\n<Col ID='OrgSupplierName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Supplier GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='LinkAdvDocDate' Width='150' IsOptional='1' Combo='DATE'><Caption>Date of Linked Advance Payment</Caption><DType>DATE</DType></Col>\n<Col ID='LinkAdvVoucherNo' Width='160' IsOptional='1' Combo='TEXT'><Caption>Voucher Number of Linked Advance Payment</Caption></Col>\n<Col ID='LinkAdvAdjAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Adjustment Amount of Linked Advance Payment</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='receiver.gstin'><Caption>My GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>My State</Caption></Col>\n\n<Col ID='SupplierBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='seller.address'><Caption>Supplier Address</Caption></Col>\n<Col ID='SupplierBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='seller.city'><Caption>Supplier City</Caption></Col>\n<Col ID='SupplierBillState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>Supplier State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"CT06"==o?a+="<XML OrderBy='DocDate,VoucherNo'>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='transaction_date'><Caption>Advance Payment Date</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='id'><Caption>Advance Payment Voucher Number</Caption></Col>\n\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2' IsOptional='1' CT='seller.name'><Caption>Supplier Name</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='seller.gstin'><Caption>Supplier GSTIN</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='130' CT='place_of_supply'><Caption>State Place of Supply</Caption></Col>\n\n<Col ID='ItemGorS' Width='185' Combo='TEXT' ComboDefValue='3' CT='gst_type'><Caption>Is the item a GOOD (G) or SERVICE (S)</Caption></Col>\n<Col ID='ItemDescription' Width='160' Combo='TEXT' ComboDefValue='3' CT='description'><Caption>Item Description</Caption></Col>\n<Col ID='HSN' Width='140' Combo='TEXT' ComboDefValue='3'><Caption>HSN/SAC code</Caption></Col>\n<Col ID='ItemQty' Combo='NUM' Width='110' Agg='SUM' CT='quantity'><Caption>Item Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' CT='unit_of_measurement'><Caption>Item Unit of Measurement</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' CT='unit_price'><Caption>Item Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='Discount' Combo='NUM' Width='135' IsOptional='1' CT='discount'><Caption>Total Item Discount Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='130' Agg='SUM' CT='taxable_val'><Caption>Item Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CGSTRate' Combo='NUM' Width='110' CT='cgst_rate'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='cgst_val'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTRate' Combo='NUM' Width='110' CT='sgst_rate'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='SGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='sgst_val'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTRate' Combo='NUM' Width='110' CT='igst_rate'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='IGSTAmt' Combo='NUM' Width='110' Agg='SUM' CT='igst_val'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessRate' Combo='NUM' Width='110' IsOptional='1' CT='cess_rate'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' CT='cess_val'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IsAdvForSupply' Combo='TEXT' Width='130' IsOptional='1'><Caption>Is this Advance for a Bill of Supply?</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='130' IsOptional='1' CT='reverse_charge_applicable'><Caption>Is Reverse Charge Applicable?</Caption></Col>\n\n<Col ID='OrgDocDate' Width='120' IsOptional='1' Combo='DATE'><Caption>Original Advance Payment Date (In case of amendment)</Caption><DType>DATE</DType></Col>\n<Col ID='OrgVoucherNo' Width='130' IsOptional='1' Combo='TEXT'><Caption>Original Advance Payment Voucher Number (In case of amendment)</Caption></Col>\n<Col ID='OrgSupplierName' Width='180' Combo='TEXT' ComboDefValue='2' IsOptional='1'><Caption>Original Supplier GSTIN (In case of amendment)</Caption></Col>\n\n<Col ID='MyGSTIN' Combo='TEXT' Width='140' CT='receiver.gstin'><Caption>MY GSTIN</Caption></Col>\n<Col ID='MyState' Combo='TEXT' Width='140' IsOptional='1' CT='receiver.state'><Caption>My State</Caption></Col>\n\n<Col ID='SupplierBillAddress' Combo='TEXT' Width='160' IsOptional='1' CT='seller.address'><Caption>Supplier Address</Caption></Col>\n<Col ID='SupplierBillCity' Combo='TEXT' Width='140' IsOptional='1' CT='seller.city'><Caption>Supplier City</Caption></Col>\n<Col ID='SupplierBillState' Combo='TEXT' Width='140' IsOptional='1' CT='seller.state'><Caption>Supplier State</Caption></Col>\n\n<Col ID='IsDocCancelled' Combo='TEXT' Width='165' IsOptional='1' CT='is_canceled'><Caption>Is this document cancelled?</Caption></Col>\n</XML>":"GSTR2_b2b"==o?a+="<XML GroupBy='BillDate,BillNo,Rate,ITCEligible,GSTTaxType'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='GSTRegistrationType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Registration Type</Caption></Col>\n<Col ID='BillNo' Combo='TEXTALL' Width='110' IsOptional='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='100' IsOptional='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120'><Caption>Reverse Charge</Caption></Col>\n<Col ID='InvType' Combo='TEXT' Width='110'><Caption>Invoice Type</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_b2bur"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate,ITCEligible,GSTTaxType'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='GSTRegistrationType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Registration Type</Caption></Col>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='SupplierName' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Supplier Name</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='SupplyType' Combo='TEXT' Width='110' IgnoreInQuery='1'><Caption>Supply Type</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_imps"==o?a+="<XML GroupBy='BillDate,BillNo,Rate,ITCEligible'>\n<Col ID='BillNo' Combo='TEXTALL' Width='110' IsOptional='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='100' IsOptional='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_impg"==o?a+="<XML GroupBy='BillDate,BillNo,Rate,Documenttype,ITCEligible'>\n<Col ID='PortCode' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Port Code</Caption></Col>\n<Col ID='BillNo' Combo='TEXTALL' Width='110' IsOptional='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='BillDate' Combo='DATE' Width='100' IsOptional='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Bill Of Entry Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Documenttype' Combo='TEXT' Width='110' ComboDefValue='2'><Caption>Document type</Caption></Col>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN Of SEZ Supplier</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_cdnr"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note/Refund Voucher date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Combo='TEXTALL' Width='160' IsOptional='1'><Caption>Invoice/Advance Payment Voucher Number</Caption></Col>\n<Col ID='LinkDocDate' Combo='DATE' Width='120' IsOptional='1'><Caption>Invoice/Advance Payment Voucher date</Caption><DType>DATE</DType></Col>\n\n<Col ID='PreGST' Width='80' IsReadOnly='1'><Caption>Pre GST</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Document Type</Caption></Col>\n<Col ID='ReasonForIssDoc' Width='180' Combo='TEXT'><Caption>Reason For Issuing document</Caption></Col>\n<Col ID='SupplyType' Combo='TEXT' Width='110' IsOptional='1'><Caption>Supply Type</Caption></Col>\n\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note/Refund Voucher Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_cdnur"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='SupplierGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN of Supplier</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='DocDate' Width='110' IsReadOnly='1'><Caption>Note/Refund Voucher date</Caption><DType>DATE</DType></Col>\n<Col ID='LinkVoucherNo' Combo='TEXTALL' Width='160' IsOptional='1'><Caption>Invoice/Advance Payment Voucher Number</Caption></Col>\n<Col ID='LinkDocDate' Combo='DATE' Width='120' IsOptional='1'><Caption>Invoice/Advance Payment Voucher date</Caption><DType>DATE</DType></Col>\n\n<Col ID='PreGST' Width='80' IsReadOnly='1'><Caption>Pre GST</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Document Type</Caption></Col>\n<Col ID='ReasonForIssDoc' Width='180' Combo='TEXT'><Caption>Reason For Issuing document</Caption></Col>\n<Col ID='SupplyType' Combo='TEXT' Width='110' IsOptional='1'><Caption>Supply Type</Caption></Col>\n\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note/Refund Voucher Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCEligible' Combo='TEXT' Width='110' ComboDefValue='3'><Caption>Eligibility For ITC</Caption></Col>\n<Col ID='ITCIntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCSTaxAmt' Combo='NUM' Width='140' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='ITCCessAmt' Combo='NUM' Width='110' Agg='SUM' IgnoreInQuery='1'><Caption>Availed ITC Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_at"==o?a+="<XML GroupBy='PoS,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_atadj"==o?a+="<XML GroupBy='PoS,Rate'>\n<Col ID='ReverseCharge' Combo='TEXT' Width='120' InUse='0'><Caption>Reverse Charge</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM' InUse='0'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvAdjusted' Combo='NUM' Width='150' Agg='SUM' IsReadOnly='1'><Caption>Gross Advance Adjusted</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_exemp"==o?a+="<XML>\n<Col ID='PoS' Combo='DIM' Width='120' InUse='0'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Description' Width='240' IsReadOnly='1'><Caption>Description</Caption></Col>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='CompositTaxPer' ComboDefValue='2' Combo='TEXT' Width='180' Agg='SUM'><Caption>Composition taxable person</Caption><DType>FLOAT</DType></Col>\n<Col ID='NilRated' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Nil Rated Supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='Exempted' ComboDefValue='3' Combo='TEXT' Width='180' Agg='SUM'><Caption>Exempted (other than nil rated/non GST supply )</Caption><DType>FLOAT</DType></Col>\n<Col ID='NonGST' ComboDefValue='3' Combo='TEXT' Width='140' Agg='SUM'><Caption>Non-GST supplies</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_itcr"==o?a+="<XML>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Paid</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Paid</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR2_hsnsum"==o?a+="<XML GroupBy='HSN,UQC'>\n<Col ID='HSN' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN</Caption></Col>\n<Col ID='Description' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='UQC' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>UQC</Caption></Col>\n<Col ID='TotalQty' Combo='NUM' Width='120' Agg='SUM'><Caption>Total Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='TotalValue' Combo='NUM' Width='120' Agg='SUM' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"VATAED1"==o?a+="<XML>\n<Col ID='Section' Width='30' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='Description' Width='280' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='TaxableValue' Combo='NUMFC' Width='160' IsOptional='1' IsReadOnly='1' Decimals='"+y.d.SessionManager.Preferences.DecimalsinAmount+"'><Caption></Caption><DType>FLOAT</DType></Col>\n<Col ID='VATAmount' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+y.d.SessionManager.Preferences.DecimalsinAmount+"'><Caption></Caption><DType>FLOAT</DType></Col>\n<Col ID='Adjustment' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+y.d.SessionManager.Preferences.DecimalsinAmount+"'><Caption></Caption><DType>FLOAT</DType></Col>\n</XML>":"VATFATPurchaseList"==o?a+="<XML OrderBy='DocDate,VoucherNo,DocSeqNo'>\n<Col ID='SupplierName' Width='180' Combo='TEXT' ComboDefValue='2'><Caption>SupplierName</Caption></Col>\n<Col ID='SupplierTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='SupplierTINTRN'><Caption>SupplierTIN/TRN</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='InvoiceDate'><Caption>InvoiceDate</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='InvoiceNo'><Caption>InvoiceNo</Caption></Col>\n<Col ID='PermitNo' Combo='TEXT' Width='120' IsOptional='1'><Caption>PermitNo</Caption></Col>\n<Col ID='DocSeqNo' Width='70' IsReadOnly='1' CT='LineNo'><Caption>LineNo</Caption></Col>\n<Col ID='ProductDescription' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>ProductDescription</Caption></Col>\n<Col ID='PurchaseValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>PurchaseValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>VATValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxCode' Combo='TEXT' Width='120'><Caption>TaxCode</Caption></Col>\n<Col ID='FCYCode' Combo='TEXT' Width='120' IsOptional='1' ComboDefValue='12'><Caption>FCY Code</Caption></Col>\n<Col ID='PurchaseFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>PurchaseFCY</Caption><DType>FLOAT</DType></Col>\n<Col ID='AEDFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>AEDFCY</Caption><DType>FLOAT</DType></Col>\n</XML>":"VATFATSupplyList"==o?a+="<XML OrderBy='DocDate,VoucherNo,DocSeqNo'>\n<Col ID='CustomerName' Width='180' Combo='TEXT' ComboDefValue='2'><Caption>Customer Name</Caption></Col>\n<Col ID='CustomerTIN' Width='160' Combo='TEXT' ComboDefValue='2' CT='CustomerTINTRN'><Caption>CustomerTIN/TRN</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1' CT='InvoiceDate'><Caption>InvoiceDate</Caption><DType>DATE</DType></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1' CT='InvoiceNo'><Caption>InvoiceNo</Caption></Col>\n<Col ID='DocSeqNo' Width='70' IsReadOnly='1' CT='LineNo'><Caption>LineNo</Caption></Col>\n<Col ID='ProductDescription' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>ProductDescription</Caption></Col>\n<Col ID='SupplyValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>SupplyValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATValueAED' Combo='NUMFC' Width='110' Agg='SUM'><Caption>VATValueAED</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxCode' Combo='TEXT' Width='120'><Caption>TaxCode</Caption></Col>\n<Col ID='Country' Combo='DIM' Width='120' ComboDefValue='50058'><Caption>Country</Caption></Col>\n<Col ID='FCYCode' Combo='TEXT' Width='120' IsOptional='1' ComboDefValue='12'><Caption>FCYCode</Caption></Col>\n<Col ID='SupplyFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>SupplyFCY</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATFCY' Combo='NUMFC' Width='110' Agg='SUM' IsOptional='1'><Caption>VATFCY</Caption><DType>FLOAT</DType></Col>\n</XML>":"VATSAS1"==o?a+="<XML>\n<Col ID='Section' Width='30' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='Description' Width='280' IsOptional='1' IsReadOnly='1'><Caption></Caption></Col>\n<Col ID='TaxableValue' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+y.d.SessionManager.Preferences.DecimalsinAmount+"'><Caption>Amount (SAR)</Caption><DType>FLOAT</DType></Col>\n<Col ID='Adjustment' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+y.d.SessionManager.Preferences.DecimalsinAmount+"'><Caption>Adjustment (SAR)</Caption><DType>FLOAT</DType></Col>\n<Col ID='VATAmount' Combo='NUMFC' Width='130' IsOptional='1' IsReadOnly='1' Decimals='"+y.d.SessionManager.Preferences.DecimalsinAmount+"'><Caption>VAT Amount (SAR)</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_Outward"==o?a+="<XML GroupBy='PoS,GSTTaxType,GSTRegistrationType,GSTPartyType'>\n<Col ID='DocumentType' Width='115' Combo='GSTR3IsReturn' InUse='0'><Caption>Is Return Document</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='110' InUse='0'><Caption>Place Of Supply</Caption></Col>\n<Col ID='GSTTaxType' ComboDefValue='3' Combo='TEXT' Width='130' InUse='0'><Caption>GST Tax Type</Caption></Col>\n<Col ID='GSTRegistrationType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Registration Type</Caption></Col>\n<Col ID='GSTPartyType' ComboDefValue='2' Combo='TEXT' Width='130' InUse='0'><Caption>Party Type</Caption></Col>\n\n<Col ID='Description' Width='260' IsReadOnly='1' IgnoreInQuery='1'><Caption>Description</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='125' Agg='SUM'><Caption>Total Taxable value</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_OutwardDetail"==o?a+="<XML GroupBy=''>\n<Col ID='PoS' Width='320' IsReadOnly='1'><Caption>Place of Supply(State/UT)</Caption></Col>\n<Col ID='TaxableValueUnregistered' Combo='NUM' Width='180' Agg='SUM'><Caption>Taxable value(Unregistered)</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmtUnregistered' Combo='NUM' Width='180' Agg='SUM' IsOptional='1'><Caption>Integrated Tax(Unregistered)</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValueComposition' Combo='NUM' Width='180' Agg='SUM'><Caption>Taxable value(Composition)</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmtComposition' Combo='NUM' Width='175' Agg='SUM' IsOptional='1'><Caption>Integrated Tax(Composition)</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValueUINholders' Combo='NUM' Width='180' Agg='SUM'><Caption>Taxable value(UIN holders)</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntTaxAmtUINholders' Combo='NUM' Width='170' Agg='SUM' IsOptional='1'><Caption>Integrated Tax(UIN holders)</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_EligibleITC"==o?a+="<XML GroupBy=''>\n<Col ID='Details' Width='270' IsReadOnly='1'><Caption>Details</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_5"==o?a+="<XML GroupBy=''>\n<Col ID='Natureofsupplies' Width='260' IsReadOnly='1'><Caption>Nature of supplies</Caption></Col>\n<Col ID='InterState' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Inter-state supplies</Caption><DType>FLOAT</DType></Col>\n<Col ID='IntraState' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Intra-state supplies</Caption><DType>FLOAT</DType></Col>\n</XML>":"GSTR3_GSTR3B_5_1"==o?a+="<XML GroupBy=''>\n<Col ID='Description' Width='230' IsReadOnly='1'><Caption>Description</Caption></Col>\n<Col ID='IntTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Integrated Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Central Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State/UT Tax</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess</Caption><DType>FLOAT</DType></Col>\n</XML>":"GENEWAYBILL"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='supplyType' Width='160' Combo='TEXT' ComboDefValue='2' IsReadOnly='1'><Caption>Supply Type</Caption></Col>\n<Col ID='subSupplyType' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Sub Supply Type</Caption></Col>\n\n<Col ID='docType' Combo='TEXT' Width='110'><Caption>Doc Type</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='fromTrdName' Combo='TEXT' Width='140'><Caption>From TradeName</Caption></Col>\n<Col ID='fromAddr1' Combo='TEXT' Width='140'><Caption>From Address1</Caption></Col>\n<Col ID='fromAddr2' Combo='TEXT' Width='140'><Caption>From Address2</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromPincode' Combo='TEXT' Width='140'><Caption>From Pincode</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='dispAddr1' Combo='TEXT' Width='140'><Caption>Dispatch Address1</Caption></Col>\n<Col ID='dispAddr2' Combo='TEXT' Width='140'><Caption>Dispatch Address2</Caption></Col>\n<Col ID='dispPlace' Combo='TEXT' Width='140'><Caption>Dispatch Place</Caption></Col>\n<Col ID='dispPincode' Combo='TEXT' Width='140'><Caption>Dispatch Pincode</Caption></Col>\n<Col ID='dispStateCode' Combo='TEXT' Width='140'><Caption>Dispatch State</Caption></Col>\n\n<Col ID='gstReg' Combo='TEXT' Width='140'><Caption>GST Registration</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='toTrdName' Combo='TEXT' Width='140'><Caption>To TradeName</Caption></Col>\n<Col ID='toAddr1' Combo='TEXT' Width='140'><Caption>To Address1</Caption></Col>\n<Col ID='toAddr2' Combo='TEXT' Width='140'><Caption>To Address2</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To Place</Caption></Col>\n<Col ID='toPincode' Combo='TEXT' Width='140'><Caption>To Pincode</Caption></Col>\n<Col ID='toStateCode' Combo='TEXT' Width='140'><Caption>To State</Caption></Col>\n<Col ID='shipAddr1' Combo='TEXT' Width='140'><Caption>Ship To Address1</Caption></Col>\n<Col ID='shipAddr2' Combo='TEXT' Width='140'><Caption>Ship To Address2</Caption></Col>\n<Col ID='shipPlace' Combo='TEXT' Width='140'><Caption>Ship To Place</Caption></Col>\n<Col ID='shipPincode' Combo='TEXT' Width='140'><Caption>Ship To Pincode</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='transactionType' Combo='TEXT' Width='140'><Caption>Transaction Type</Caption></Col>\n\n<Col ID='productName' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Product</Caption></Col>\n<Col ID='productDesc' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='hsnCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN Code</Caption></Col>\n<Col ID='qtyUnit' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>Unit</Caption></Col>\n<Col ID='quantity' Combo='NUM' Width='120' Agg='SUM'><Caption>Qty</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessAdvol' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Advol</Caption></Col>\n<Col ID='taxableAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='totValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstValue' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDistance' Combo='TEXT' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Transporter Name</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='alert' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Alert</Caption></Col>\n</XML>":"VEHEWB"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='vehUpdDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Updated Date</Caption><DType>DATE</DType></Col>\n</XML>":"GENCEWB"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cEwbNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Consolidate EWB No</Caption></Col>\n<Col ID='cEWBDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Consolidate Date</Caption><DType>DATE</DType></Col>\n</XML>":"REGENTRIPSHEET"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='tripSheetNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='newtripSheetNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>New Con EWB No</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Nos</Caption></Col>\n</XML>":"EXTENDVALIDITY"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='remainingDistance' Combo='NUM' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='extnRemarks' Combo='TEXT' Width='140'><Caption>Extended Remarks</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='updatedDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Updated Date</Caption><DType>DATE</DType></Col>\n</XML>":"MULTIVEHMOVINT"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>To State</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To Place</Caption></Col>\n<Col ID='toState' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='totalQuantity' Combo='NUM' Width='110'><Caption>Total Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='unitCode' Combo='TEXT' Width='110'><Caption>Unit Code</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='createdDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Created Date</Caption><DType>DATE</DType></Col>\n</XML>":"MULTIVEHADD"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='quantity' Combo='NUM' Width='110'><Caption>Quantity</Caption><DType>FLOAT</DType></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='vehAddedDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Vehicle Added Date</Caption><DType>DATE</DType></Col>\n</XML>":"MULTIVEHUPD"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='oldvehicleNo' Width='110' IsReadOnly='1'><Caption>Old Vehicle No</Caption></Col>\n<Col ID='newVehicleNo' Width='110' ><Caption>New Vehicle No</Caption></Col>\n<Col ID='oldTranNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Old Transport DocNo</Caption></Col>\n<Col ID='newTranNo' Combo='TEXT' Width='110'><Caption>New Transport DocNo</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>From State</Caption></Col>\n<Col ID='reasonRem' Combo='TEXT' Width='140'><Caption>Reason Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='vehUpdDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Vehicle Updated Date</Caption><DType>DATE</DType></Col>\n</XML>":"UPDATETRANSPORTER"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='transUpdateDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Transporter Update Date</Caption><DType>DATE</DType></Col>\n</XML>":"CANEWB"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='cancelRmrk' Combo='TEXT' Width='140'><Caption>Cancel Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cancelDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Cancel Date</Caption><DType>DATE</DType></Col>\n</XML>":"REJEWB"==o?a+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='ewbRejectedDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Rejected Date</Caption><DType>DATE</DType></Col>\n</XML>":"GetEwayBill"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='supplyType' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Supply Type</Caption></Col>\n<Col ID='subSupplyType' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Sub Type</Caption></Col>\n<Col ID='docType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Doc Type</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='fromTrdName' Combo='TEXT' Width='140'><Caption>From_OtherPartyName</Caption></Col>\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From_GSTIN</Caption></Col>\n<Col ID='fromAddr1' Combo='TEXT' Width='140'><Caption>From_Address1</Caption></Col>\n<Col ID='fromAddr2' Combo='TEXT' Width='140'><Caption>From_Address2</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From_Place</Caption></Col>\n<Col ID='fromPincode' Combo='TEXT' Width='140'><Caption>From_Pin Code</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From_State</Caption></Col>\n<Col ID='dispStateCode' Combo='TEXT' Width='140'><Caption>Dispatch State</Caption></Col>\n\n<Col ID='toTrdName' Combo='TEXT' Width='140'><Caption>To_OtherPartyName</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To_GSTIN</Caption></Col>\n<Col ID='toAddr1' Combo='TEXT' Width='140'><Caption>To_Address1</Caption></Col>\n<Col ID='toAddr2' Combo='TEXT' Width='140'><Caption>To_Address2</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To_Place</Caption></Col>\n<Col ID='toPincode' Combo='TEXT' Width='140'><Caption>To_Pin Code</Caption></Col>\n<Col ID='toStateCode' Combo='TEXT' Width='140'><Caption>To_State</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='totValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Total Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstValue' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessNonAdvolValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Non Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='otherValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Other Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='transactionType' Width='110' IsReadOnly='1'><Caption>Trans Type</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Trans Name</Caption></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Trans ID</Caption></Col>\n<Col ID='vehicleType' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='noValidDays' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Valid Days</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n<Col ID='actualDist' Combo='NUM' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='extendedTimes' Combo='TEXT' Width='160'><Caption>extended Times</Caption></Col>\n<Col ID='genMode' Combo='TEXT' Width='140'><Caption>Mode</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n\n<Col ID='itemNo' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Item No</Caption></Col>\n<Col ID='productId' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Product Id</Caption></Col>\n<Col ID='productName' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Product</Caption></Col>\n<Col ID='productDesc' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='hsnCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN</Caption></Col>\n<Col ID='qtyUnit' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>Unit</Caption></Col>\n<Col ID='quantity' Combo='NUM' Width='120' Agg='SUM'><Caption>Qty</Caption><DType>FLOAT</DType></Col>\n<Col ID='taxableAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessNonAdvol' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Non</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='updMode' Combo='TEXT' Width='110'><Caption>Upd Mode</Caption></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vfromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromState' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='tripshtNo' Combo='TEXT' Width='140'><Caption>Tripsht No</Caption></Col>\n<Col ID='userGSTINTransin' Combo='TEXT' Width='140'><Caption>User GSTIN</Caption></Col>\n<Col ID='enteredDate' Width='100' IsReadOnly='1'><Caption>Entered Date</Caption><DType>DATE</DType></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Trans Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Trans DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Trans Date</Caption><DType>DATE</DType></Col>\n<Col ID='groupNo' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Group No</Caption></Col>\n\n</XML>":"GetEwayBillGeneratedByConsigner"==o?a+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='alert' Combo='TEXT' Width='140'  ><Caption>Alert</Caption></Col>\n</XML>":"GetEwayBillsByDate"==o||"GetEwayBillsForTransporter"==o||"GetEwayBillsForTransporterByGstin"==o||"GetEwayBillsForTransporterByState"==o||"GetEwayBillsRejectedByOthers"==o?(a+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='genGstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>",a+="GetEwayBillsRejectedByOthers"==o?"\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n<Col ID='rejectedDate' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Date</Caption><DType>DATE</DType></Col>\n</XML>":"<Col ID='delPinCode' Combo='TEXT' Width='140'><Caption>Pin Code</Caption></Col>\n<Col ID='delStateCode' Combo='TEXT' Width='140'><Caption>State Code</Caption></Col>\n<Col ID='delPlace' Combo='TEXT' Width='140'><Caption>Place</Caption></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='extendedTimes' Combo='TEXT' Width='160'><Caption>extended Times</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n</XML>"):"GetEwayBillsofOtherParty"==o?a+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='genMode' Combo='TEXT' Width='140'><Caption>Mode</Caption></Col>\n<Col ID='genGstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n<Col ID='fromTradeName' Combo='TEXT' Width='140'><Caption>From Trade Name</Caption></Col>\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='toTradeName' Combo='TEXT' Width='140'><Caption>To Trade Name</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='hsnDesc' Combo='TEXT' Width='140'><Caption>HSN Description</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'  ><Caption>Status</Caption></Col>\n<Col ID='rejectStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Reject Status</Caption></Col>\n</XML>":"GetTripSheet"==o?a+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='userGstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n<Col ID='fromTradeName' Combo='TEXT' Width='140'><Caption>From Trade Name</Caption></Col>\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='toTradeName' Combo='TEXT' Width='140'><Caption>To Trade Name</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='transMode' Combo='TEXT' Width='140'><Caption>Trans Mode</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Trans DocNo</Caption></Col>\n<Col ID='transDocDate' Width='100' IsReadOnly='1'><Caption>Trans Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='enteredDate' Width='100' IsReadOnly='1'><Caption>Entered Date</Caption><DType>DATE</DType></Col>\n<Col ID='tripSheetNo' Combo='TEXT' Width='140'><Caption>Trip Sheet No</Caption></Col>\n<Col ID='status' Combo='TEXT' Width='140'><Caption>Status</Caption></Col>\n<Col ID='ComStatus' Combo='TEXT' Width='140' IsReadOnly='1'><Caption>Complete Status</Caption></Col>\n</XML>":"GetErrorList"==o?a+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='errorCode' Combo='TEXT' Width='100'><Caption>Code</Caption></Col>\n<Col ID='errorDesc' Combo='TEXT' Width='250'><Caption>Description</Caption></Col>\n</XML>":"GetHsnDetailsByHsnCode"==o?a+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='hsnCode' Combo='TEXT' Width='140'><Caption>HSN Code</Caption></Col>\n<Col ID='hsnDesc' Combo='TEXT' Width='140'><Caption>HSN Description</Caption></Col>\n</XML>":"GetGSTINDetails"==o||"GetTransporterDetails"==o?(a+="<XML>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='gstin' Combo='TEXT' Width='140'><Caption>GSTIN</Caption></Col>\n<Col ID='legalName' Combo='TEXT' Width='140'><Caption>Legal Name</Caption></Col>\n<Col ID='tradeName' Combo='TEXT' Width='140'><Caption>Trade Name</Caption></Col>\n<Col ID='address1' Combo='TEXT' Width='140'><Caption>Address1</Caption></Col>\n<Col ID='address2' Combo='TEXT' Width='140'><Caption>Address2</Caption></Col>\n<Col ID='pinCode' Combo='TEXT' Width='140'><Caption>Pin Code</Caption></Col>\n<Col ID='stateCode' Combo='TEXT' Width='140'><Caption>State Code</Caption></Col>","GetGSTINDetails"==o&&(a+="<Col ID='txpType' Combo='TEXT' Width='140'><Caption>Tax Type</Caption></Col>",a+="<Col ID='status' Combo='TEXT' Width='140'><Caption>Status</Caption></Col>",a+="<Col ID='blkStatus' Combo='TEXT' Width='140'><Caption>blk Status</Caption></Col>"),a+="</XML>"):"INVOICE"==o?a+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='SupTyp' Width='140' Combo='TEXT' ComboDefValue='2' IsReadOnly='1'><Caption>Supply Type</Caption></Col>\n<Col ID='RegRev' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Reverse Charge</Caption></Col>\n<Col ID='EcmGstin' Width='140' Combo='TEXT' ComboDefValue='2' IsReadOnly='1'><Caption>Ecom GSTIN</Caption></Col>\n<Col ID='IgstOnIntra' Width='140' Combo='TEXT' ComboDefValue='2'><Caption>Igst On Intra</Caption></Col>\n\n<Col ID='docType' Combo='TEXT' Width='110'><Caption>Doc Type</Caption></Col>\n<Col ID='docNo' Width='110' IsReadOnly='1'><Caption>Doc No</Caption></Col>\n<Col ID='docDate' Width='100' IsReadOnly='1'><Caption>Doc Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='fromGstin' Combo='TEXT' Width='140'><Caption>From GSTIN</Caption></Col>\n<Col ID='fromLglName' Combo='TEXT' Width='140'><Caption>From LegalName</Caption></Col>\n<Col ID='fromTrdName' Combo='TEXT' Width='140'><Caption>From TradeName</Caption></Col>\n<Col ID='fromAddr1' Combo='TEXT' Width='140'><Caption>From Address1</Caption></Col>\n<Col ID='fromAddr2' Combo='TEXT' Width='140'><Caption>From Address2</Caption></Col>\n<Col ID='fromPlace' Combo='TEXT' Width='140'><Caption>From Place</Caption></Col>\n<Col ID='fromPincode' Combo='TEXT' Width='140'><Caption>From Pincode</Caption></Col>\n<Col ID='fromStateCode' Combo='TEXT' Width='140'><Caption>From State</Caption></Col>\n<Col ID='fromPhone' Combo='TEXT' Width='140'><Caption>From Phone</Caption></Col>\n<Col ID='fromEmail' Combo='TEXT' Width='140'><Caption>From Email</Caption></Col>\n\n<Col ID='dispLglName' Combo='TEXT' Width='140'><Caption>Dispatch LegalName</Caption></Col>\n<Col ID='dispAddr1' Combo='TEXT' Width='140'><Caption>Dispatch Address1</Caption></Col>\n<Col ID='dispAddr2' Combo='TEXT' Width='140'><Caption>Dispatch Address2</Caption></Col>\n<Col ID='dispPlace' Combo='TEXT' Width='140'><Caption>Dispatch Place</Caption></Col>\n<Col ID='dispPincode' Combo='TEXT' Width='140'><Caption>Dispatch Pincode</Caption></Col>\n<Col ID='dispStateCode' Combo='TEXT' Width='140'><Caption>Dispatch State</Caption></Col>\n\n<Col ID='gstReg' Combo='TEXT' Width='140'><Caption>GST Registration</Caption></Col>\n<Col ID='toGstin' Combo='TEXT' Width='140'><Caption>To GSTIN</Caption></Col>\n<Col ID='toLglName' Combo='TEXT' Width='140'><Caption>To LegalName</Caption></Col>\n<Col ID='toTrdName' Combo='TEXT' Width='140'><Caption>To TradeName</Caption></Col>\n<Col ID='Pos' Combo='TEXT' Width='140'><Caption>Pos</Caption></Col>\n<Col ID='toAddr1' Combo='TEXT' Width='140'><Caption>To Address1</Caption></Col>\n<Col ID='toAddr2' Combo='TEXT' Width='140'><Caption>To Address2</Caption></Col>\n<Col ID='toPlace' Combo='TEXT' Width='140'><Caption>To Place</Caption></Col>\n<Col ID='toPincode' Combo='TEXT' Width='140'><Caption>To Pincode</Caption></Col>\n<Col ID='toStateCode' Combo='TEXT' Width='140'><Caption>To State</Caption></Col>\n<Col ID='toPhone' Combo='TEXT' Width='140'><Caption>To Phone</Caption></Col>\n<Col ID='toEmail' Combo='TEXT' Width='140'><Caption>To Email</Caption></Col>\n\n<Col ID='shipGstin' Combo='TEXT' Width='140'><Caption>Ship To GSTIN</Caption></Col>\n<Col ID='shipLglName' Combo='TEXT' Width='140'><Caption>Ship To LegalName</Caption></Col>\n<Col ID='shipTrdName' Combo='TEXT' Width='140'><Caption>Ship To TradeName</Caption></Col>\n<Col ID='shipAddr1' Combo='TEXT' Width='140'><Caption>Ship To Address1</Caption></Col>\n<Col ID='shipAddr2' Combo='TEXT' Width='140'><Caption>Ship To Address2</Caption></Col>\n<Col ID='shipPlace' Combo='TEXT' Width='140'><Caption>Ship To Place</Caption></Col>\n<Col ID='shipPincode' Combo='TEXT' Width='140'><Caption>Ship To Pincode</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='productDesc' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Description</Caption></Col>\n<Col ID='isService' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Service</Caption></Col>\n<Col ID='hsnCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>HSN Code</Caption></Col>\n<Col ID='barCode' Width='160' Combo='TEXT' ComboDefValue='3'><Caption>Barcode</Caption></Col>\n<Col ID='qtyUnit' Width='160' Combo='TEXTUOM' IsOptional='1'><Caption>Unit</Caption></Col>\n<Col ID='quantity' Combo='NUM' Width='120' Agg='SUM'><Caption>Qty</Caption><DType>FLOAT</DType></Col>\n<Col ID='freeQty' Combo='NUM' Width='120' Agg='SUM'><Caption>Free Qty</Caption><DType>FLOAT</DType></Col>\n<Col ID='unitPrice' Combo='NUM' Width='120' Agg='SUM'><Caption>Unit Price</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='discount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Discount</Caption><DType>FLOAT</DType></Col>\n<Col ID='preTaxVal' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Pre Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='taxableAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1' IsReadOnly='1'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='gstRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>GST Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>IGST Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessNonAdvlAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>CESS Advol</Caption></Col>\n<Col ID='stateCessRate' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State CESS Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='stateCessAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='stateCessNonAdvlAmount' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>State CESS Advol</Caption></Col>\n<Col ID='OtherCharges' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Other Charges</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='ordLineRef' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Order Ref</Caption></Col>\n<Col ID='orgCountry' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Origin Country</Caption></Col>\n<Col ID='serialNo' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Product Serial No</Caption></Col>\n<Col ID='batchName' Width='120' Combo='TEXT' IsOptional='1'><Caption>Batch Name</Caption></Col>\n<Col ID='batchExpDate' Width='120' Combo='TEXT' ComboDefValue='3'><Caption>Batch Exp Date</Caption></Col>\n<Col ID='batchWarDate' Width='120' Combo='TEXT' IsOptional='1'><Caption>Batch War Date</Caption></Col>\n<Col ID='attributeName' Width='120' Combo='TEXT' IsOptional='1'><Caption>Attribute Name</Caption></Col>\n\n<Col ID='totValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total CGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgstValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total SGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='igstValue' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Total IGST Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='cessValue' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Total CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='stateCessValue' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total State CESS Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totDiscount' Combo='NUM' Width='140' Agg='SUM' IsOptional='1'><Caption>Total Discount</Caption><DType>FLOAT</DType></Col>\n<Col ID='totOtherCharges' Combo='NUM' Width='150' Agg='SUM' IsOptional='1'><Caption>Total Other Charges</Caption><DType>FLOAT</DType></Col>\n<Col ID='roundOffAmout' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Round Off</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='totInvValueFC' Combo='NUM' Width='120' IsOptional='1'><Caption>Total Invoice Value(FC)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='PayeeName' Combo='TEXT' Width='110'><Caption>Payee Name</Caption></Col>\n<Col ID='AccountNumber' Combo='TEXT' Width='110'><Caption>Account Number</Caption><DType>FLOAT</DType></Col>\n<Col ID='ModeOfPayment' Combo='TEXT' Width='110'><Caption>Mode Of Payment</Caption></Col>\n<Col ID='IFSCCode' Combo='TEXT' Width='110'><Caption>IFSC Code</Caption></Col>\n<Col ID='PaymentTerms' Combo='TEXT' Width='110'><Caption>Payment Terms</Caption></Col>\n<Col ID='PaymentInstruction' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Payment Instruction</Caption><DType>DATE</DType></Col>\n<Col ID='CreditTransfer' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Credit Transfer</Caption><DType>FLOAT</DType></Col>\n<Col ID='DirectDebit' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Direct Debit</Caption><DType>FLOAT</DType></Col>\n<Col ID='CreditDays' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Credit Days</Caption><DType>FLOAT</DType></Col>\n<Col ID='PaidAmount' Combo='NUM' Width='110' IsOptional='1'><Caption>Paid Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='PaymentDue' Combo='NUM' Width='110' IsOptional='1'><Caption>Payment Due</Caption><DType>FLOAT</DType></Col>\n\n\n\n<Col ID='ShipBillNo' Combo='TEXT' Width='110'><Caption>Ship Bill No</Caption></Col>\n<Col ID='ShipBillDate' Combo='TEXT' Width='110'><Caption>Ship Bill Date</Caption><DType>FLOAT</DType></Col>\n<Col ID='Port' Combo='TEXT' Width='110'><Caption>Port</Caption></Col>\n<Col ID='RefClm' Combo='TEXT' Width='110'><Caption>Claiming Refund</Caption></Col>\n<Col ID='ForCur' Combo='TEXT' Width='110'><Caption>Currency</Caption></Col>\n<Col ID='CntCode' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Country</Caption><DType>DATE</DType></Col>\n<Col ID='ExpDuty' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Export Duty</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDistance' Combo='TEXT' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Transporter Name</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='AckNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Acknowledge No</Caption></Col>\n<Col ID='AckDt' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Acknowledge Date</Caption><DType>DATE</DType></Col>\n<Col ID='Irn' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Irn</Caption><DType>DATE</DType></Col>\n<Col ID='SignedInvoice' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Signed Invoice</Caption></Col>\n<Col ID='SignedQRCode' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Signed QR Code</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='Remarks' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Remarks</Caption></Col>\n<Col ID='Status' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Status</Caption></Col>\n</XML>":"EWAYBILL"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='Irn' Width='150' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='transMode' Combo='TEXT' Width='110'><Caption>Transport Mode</Caption></Col>\n<Col ID='transDistance' Combo='TEXT' Width='110'><Caption>Distance (Km)</Caption><DType>FLOAT</DType></Col>\n<Col ID='transporterId' Combo='TEXT' Width='110'><Caption>Transporter ID</Caption></Col>\n<Col ID='transporterName' Combo='TEXT' Width='110'><Caption>Transporter Name</Caption></Col>\n<Col ID='transDocNo' Combo='TEXT' Width='110'><Caption>Transport DocNo</Caption></Col>\n<Col ID='transDocDate' Combo='TEXT' Width='100' IsReadOnly='1'><Caption>Transport Date</Caption><DType>DATE</DType></Col>\n<Col ID='vehicleNo' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle No</Caption></Col>\n<Col ID='vehicleType' Combo='TEXT' Width='110' IsReadOnly='1'><Caption>Vehicle Type</Caption></Col>\n\n<Col ID='shipAddr1' Combo='TEXT' Width='140'><Caption>Ship To Address1</Caption></Col>\n<Col ID='shipAddr2' Combo='TEXT' Width='140'><Caption>Ship To Address2</Caption></Col>\n<Col ID='shipPlace' Combo='TEXT' Width='140'><Caption>Ship To Place</Caption></Col>\n<Col ID='shipPincode' Combo='TEXT' Width='140'><Caption>Ship To Pincode</Caption></Col>\n<Col ID='shipStateCode' Combo='TEXT' Width='140'><Caption>Ship To State</Caption></Col>\n\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='ewayBillNo' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill No</Caption></Col>\n<Col ID='ewayBillDate' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Eway Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='validUpto' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Valid Upto</Caption><DType>DATE</DType></Col>\n<Col ID='Remarks' Width='110' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Remarks</Caption></Col>\n</XML>":"INVOICE/CANCEL"==o?a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='Irn' Width='150' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='cancelRmrk' Combo='TEXT' Width='140'><Caption>Cancel Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cancelDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Cancel Date</Caption><DType>DATE</DType></Col>\n</XML>":"EWAYAPI"==o&&(a+="<XML GroupBy=''>\n<Col ID='Gstin' Combo='TEXT' Width='140' IsReadOnly='1' IsOptional='1' InUse='0' IsVisible='0'><Caption>GSTIN</Caption></Col>\n<Col ID='ewayBillNo' Width='150' IsReadOnly='1'><Caption>Eway Bill No</Caption></Col>\n<Col ID='cancelRmrk' Combo='TEXT' Width='140'><Caption>Cancel Remarks</Caption></Col>\n<Col ID='success' Width='100' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Success</Caption></Col>\n<Col ID='message' Width='250' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Message</Caption></Col>\n<Col ID='cancelDate' Width='140' IsReadOnly='1' IsOptional='1' InUse='0'><Caption>Cancel Date</Caption><DType>DATE</DType></Col>\n</XML>"),E.dicReports.push(o,a.toString()),E.dicReports[o]}static GSTSummaryColumnsXML(o){let i="";return"b2b"==o?i+="<XML GroupBy='VoucherNo'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cl"==o?i+="<XML GroupBy='VoucherNo'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"b2cs"==o?i+="<XML GroupBy='Type'>\n<Col ID='RecipientGSTIN' Width='160' Combo='TEXT' ComboDefValue='2' InUse='0'><Caption>GSTIN/UIN of Recipient</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' InUse='0' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='Type' Width='110' Combo='TEXT'><Caption>Type</Caption></Col>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='ECommGSTIN' Combo='TEXT' ComboDefValue='2' Width='140'><Caption>E-Commerce GSTIN</Caption></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"cdnr"==o?i+="<XML GroupBy='VoucherNo'>\n<Col ID='LinkVoucherNo' Width='150' IsReadOnly='1'><Caption>Invoice/Advance Receipt Number</Caption></Col>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='DocumentType' Width='110' Combo='cdnrDocumentType'><Caption>Document Type</Caption></Col>\n<Col ID='InvValue' Combo='NUM' Width='140' IsOptional='1'><Caption>Note/Refund Voucher Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exp"==o?i+="<XML GroupBy='DocDate,VoucherNo,Rate'>\n<Col ID='ExportType' Width='140' Combo='TEXT'><Caption>Export Type</Caption></Col>\n<Col ID='VoucherNo' Width='110' IsReadOnly='1'><Caption>Invoice Number</Caption></Col>\n<Col ID='DocDate' Width='100' IsReadOnly='1'><Caption>Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='InvValue' Combo='NUM' Width='120' IsOptional='1'><Caption>Invoice Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='PortCode' Combo='TEXT' Width='120'><Caption>Port Code</Caption></Col>\n<Col ID='ShipBillNo' Combo='TEXT' Width='160'><Caption>Shipping Bill Number</Caption></Col>\n<Col ID='ShipBillDate' Combo='DATE' Width='150'><Caption>Shipping Bill Date</Caption><DType>DATE</DType></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='TaxableValue' Combo='NUM' Width='110' Agg='SUM'><Caption>Taxable Value</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"at"==o?i+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"atadj"==o?i+="<XML GroupBy='PoS,Rate'>\n<Col ID='PoS' Combo='DIM' Width='120'><Caption>Place Of Supply</Caption></Col>\n<Col ID='Rate' Combo='NUM' Width='110' Sort='DESC'><Caption>Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvReceived' Combo='NUM' Width='150' Agg='SUM' InUse='0'><Caption>Gross Advance Received</Caption><DType>FLOAT</DType></Col>\n<Col ID='AdvAdjusted' Combo='NUM' Width='150' Agg='SUM' IsReadOnly='1'><Caption>Gross Advance Adjusted</Caption><DType>FLOAT</DType></Col>\n<Col ID='CessAmt' Combo='NUM' Width='110' Agg='SUM' IsOptional='1'><Caption>Cess Amount</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='IntTaxAmt' Combo='NUM' Width='150' Agg='SUM' IsOptional='1' InUse='0'><Caption>Integrated Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='CTaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>Central Tax Amount</Caption><DType>FLOAT</DType></Col>\n<Col ID='STaxAmt' Combo='NUM' Width='140' Agg='SUM' IsOptional='1' InUse='0'><Caption>State/UT Tax Amount</Caption><DType>FLOAT</DType></Col>\n</XML>":"exemp"==o&&(i+="<XML GroupBy='VoucherNo'>\n<Col ID='VoucherNo' Width='130' IsReadOnly='1'><Caption>Note/Refund Voucher Number</Caption></Col>\n<Col ID='Value' Combo='NUM' Width='120' Agg='SUM' InUse='0'><Caption>Value</Caption><DType>FLOAT</DType></Col>\n<Col ID='NilRated' ComboDefValue='3' Combo='TEXT' Width='140'><Caption>Nil Rated Supplies</Caption><DType>FLOAT</DType></Col>\n</XML>"),i.toString()}static GSTR2AColumnsXML(o){let i="";return"b2b"==o||"b2ba"==o?(i="<XML>","b2ba"==o&&(i+="<Col ID='oinum' Width='110' IsReadOnly='1'><Caption>Orginal Invoice number</Caption></Col>\n<Col ID='oidt' Width='100' IsReadOnly='1'><Caption>Orginal Invoice Date</Caption><DType>DATE</DType></Col>"),i+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='inum' Width='110' IsReadOnly='1'><Caption>Invoice number</Caption></Col>\n<Col ID='inv_typ' Width='110' IsReadOnly='1'><Caption>Invoice type</Caption></Col>\n<Col ID='idt' Width='100' IsReadOnly='1'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Invoice Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rchrg' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='diff_percent' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cfs' Width='160' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Status</Caption></Col>\n<Col ID='fldtr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='flprdr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='cfs3b' Width='160' IsReadOnly='1'><Caption>GSTR-3B Filing Status</Caption></Col>\n<Col ID='atyp' Width='160' IsReadOnly='1'><Caption>Amendment made, if any</Caption></Col>\n<Col ID='aspd' Width='100' IsReadOnly='1'><Caption>Tax Period in which Amended</Caption><DType>DATE</DType></Col>\n<Col ID='dtcancel' Width='100' IsReadOnly='1'><Caption>Effective date of cancellation</Caption><DType>DATE</DType></Col>","b2b"==o&&(i+="<Col ID='srctyp' Width='100' IsReadOnly='1'><Caption>Source</Caption></Col>\n<Col ID='irn' Width='140' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='irngendate' Width='100' IsReadOnly='1'><Caption>IRN date</Caption><DType>DATE</DType></Col>"),i+="</XML>"):"cdn"==o||"cdna"==o?(i+="<XML>","cdna"==o&&(i+="<Col ID='ontty' Width='110' IsReadOnly='1'><Caption>Orginal Note type</Caption></Col>\n<Col ID='ont_num' Width='110' IsReadOnly='1'><Caption>Orginal Note Number</Caption></Col>\n<Col ID='ont_dt' Width='100' IsReadOnly='1'><Caption>Orginal Note date</Caption><DType>DATE</DType></Col>"),i+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='ntty' Width='110' IsReadOnly='1'><Caption>Note type</Caption></Col>\n<Col ID='nt_num' Width='110' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='inv_typ' Width='110' IsReadOnly='1'><Caption>Note Supply type</Caption></Col>\n<Col ID='nt_dt' Width='100' IsReadOnly='1'><Caption>Note date</Caption><DType>DATE</DType></Col>\n<Col ID='p_gst' Width='100' IsReadOnly='1' IsVisible='0'><Caption>p_gst</Caption></Col>\n<Col ID='d_flag' Width='100' IsReadOnly='1' IsVisible='0'><Caption>d_flag</Caption></Col>\n<Col ID='inum' Width='110' IsReadOnly='1' IsVisible='0'><Caption>Invoice number</Caption></Col>\n<Col ID='idt' Width='100' IsReadOnly='1' IsVisible='0'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Note Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rchrg' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='diff_percent' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='cfs' Width='160' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Status</Caption></Col>\n<Col ID='fldtr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='flprdr1' Width='100' IsReadOnly='1'><Caption>GSTR-1/IFF/GSTR-5 Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='cfs3b' Width='160' IsReadOnly='1'><Caption>GSTR-3B Filing Status</Caption></Col>\n<Col ID='atyp' Width='160' IsReadOnly='1'><Caption>Amendment made, if any</Caption></Col>\n<Col ID='aspd' Width='100' IsReadOnly='1'><Caption>Tax Period in which Amended</Caption><DType>DATE</DType></Col>\n<Col ID='dtcancel' Width='100' IsReadOnly='1'><Caption>Effective date of cancellation</Caption><DType>DATE</DType></Col>","cdn"==o&&(i+="<Col ID='srctyp' Width='100' IsReadOnly='1'><Caption>Source</Caption></Col>\n<Col ID='irn' Width='140' IsReadOnly='1'><Caption>IRN</Caption></Col>\n<Col ID='irngendate' Width='100' IsReadOnly='1'><Caption>IRN date</Caption><DType>DATE</DType></Col>\n<Col ID='cflag' Width='100' IsReadOnly='1' IsVisible='0'><Caption>cflag</Caption></Col>\n<Col ID='updby' Width='100' IsReadOnly='1' IsVisible='0'><Caption>updby</Caption></Col>"),i+="</XML>"):"isd"==o||"isda"==o?(i+="<XML>","isda"==o&&(i+="<Col ID='oisd_docty' Width='110' IsReadOnly='1'><Caption>Orginal ISD Document type</Caption></Col>\n<Col ID='odocnum' Width='110' IsReadOnly='1'><Caption>Orginal Document Number</Caption></Col>\n<Col ID='odocdt' Width='100' IsReadOnly='1'><Caption>Orginal Document date</Caption><DType>DATE</DType></Col>"),i+="<Col ID='itc_elg' Width='110' IsReadOnly='1'><Caption>Eligibility of ITC</Caption></Col>\n<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of ISD</Caption></Col>\n<Col ID='isd_docty' Width='110' IsReadOnly='1'><Caption>ISD Document type</Caption></Col>\n<Col ID='docnum' Width='110' IsReadOnly='1'><Caption>ISD Invoice number</Caption></Col>\n<Col ID='docdt' Width='100' IsReadOnly='1'><Caption>ISD Invoice date</Caption><DType>DATE</DType></Col>\n\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cfs' Width='160' IsReadOnly='1'><Caption>ISD GSTR-6 Filing status</Caption></Col>\n<Col ID='atyp' Width='160' IsReadOnly='1'><Caption>Amendment made, if any</Caption></Col>\n<Col ID='aspd' Width='100' IsReadOnly='1'><Caption>Tax Period in which Amended</Caption><DType>DATE</DType></Col>\n</XML>"):"tds"==o||"tdsa"==o?(i+="<XML>","tdsa"==o&&(i+="<Col ID='ogstin_ded' Width='160' Combo='TEXT' ComboDefValue='2'><Caption>Orginal GSTIN/UIN of Deduction</Caption></Col>\n<Col ID='omonth' Width='130' IsReadOnly='1'><Caption>Orginal Period</Caption></Col>\n<Col ID='oamt_ded' Combo='NUM' Width='110' Agg='SUM'><Caption>Orginal Taxable Value</Caption><DType>FLOAT</DType></Col>"),i+="<Col ID='gstin_ded' Width='160' IsReadOnly='1'><Caption>GSTIN of Deductor</Caption></Col>\n<Col ID='amt_ded' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n</XML>"):"tcs"==o?i+="<XML>\n<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='eitn' Width='160' IsReadOnly='1'><Caption>GSTIN of E-com. Operator</Caption></Col>\n<Col ID='sup_val' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Gross Value of  supplies (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='tx_val' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Net amount liable for TCS (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='camt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='samt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n</XML>":("impg"==o||"impgsez"==o)&&(i+="<XML>","impgsez"==o&&(i+="<Col ID='sgstin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='tdname' Width='160' IsVisible='0'><Caption>Trade/Legal name</Caption></Col>"),i+="<Col ID='refdt' Width='100' IsReadOnly='1'><Caption>Reference date (ICEGATE)</Caption><DType>DATE</DType></Col>\n<Col ID='portcd' Width='110' IsReadOnly='1'><Caption>Port code</Caption></Col>\n<Col ID='benum' Width='110' IsReadOnly='1'><Caption>Number</Caption></Col>\n<Col ID='bedt' Width='100' IsReadOnly='1'><Caption>Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='iamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='csamt' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='amd' Width='100' IsReadOnly='1'><Caption>Amended(Yes)</Caption><DType>DATE</DType></Col>\n</XML>"),i.toString()}static GSTR2BColumnsXML(o){let i="";return"b2b"==o||"b2ba"==o?(i+="<XML>","b2ba"==o&&(i+="<Col ID='oinum' Width='110' IsReadOnly='1'><Caption>Orginal Invoice number</Caption></Col>\n<Col ID='oidt' Width='100' IsReadOnly='1'><Caption>Orginal Invoice Date</Caption><DType>DATE</DType></Col>"),i+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='trdnm' Width='160' IsReadOnly='1'><Caption>Trade/Legal name</Caption></Col>\n<Col ID='supfildt' Width='150' IsReadOnly='1'><Caption>Supplier Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='supprd' Width='150' IsReadOnly='1'><Caption>Supplier Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='inum' Width='110' IsReadOnly='1'><Caption>Invoice number</Caption></Col>\n<Col ID='typ' Width='110' IsReadOnly='1'><Caption>Invoice type</Caption></Col>\n<Col ID='dt' Width='100' IsReadOnly='1'><Caption>Invoice Date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Invoice Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rev' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='itcavl' Width='120' IsReadOnly='1'><Caption>ITC available</Caption></Col>\n<Col ID='rsn' Width='120' IsReadOnly='1'><Caption>RSN</Caption></Col>\n<Col ID='diffprcnt' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>",i+="</XML>"):"cdnr"==o||"cdnra"==o?(i+="<XML>","cdnra"==o&&(i+="<Col ID='onttyp' Width='110' IsReadOnly='1'><Caption>Orginal Note type</Caption></Col>\n<Col ID='ontnum' Width='110' IsReadOnly='1'><Caption>Orginal Note Number</Caption></Col>\n<Col ID='ontdt' Width='100' IsReadOnly='1'><Caption>Orginal Note date</Caption><DType>DATE</DType></Col>"),i+="<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='trdnm' Width='160' IsReadOnly='1'><Caption>Trade/Legal name</Caption></Col>\n<Col ID='supfildt' Width='150' IsReadOnly='1'><Caption>Supplier Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='supprd' Width='150' IsReadOnly='1'><Caption>Supplier Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='ntnum' Width='110' IsReadOnly='1'><Caption>Note Number</Caption></Col>\n<Col ID='typ' Width='110' IsReadOnly='1'><Caption>Note type</Caption></Col>\n<Col ID='suptyp' Width='110' IsReadOnly='1'><Caption>Note Supply type</Caption></Col>\n<Col ID='dt' Width='100' IsReadOnly='1'><Caption>Note date</Caption><DType>DATE</DType></Col>\n<Col ID='val' Combo='NUM' Width='120' IsReadOnly='1'><Caption>Note Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='pos' Width='120' IsReadOnly='1'><Caption>Place of supply</Caption></Col>\n<Col ID='rev' Width='120' IsReadOnly='1'><Caption>Supply Attract Reverse Charge</Caption></Col>\n<Col ID='itcavl' Width='120' IsReadOnly='1'><Caption>ITC available</Caption></Col>\n<Col ID='rsn' Width='120' IsReadOnly='1'><Caption>RSN</Caption></Col>\n<Col ID='diffprcnt' Combo='NUM' Width='130' IsVisible='0'><Caption>Applicable % of Tax Rate</Caption><DType>FLOAT</DType></Col>\n<Col ID='rt' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Rate (%)</Caption><DType>FLOAT</DType></Col>\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>",i+="</XML>"):"isd"==o||"isda"==o?(i+="<XML>","isda"==o&&(i+="<Col ID='odoctyp' Width='110' IsReadOnly='1'><Caption>Orginal ISD Document type</Caption></Col>\n<Col ID='odocnum' Width='110' IsReadOnly='1'><Caption>Orginal Document Number</Caption></Col>\n<Col ID='odocdt' Width='100' IsReadOnly='1'><Caption>Orginal Document date</Caption><DType>DATE</DType></Col>"),i+="<Col ID='itcelg' Width='110' IsReadOnly='1'><Caption>Eligibility of ITC</Caption></Col>\n<Col ID='chksum' Width='160' IsVisible='0'><Caption>Check Sum</Caption></Col>\n<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of ISD</Caption></Col>\n<Col ID='trdnm' Width='160' IsReadOnly='1'><Caption>Trade Name</Caption></Col>\n<Col ID='supfildt' Width='150' IsReadOnly='1'><Caption>Supplier Filing Date</Caption><DType>DATE</DType></Col>\n<Col ID='supprd' Width='150' IsReadOnly='1'><Caption>Supplier Filing Period</Caption><DType>DATE</DType></Col>\n<Col ID='doctyp' Width='110' IsReadOnly='1'><Caption>ISD Document type</Caption></Col>\n<Col ID='docnum' Width='110' IsReadOnly='1'><Caption>ISD Invoice number</Caption></Col>\n<Col ID='docdt' Width='100' IsReadOnly='1'><Caption>ISD Invoice date</Caption><DType>DATE</DType></Col>\n<Col ID='oinvnum' Width='110' IsReadOnly='1'><Caption>Orginal Invoice number</Caption></Col>\n<Col ID='oinvdt' Width='100' IsReadOnly='1'><Caption>Orginal Invoice date</Caption><DType>DATE</DType></Col>\n\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Central Tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='sgst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>State/UT tax (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n</XML>"):("impg"==o||"impgsez"==o)&&(i+="<XML>","impgsez"==o&&(i+="<Col ID='ctin' Width='160' IsReadOnly='1'><Caption>GSTIN of supplier</Caption></Col>\n<Col ID='trdnm' Width='160' IsVisible='0'><Caption>Trade/Legal name</Caption></Col>"),i+="<Col ID='refdt' Width='100' IsReadOnly='1'><Caption>Reference date (ICEGATE)</Caption><DType>DATE</DType></Col>\n<Col ID='recdt' Width='100' IsReadOnly='1'><Caption>Reciept date</Caption><DType>DATE</DType></Col>\n<Col ID='portcode' Width='110' IsReadOnly='1'><Caption>Port code</Caption></Col>\n<Col ID='boenum' Width='110' IsReadOnly='1'><Caption>Number</Caption></Col>\n<Col ID='boedt' Width='100' IsReadOnly='1'><Caption>Date</Caption><DType>DATE</DType></Col>\n\n<Col ID='txval' Combo='NUM' Width='110' IsReadOnly='1'><Caption>Taxable Value (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='igst' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Integrated Tax  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='cess' Combo='NUM' Width='140' IsReadOnly='1'><Caption>Cess  (\u20b9)</Caption><DType>FLOAT</DType></Col>\n<Col ID='isamd' Width='100' IsReadOnly='1'><Caption>Amended(Yes)</Caption><DType>DATE</DType></Col>\n</XML>"),i.toString()}}class b extends w.g{constructor(){super(),this.GSTR2=["GSTR2_b2b","GSTR2_b2bur","GSTR2_imps","GSTR2_impg","GSTR2_cdnr","GSTR2_cdnur","GSTR2_at","GSTR2_atadj","GSTR2_exemp","GSTR2_itcr","GSTR2_hsnsum"],this.lstGSTReport=new R.bT,this.lstGridViewModel=new R.bT,this.dicReportID=new R.bT,this.Tab=new L.Z;let o=y.d.common.GetDataTable("GST002","");for(let i=0;i<this.GSTR2.length;i++){let a=this.GSTR2[i],p=o.filter(t=>t.ReportName==a);if(0==p.length)continue;let u=new U.vv;u.Width="",u.Height=0,this.lstGridViewModel.push(a,u),this.dicReportID.push(a,parseInt(p[0].ReportID));let s=new L.O;s.Name=a,s.Header=a.replace("GSTR2_",""),s.Fields.push(u),this.Tab.Tabs.push(s)}0==this.lstGridViewModel.length&&(this.DisplayMessage="No GSTR2 Reports Found")}static Add_AvailedITC(o,i){let a=!0,p="BillDate",u="BillNo";"GSTR2_b2bur"==o||"GSTR2_cdnr"==o||"GSTR2_cdnur"==o?(p="DocDate",u="VoucherNo"):("GSTR2_imps"==o||"GSTR2_impg"==o)&&(a=!1),i.Columns[0].push("ITCIntTaxAmt"),i.Columns[0].push("ITCCessAmt"),a&&(i.Columns[0].push("ITCCTaxAmt"),i.Columns[0].push("ITCSTaxAmt"));let s,t,m,c,N,r=null,e=null,n=0,D=-1235,T=0,h=0,d=0,I=0;for(let f=i.Tables[0].length-1;f>=0;f--)c=i.Tables[0][f],s=C.J0.String(c[p]),t=C.J0.String(c[u]),m=C.J0.String(c.ITCEligible),n=null==c.Rate?0:parseFloat(c.Rate),r==s&&e==t&&D==n?(N=i.Tables[0][f+1],null!=c.TaxableValue&&(N.TaxableValue=parseFloat(N.TaxableValue)+parseFloat(c.TaxableValue)),null!=c.IntTaxAmt&&(N.IntTaxAmt=parseFloat(N.IntTaxAmt)+parseFloat(c.IntTaxAmt)),null!=c.CessAmt&&(N.CessAmt=parseFloat(N.CessAmt)+parseFloat(c.CessAmt)),a&&(null!=c.CTaxAmt&&(N.CTaxAmt=parseFloat(N.CTaxAmt)+parseFloat(c.CTaxAmt)),null!=c.STaxAmt&&(N.STaxAmt=parseFloat(N.STaxAmt)+parseFloat(c.STaxAmt))),"Ineligible"!=m&&(N.ITCEligible=c.ITCEligible,null!=c.IntTaxAmt&&(T+=parseFloat(c.IntTaxAmt),N.ITCIntTaxAmt=T),null!=c.CessAmt&&(I+=parseFloat(c.CessAmt),N.ITCCessAmt=I),a&&(null!=c.CTaxAmt&&(h+=parseFloat(c.CTaxAmt),N.ITCCTaxAmt=h),null!=c.STaxAmt&&(d+=parseFloat(c.STaxAmt),N.ITCSTaxAmt=d))),i.Tables[0].RemoveAt(f)):(null==c.TaxableValue&&(c.TaxableValue=0),null==c.IntTaxAmt&&(c.IntTaxAmt=0),null==c.CessAmt&&(c.CessAmt=0),a&&(null==c.CTaxAmt&&(c.CTaxAmt=0),null==c.STaxAmt&&(c.STaxAmt=0)),"Ineligible"!=m?(T=parseFloat(c.IntTaxAmt),I=parseFloat(c.CessAmt),c.ITCIntTaxAmt=T,c.ITCCessAmt=I,a&&(h=parseFloat(c.CTaxAmt),d=parseFloat(c.STaxAmt),c.ITCCTaxAmt=h,c.ITCSTaxAmt=d)):T=h=d=I=0,r=s,e=t,D=n);"GSTR2_b2bur"==o&&(r=null)}static Update_at(o,i=!1){let a,p,u=null,s=0,t=0,m=0,r=0,e=0,n=0,D="",T="";o.Columns[0].push("InvValue");for(let d=0;d<o.Tables[0].length;d++){for(a=o.Tables[0][d],D="AccountID="+C.J0.String(a.AccountID)+" and RefDocNo='"+C.J0.String(a.VoucherNo)+"' and AdjAmount!=0",D!=T&&(u=o.Tables[1].filter(I=>I.AccountID==C.J0.String(a.AccountID)&&I.RefDocNo==C.J0.String(a.VoucherNo)&&0!=I.AdjAmount),s=0,T=D),a.InvValue=a.AdvReceived,e=null!=a.AdvReceived?parseFloat(a.AdvReceived):0,e=Math.abs(e),n=e;s<u.length;){if(r=Math.abs(parseFloat(u[s].AdjAmount)),r>=e){u[s].AdjAmount=r-e,e=0,o.Tables[0].RemoveAt(d),d--;break}u[s].AdjAmount=0,e-=r,a.AdvReceived=e,s++}e>0&&(m=null!=a.CessAmt?parseFloat(a.CessAmt):0,m>0&&n!=e&&(m=parseFloat((m*e/n).ToString("N2")),a.CessAmt=m))}let h=[];if(i)p={},o.Tables[0].length>0&&(p.TaxableValue=o.Tables[0].Compute("sum","AdvReceived"),p.CessAmt=o.Tables[0].Compute("sum","CessAmt"),p.IntTaxAmt=o.Tables[0].Compute("sum","IntTaxAmt"),p.CTaxAmt=o.Tables[0].Compute("sum","CTaxAmt"),p.STaxAmt=o.Tables[0].Compute("sum","STaxAmt"),p.Cnt=o.Tables[0].ToTable(!0,["VoucherNo"]).length),h.push(p);else{p=null,T=null;for(let d=0;d<o.Tables[0].length;d++)a=o.Tables[0][d],D="PoS='"+a.PoS.toString()+"' and Rate="+a.Rate.toString(),D!=T&&(p={},p.PoS=a.PoS,p.Rate=a.Rate,h.push(p),T=D,t=0,m=0),t+=parseFloat(a.AdvReceived),m+=null!=a.CessAmt?parseFloat(a.CessAmt):0,p.AdvReceived=t,p.CessAmt=m}o.Tables.Clear(),o.Tables.push(h)}static Update_atadj(o,i=!1){let a,p,u=null,s=0,t=0,m=0,r=0,e=0,n=0,D=0,T="",h="";for(let I=0;I<o.Tables[0].length;I++){if(a=o.Tables[0][I],T="AccountID="+C.J0.String(a.AccountID)+" and RefDocNo='"+C.J0.String(a.VoucherNo)+"' and AdjAmount!=0",T!=h){if(u=o.Tables[1].filter(c=>c.AccountID==C.J0.String(a.AccountID)&&c.RefDocNo==C.J0.String(a.VoucherNo)&&0!=c.AdjAmount),0==u.length){o.Tables[0].RemoveAt(I),I--;continue}s=0,h=T}for(e=null!=a.AdvReceived?parseFloat(a.AdvReceived):0,e=Math.abs(e),D=e,n=0;s<u.length;){if(r=Math.abs(parseFloat(u[s].AdjAmount)),r>=e){n+=e,u[s].AdjAmount=r-e,e-=r;break}u[s].AdjAmount=0,n+=r,e-=r,s++}0!=n?(a.AdvAdjusted=n,m=null!=a.CessAmt?parseFloat(a.CessAmt):0,m>0&&0!=n&&D!=n&&(m=parseFloat((m*n/D).ToString("N2")),a.CessAmt=m)):(o.Tables[0].RemoveAt(I),I--)}let d=[];if(i)p={},o.Tables[0].length>0&&(p.TaxableValue=o.Tables[0].Compute("sum","AdvAdjusted"),p.CessAmt=o.Tables[0].Compute("sum","CessAmt"),p.IntTaxAmt=o.Tables[0].Compute("sum","IntTaxAmt"),p.CTaxAmt=o.Tables[0].Compute("sum","CTaxAmt"),p.STaxAmt=o.Tables[0].Compute("sum","STaxAmt"),p.Cnt=o.Tables[0].ToTable(!0,["VoucherNo"]).length),d.push(p);else{p=null,h=null;for(let I=0;I<o.Tables[0].length;I++)a=o.Tables[0][I],T="PoS='"+a.PoS.toString()+"' and Rate="+a.Rate.toString(),T!=h&&(p={},p.PoS=a.PoS,p.Rate=a.Rate,d.push(p),h=T,t=0,m=0),t+=parseFloat(a.AdvAdjusted),m+=null!=a.CessAmt?parseFloat(a.CessAmt):0,p.AdvAdjusted=t,p.CessAmt=m}o.Tables.Clear(),o.Tables.push(d)}static UpdateVAT(o,i,a,p){let u=null;if("VATAED1"==o){let t,s=[],m=new Array(3).fill(0),r=new Array(3).fill(0),e=new Array(3).fill(0),n="";y.d.SessionManager.Preferences.ContainsKey("VATMaintainOn")&&("50001"==y.d.SessionManager.Preferences.VATMaintainOn?n=y.d.SessionManager.DivisionID>0?"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_division with(nolock) where NodeID="+y.d.SessionManager.DivisionID:"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_division with(nolock) where NodeID in ("+y.d.SessionManager.DivisionWhere+")":"50002"==y.d.SessionManager.Preferences.VATMaintainOn&&(n=y.d.SessionManager.LocationID>0?"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_location with(nolock) where NodeID="+y.d.SessionManager.LocationID:"select Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_location with(nolock) where NodeID in ("+(E.IsMultipleLocs?E.LocationWhere:y.d.SessionManager.LocationWhere)+")")),0==n.length&&(n="select  C.Name TaxPerName,acAlpha43 TaxPerNameArabic,acAlpha44 TRN,acAlpha45 TaxAgencyName,acAlpha46 AGNTAN,acAlpha47 AgentName,acAlpha48 TAAN,acAlpha49,acAlpha50 \nfrom PACT2C.dbo.ADM_CompanyExtended E with(nolock) inner join PACT2C.dbo.ADM_Company C with(nolock) on C.CompanyID=E.CompanyID\nwhere C.DBIndex="+y.d.SessionManager.CompanyIndex);let D=y.d.report.GetDataTable("RPT022",n),T={Description:"Main",StyleIsBold:"1"};s.push(T),T={},T.Description="Form Type",T.TaxableValue="",s.push(T),T={},T.Description="Document Locator",T.TaxableValue="",s.push(T),T={},T.Description="Tax Form Filing Type",T.TaxableValue="",s.push(T),T={},T.Description="Submission Date",T.TaxableValue="",s.push(T),s.push(),T={},T.Description="Taxable Person details",T.StyleIsBold="1",s.push(T),T={},T.Description="TRN",T.TaxableValue=D.length>1?C.J0.String(D.Compute("max","TRN")):D.length>0?C.J0.String(D[0].TRN):"",s.push(T),T={},T.Description="Taxable Person Name (English)",D.length>1&&(T.TaxableValue=C.J0.String(D.Compute("max","TaxPerName"))),T.TaxableValue=D.length>0?C.J0.String(D[0].TaxPerName):"",s.push(T),T={},T.Description="Taxable Person Name (Arabic)",D.length>1&&(T.TaxableValue=C.J0.String(D.Compute("max","TaxPerNameArabic"))),T.TaxableValue=D.length>0?C.J0.String(D[0].TaxPerNameArabic):"",s.push(T),T={},T.Description="Taxable Person Address",T.TaxableValue="",s.push(T),T={},T.Description="Tax Agency Name",D.length>1&&(T.TaxableValue=C.J0.String(D.Compute("max","TaxAgencyName"))),T.TaxableValue=D.length>0?C.J0.String(D[0].TaxAgencyName):"",s.push(T),T={},T.Description="TAN",D.length>1&&(T.TaxableValue=C.J0.String(D.Compute("max","AGNTAN"))),T.TaxableValue=D.length>0?C.J0.String(D[0].AGNTAN):"",s.push(T),T={},T.Description="Tax Agent Name",D.length>1&&(T.TaxableValue=C.J0.String(D.Compute("max","AgentName"))),T.TaxableValue=D.length>0?C.J0.String(D[0].AgentName):"",s.push(T),T={},T.Description="TAAN",D.length>1&&(T.TaxableValue=C.J0.String(D.Compute("max","TAAN"))),T.TaxableValue=D.length>0?C.J0.String(D[0].TAAN):"",s.push(T),s.push(),T={},T.Description="VAT Return Period",T.StyleIsBold="1",s.push(T),T={},T.Description="VAT Return Period",T.TaxableValue="",s.push(T),T={},T.Description="Tax Year",T.TaxableValue="",s.push(T),T={},T.Description="VAT Return Period Reference Number",T.TaxableValue=a.ToString("dd-MM-yyyy")+" - "+p.ToString("dd-MM-yyyy"),s.push(T),s.push(),T={},T.Description="VAT on Sales and all other Outputs",T.StyleIsBold="1",s.push(T),T={},T.TaxableValue="Amount (AED)",T.VATAmount="VAT Amount (AED)",T.Adjustment="Adjustment (AED)",T.StyleIsBold="1",s.push(T),T={},T.Section="1a",T.Description="Standard rated supplies in Abu Dhabi";let h=i.Tables[0].filter(d=>3==d.VATState);h.length>0&&(T.TaxableValue=b.GetNumberString(h[0].TaxableValue),T.VATAmount=b.GetNumberString(h[0].VATStdAmt),T.Adjustment=b.GetNumberString(h[0].StdAdjustment),m[0]+=parseFloat(h[0].TaxableValue),m[1]+=parseFloat(h[0].VATStdAmt),m[2]+=parseFloat(h[0].StdAdjustment)),s.push(T),T={},T.Section="1b",T.Description="Standard rated supplies in Dubai",h=i.Tables[0].filter(d=>6==d.VATState),h.length>0&&(T.TaxableValue=b.GetNumberString(h[0].TaxableValue),T.VATAmount=b.GetNumberString(h[0].VATStdAmt),T.Adjustment=b.GetNumberString(h[0].StdAdjustment),m[0]+=parseFloat(h[0].TaxableValue),m[1]+=parseFloat(h[0].VATStdAmt),m[2]+=parseFloat(h[0].StdAdjustment)),s.push(T),T={},T.Section="1c",T.Description="Standard rated supplies in Sharjah",h=i.Tables[0].filter(d=>5==d.VATState),h.length>0&&(T.TaxableValue=b.GetNumberString(h[0].TaxableValue),T.VATAmount=b.GetNumberString(h[0].VATStdAmt),T.Adjustment=b.GetNumberString(h[0].StdAdjustment),m[0]+=parseFloat(h[0].TaxableValue),m[1]+=parseFloat(h[0].VATStdAmt),m[2]+=parseFloat(h[0].StdAdjustment)),s.push(T),T={},T.Section="1d",T.Description="Standard rated supplies in Ajman",h=i.Tables[0].filter(d=>4==d.VATState),h.length>0&&(T.TaxableValue=b.GetNumberString(h[0].TaxableValue),T.VATAmount=b.GetNumberString(h[0].VATStdAmt),T.Adjustment=b.GetNumberString(h[0].StdAdjustment),m[0]+=parseFloat(h[0].TaxableValue),m[1]+=parseFloat(h[0].VATStdAmt),m[2]+=parseFloat(h[0].StdAdjustment)),s.push(T),T={},T.Section="1e",T.Description="Standard rated supplies in Umm Al Quwain",h=i.Tables[0].filter(d=>9==d.VATState),h.length>0&&(T.TaxableValue=b.GetNumberString(h[0].TaxableValue),T.VATAmount=b.GetNumberString(h[0].VATStdAmt),T.Adjustment=b.GetNumberString(h[0].StdAdjustment),m[0]+=parseFloat(h[0].TaxableValue),m[1]+=parseFloat(h[0].VATStdAmt),m[2]+=parseFloat(h[0].StdAdjustment)),s.push(T),T={},T.Section="1f",T.Description="Standard rated supplies in Ras Al Khaimah",h=i.Tables[0].filter(d=>8==d.VATState),h.length>0&&(T.TaxableValue=b.GetNumberString(h[0].TaxableValue),T.VATAmount=b.GetNumberString(h[0].VATStdAmt),T.Adjustment=b.GetNumberString(h[0].StdAdjustment),m[0]+=parseFloat(h[0].TaxableValue),m[1]+=parseFloat(h[0].VATStdAmt),m[2]+=parseFloat(h[0].StdAdjustment)),s.push(T),T={},T.Section="1g",T.Description="Standard rated supplies in Fujairah",h=i.Tables[0].filter(d=>7==d.VATState),h.length>0&&(T.TaxableValue=b.GetNumberString(h[0].TaxableValue),T.VATAmount=b.GetNumberString(h[0].VATStdAmt),T.Adjustment=b.GetNumberString(h[0].StdAdjustment),m[0]+=parseFloat(h[0].TaxableValue),m[1]+=parseFloat(h[0].VATStdAmt),m[2]+=parseFloat(h[0].StdAdjustment)),s.push(T),T={},T.Section="2",T.Description="Tax Refunds provided to Tourists under the Tax Returns or Tourists Scheme",i.Columns[4].Contains("VATStdAmt")&&(t=i.Tables[4].Compute("sum","TaxableValue"),null!=t&&(m[0]+=parseFloat(t),T.TaxableValue=b.GetNumberString(t)),t=i.Tables[4].Compute("VATStdAmt","sum"),null!=t&&(m[1]+=parseFloat(t),T.VATAmount=b.GetNumberString(t))),s.push(T),T={},T.Section="3",T.Description="Supplies subject to the reverse charge provisions",i.Columns[3].Contains("VATStd")&&(t=i.Tables[3].filter(d=>d.VATRCM>0&&3==d.ProductType).Compute("sum","TaxableValue"),null!=t&&(m[0]+=parseFloat(t),e[0]+=parseFloat(t),T.TaxableValue=b.GetNumberString(t)),t=i.Tables[3].filter(d=>d.VATRCM>0&&3==d.ProductType).Compute("sum","VATRCMAmt"),null!=t&&(m[1]+=parseFloat(t),e[1]+=parseFloat(t),T.VATAmount=b.GetNumberString(t)),t=i.Tables[3].filter(d=>d.VATRCM>0&&3==d.ProductType).Compute("sum","RCMAdjustment"),null!=t&&(m[2]+=parseFloat(t),e[2]+=parseFloat(t),T.Adjustment=b.GetNumberString(t))),s.push(T),T={},T.Section="4",T.Description="Zero rated supplies",t=i.Tables[1].filter(d=>13==d.SaleType).Compute("sum","TaxableValue"),T.TaxableValue=b.GetNumberString(t),null!=t&&(m[0]+=parseFloat(t)),s.push(T),T={},T.Section="5",T.Description="Exempt supplies",t=i.Tables[1].filter(d=>14==d.SaleType).Compute("sum","TaxableValue"),T.TaxableValue=b.GetNumberString(t),null!=t&&(m[0]+=parseFloat(t)),s.push(T),T={},T.Section="6",T.Description="Goods imported into the UAE",T.TaxableValue=b.GetNumberString(i.Tables[2][0].TaxableValue),null!=T.TaxableValue&&(m[0]+=parseFloat(T.TaxableValue),e[0]+=parseFloat(T.TaxableValue)),T.VATAmount=b.GetNumberString(i.Tables[2][0].VATCustomAmt),null!=i.Tables[2][0].VATCustomAmt&&(m[1]+=parseFloat(i.Tables[2][0].VATCustomAmt),e[1]+=parseFloat(i.Tables[2][0].VATCustomAmt)),s.push(T),T={},T.Section="7",T.Description="Adjustments to goods imported into the UAE",i.Columns[5].Contains("VATStdAmt")&&(t=i.Tables[5].Compute("TaxableValue","sum"),null!=t&&(m[2]+=parseFloat(t),T.Adjustment=b.GetNumberString(t))),s.push(T),T={},T.Section="8",T.Description="Totals",T.TaxableValue=b.GetNumberString(m[0]),T.VATAmount=b.GetNumberString(m[1]),T.Adjustment=b.GetNumberString(m[2]),s.push(T),s.push(),T={},T.Description="VAT on Expenses and all other Inputs",T.StyleIsBold="1",s.push(T),T={},T.TaxableValue="Amount (AED)",T.VATAmount="Recoverable VAT Amount (AED)",T.Adjustment="Adjustment (AED)",T.StyleIsBold="1",s.push(T),T={},T.Section="9",T.Description="Standard rated expenses",i.Columns[3].Contains("VATStd")&&(t=i.Tables[3].filter(d=>d.VATStd>0).Compute("sum","TaxableValue"),null!=t&&(T.TaxableValue=b.GetNumberString(t),r[0]+=parseFloat(t)),t=i.Tables[3].filter(d=>d.VATStd>0).Compute("sum","VATStdAmt"),null!=t&&(T.VATAmount=b.GetNumberString(t),r[1]+=parseFloat(t)),t=i.Tables[3].filter(d=>d.VATStd>0).Compute("sum","StdAdjustment"),null!=t&&(T.Adjustment=b.GetNumberString(t),r[2]+=parseFloat(t))),s.push(T),T={},T.Section="10",T.Description="Supplies subject to the reverse charge provisions",T.TaxableValue=b.GetNumberString(e[0]),r[0]+=e[0],T.VATAmount=b.GetNumberString(e[1]),r[1]+=e[1],T.Adjustment=b.GetNumberString(e[2]),r[2]+=e[2],s.push(T),T={},T.Section="11",T.Description="Totals",T.TaxableValue=b.GetNumberString(r[0]),T.VATAmount=b.GetNumberString(r[1]),T.Adjustment=b.GetNumberString(r[2]),s.push(T),T={},s.push(T),T={},T.Description="Net VAT due",T.StyleIsBold="1",s.push(T),T={},T.Section="12",T.Description="Total value of due tax for the period",T.TaxableValue=b.GetNumberString(m[1]+m[2]),s.push(T),T={},T.Section="13",T.Description="Total value of recoverable tax for the period",T.TaxableValue=b.GetNumberString(r[1]+r[2]),s.push(T),T={},T.Section="14",T.Description="Net VAT due(or reclaimed) for the period ",T.TaxableValue=b.GetNumberString(m[1]+m[2]-(r[1]+r[2])),s.push(T),i.Tables.Clear(),i.Tables.push(s)}else if("VATSAS1"==o){let t,s=[],r=(b.GetVATTaxblePersonDetails(),0),e=0,n=0,D=0,T=0,h=0;t={},t.Description="VAT on Sales",t.StyleIsBold="1",s.push(t),t={},t.Section="1",t.Description="Standard rated sales";let d=i.Tables[0].Compute("sum","TaxableValue");null==d&&(d=0),t.TaxableValue=b.GetNumberString(d),r+=parseFloat(d),d=i.Tables[0].Compute("sum","Adjustment"),null==d&&(d=0),t.Adjustment=b.GetNumberString(d),e+=parseFloat(d),d=i.Tables[0].Compute("sum","VATStdAmt)"),null==d&&(d=0),t.VATAmount=b.GetNumberString(d),n+=parseFloat(d),s.push(t),t={},t.Section="2",t.Description="Sales to Customers in VAT implementing GCC Countries",d=i.Tables[1].filter(I=>8==I.AccType).Compute("sum","TaxableValue"),null==d&&(d=0),t.TaxableValue=b.GetNumberString(d),r+=parseFloat(d),d=i.Tables[1].filter(I=>8==I.AccType).Compute("sum","Adjustment"),null==d&&(d=0),t.Adjustment=b.GetNumberString(d),e+=parseFloat(d),s.push(t),t={},t.Section="3",t.Description="Zero rated domestic sales",d=i.Tables[1].filter(I=>13==I.SaleType).Compute("sum","TaxableValue"),null==d&&(d=0),t.TaxableValue=b.GetNumberString(d),r+=parseFloat(d),d=i.Tables[1].filter(I=>13==I.SaleType).Compute("sum","Adjustment"),null==d&&(d=0),t.Adjustment=b.GetNumberString(d),e+=parseFloat(d),s.push(t),t={},t.Section="4",t.Description="Exports",s.push(t),t={},t.Section="5",t.Description="Exempt sales",d=i.Tables[1].filter(I=>14==I.SaleType).Compute("sum","TaxableValue"),null==d&&(d=0),t.TaxableValue=b.GetNumberString(d),r+=parseFloat(d),d=i.Tables[1].filter(I=>14==I.SaleType).Compute("sum","Adjustment"),null==d&&(d=0),t.Adjustment=b.GetNumberString(d),e+=parseFloat(d),s.push(t),t={},t.Section="6",t.Description="Total Sales",t.TaxableValue=b.GetNumberString(r),t.VATAmount=b.GetNumberString(n),t.Adjustment=b.GetNumberString(e),t.Row_Foreground="Red",s.push(t),s.push(),t={},t.Description="VAT on Purchases",t.StyleIsBold="1",s.push(t),t={},t.Section="7",t.Description="Standard rated domestic purchases",i.Columns[3].Contains("VATStd")&&(d=i.Tables[3].filter(I=>I.VATStd>0).Compute("sum","TaxableValue"),null==d&&(d=0),t.TaxableValue=b.GetNumberString(d),D+=parseFloat(d),d=i.Tables[3].filter(I=>I.VATStd>0).Compute("sum","VATStdAmt"),null==d&&(d=0),t.VATAmount=b.GetNumberString(d),h+=parseFloat(d),d=i.Tables[3].filter(I=>I.VATStd>0).Compute("sum","Adjustment"),null==d&&(d=0),t.Adjustment=b.GetNumberString(d),T+=parseFloat(d)),s.push(t),t={},t.Section="8",t.Description="Imports subject to VAT paid at customs",i.Columns[3].Contains("VATStd")&&(d=i.Tables[3].filter(I=>I.VATCustom>0).Compute("sum","TaxableValue"),null==d&&(d=0),t.TaxableValue=b.GetNumberString(d),D+=parseFloat(d),d=i.Tables[3].filter(I=>I.VATCustom>0).Compute("sum","VATCustomAmt"),null==d&&(d=0),t.VATAmount=b.GetNumberString(d),h+=parseFloat(d),d=i.Tables[3].filter(I=>I.VATCustom>0).Compute("sum","Adjustment"),null==d&&(d=0),t.Adjustment=b.GetNumberString(d),T+=parseFloat(d)),s.push(t),t={},t.Section="9",t.Description="Imports subject to VAT accounted for through reverse charge mechanism",i.Columns[3].Contains("VATStd")&&(d=i.Tables[3].filter(I=>I.VATRCM>0).Compute("sum","TaxableValue"),null==d&&(d=0),t.TaxableValue=b.GetNumberString(d),D+=parseFloat(d),d=i.Tables[3].filter(I=>I.VATRCM>0).Compute("sum","VATRCMAmt"),null==d&&(d=0),t.VATAmount=b.GetNumberString(d),h+=parseFloat(d),d=i.Tables[3].filter(I=>I.VATRCM>0).Compute("sum","Adjustment"),null==d&&(d=0),t.Adjustment=b.GetNumberString(d),T+=parseFloat(d)),s.push(t),t={},t.Section="10",t.Description="Zero rated purchases",i.Columns[3].Contains("VATStd")&&(d=i.Tables[3].filter(I=>0==I.VAT&&13==I.SaleType).Compute("sum","TaxableValue"),null==d&&(d=0),t.TaxableValue=b.GetNumberString(d),D+=parseFloat(d),d=i.Tables[3].filter(I=>0==I.VAT&&13==I.SaleType).Compute("sum","Adjustment"),null==d&&(d=0),t.Adjustment=b.GetNumberString(d),T+=parseFloat(d)),s.push(t),t={},t.Section="11",t.Description="Exempt purchases",i.Columns[3].Contains("VATStd")&&(d=i.Tables[3].filter(I=>0==I.VAT&&14==I.SaleType).Compute("sum","TaxableValue"),null==d&&(d=0),t.TaxableValue=b.GetNumberString(d),D+=parseFloat(d),d=i.Tables[3].filter(I=>0==I.VAT&&14==I.SaleType).Compute("sum","Adjustment"),null==d&&(d=0),t.Adjustment=b.GetNumberString(d),T+=parseFloat(d)),s.push(t),t={},t.Section="12",t.Description="Total Purchases",t.TaxableValue=b.GetNumberString(D),t.VATAmount=b.GetNumberString(h),t.Adjustment=b.GetNumberString(T),t.Row_Foreground="Red",s.push(t),s.push(),t={},t.Section="13",t.Description="Total VAT due for current period",t.VATAmount=b.GetNumberString(n-h),s.push(t),t={},t.Section="14",t.Description="Corrections from previous period(between SAR 5,000+/-)",t.VATAmount=0,s.push(t),t={},t.Section="15",t.Description="VAT credit carried forward from previous period(s)",t.VATAmount=0,s.push(t),t={},t.Description="Net VAT due(or claim)",t.VATAmount=b.GetNumberString(n-h),s.push(t),i.Tables.Clear(),i.Tables.push(s)}else if("VATFATPurchaseList"==o||"VATFATSupplyList"==o){let s,t,m=0,r="",e=i.Tables[0];u=new ft,"VATFATPurchaseList"==o?(r="SupplierName",u.ValueColumn="SupplierTIN",s=e.Compute("sum","PurchaseValueAED"),m=null!=s?parseFloat(s):0,t={},t.XMLID="PurchaseTotalAED",t[r]="Purchase Total AED",t[u.ValueColumn]=m.ToString("N2"),t.StyleIsBold="1",e.push(t),s=e.Compute("sum","VATValueAED"),m=null!=s?parseFloat(s):0,t={},t.XMLID="VATTotalAED",t[r]="VAT Total AED",t[u.ValueColumn]=m.ToString("N2"),t.StyleIsBold="1",e.push(t)):"VATFATSupplyList"==o&&(r="CustomerName",u.ValueColumn="CustomerTIN",s=e.Compute("sum","SupplyValueAED"),m=null!=s?parseFloat(s):0,t={},t.XMLID="SupplyTotalAED",t[r]="Supply Total AED",t[u.ValueColumn]=m.ToString("N2"),t.StyleIsBold="1",e.push(t),s=e.Compute("sum","VATValueAED"),m=null!=s?parseFloat(s):0,t={},t.XMLID="VATTotalAED",t[r]="VAT Total AED",t[u.ValueColumn]=m.ToString("N2"),t.StyleIsBold="1",e.push(t)),t={},t.XMLID="TransactionCountTotal",t[r]="Transaction Count Total",t[u.ValueColumn]=e.filter(D=>!C.J0.StringIsNullOrEmpty(D.VoucherNo)).ToTable(!0,["VoucherNo"]).length.toString(),t.StyleIsBold="1",e.push(t);let n=b.GetVATTaxblePersonDetails().Tables[0];t={},t[r]="Taxable Person details",t.StyleIsBold="1",e.InsertAt(t,0),t={},t.XMLID="TaxablePersonNameEn",t[r]="Taxable Person Name (English)",n.length>1&&(t[u.ValueColumn]=C.J0.String(n.Compute("max","TaxPerName"))),t[u.ValueColumn]=n.length>0?C.J0.String(n[0].TaxPerName):"",e.InsertAt(t,1),t={},t.XMLID="TaxablePersonNameAr",t[r]="Taxable Person Name (Arabic)",n.length>1&&(t[u.ValueColumn]=C.J0.String(n.Compute("max","TaxPerNameArabic"))),t[u.ValueColumn]=n.length>0?C.J0.String(n[0].TaxPerNameArabic):"",e.InsertAt(t,2),t={},t.XMLID="TRN",t[r]="TRN",t[u.ValueColumn]=n.length>1?C.J0.String(n.Compute("max","TRN")):n.length>0?C.J0.String(n[0].TRN):"",e.InsertAt(t,3),t={},t.XMLID="TaxAgencyName",t[r]="Tax Agency Name",n.length>1&&(t[u.ValueColumn]=C.J0.String(n.Compute("max","TaxAgencyName"))),t[u.ValueColumn]=n.length>0?C.J0.String(n[0].TaxAgencyName):"",e.InsertAt(t,4),t={},t.XMLID="TAN",t[r]="TAN",n.length>1&&(t[u.ValueColumn]=C.J0.String(n.Compute("max","AGNTAN"))),t[u.ValueColumn]=n.length>0?C.J0.String(n[0].AGNTAN):"",e.InsertAt(t,5),t={},t.XMLID="TaxAgentName",t[r]="Tax Agent Name",n.length>1&&(t[u.ValueColumn]=C.J0.String(n.Compute("max","AgentName"))),t[u.ValueColumn]=n.length>0?C.J0.String(n[0].AgentName):"",e.InsertAt(t,6),t={},t.XMLID="TAAN",t[r]="TAAN",n.length>1&&(t[u.ValueColumn]=C.J0.String(n.Compute("max","TAAN"))),t[u.ValueColumn]=n.length>0?C.J0.String(n[0].TAAN):"",e.InsertAt(t,7),t={},t.XMLID="PeriodStart",t[r]="VAT Period Start",t[u.ValueColumn]="",e.InsertAt(t,8),t={},t.XMLID="PeriodEnd",t[r]="VAT Period End",t[u.ValueColumn]="",e.InsertAt(t,9),t={},t.XMLID="FAFCreationDate",t[r]="FAF creation date",t[u.ValueColumn]="",e.InsertAt(t,10),t={},t.XMLID="ProductVersion",t[r]="Product Version",t[u.ValueColumn]="",e.InsertAt(t,11),t={},t.XMLID="FAFVersion",t[r]="FAF Version",t[u.ValueColumn]="",e.InsertAt(t,12),u.CompanyStartRow=1,u.CompanyEndRow=12,t={},e.InsertAt(t,13),u.DataStartRow=14,u.DataEndRow=e.length-4}return u}static GetVATTaxblePersonDetails(){return y.d.report.DataSet("RPT022","\ndeclare @VATDIM nvarchar(20)\nselect @VATDIM=Value from adm_globalpreferences with(nolock) where Name='VATMaintainOn'\nif @VATDIM='50001'\nselect Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_division with(nolock) where NodeID="+y.d.SessionManager.DivisionID+"\nelse if @VATDIM='50002'\nselect Name TaxPerName,AliasName TaxPerNameArabic,ccAlpha43 TRN,ccAlpha44 TaxAgencyName,ccAlpha45 AGNTAN,ccAlpha46 AgentName,ccAlpha47 TAAN from com_location with(nolock) where NodeID="+y.d.SessionManager.LocationID+"\nelse\nselect  C.Name TaxPerName,acAlpha43 TaxPerNameArabic,acAlpha44 TRN,acAlpha45 TaxAgencyName,acAlpha46 AGNTAN,acAlpha47 AgentName,acAlpha48 TAAN,acAlpha49,acAlpha50 \nfrom PACT2C.dbo.ADM_CompanyExtended E with(nolock) inner join PACT2C.dbo.ADM_Company C with(nolock) on C.CompanyID=E.CompanyID\nwhere C.CompanyID="+y.d.SessionManager.CompanyIndex)}static GetNumberString(o){return C.J0.IsNum(o)?parseFloat(o).ToString("N"+y.d.SessionManager.Preferences.DecimalsinAmount):b.GetNumberString(0)}static FillRows(o,i){let p,a=!1;o.Data.Clear(),i.forEach(u=>{a=!1;let s=new H.Ji(o.ReportColumns.length);"1"==C.J0.String(u.StyleIsBold)&&(a=!0),p="",""!=C.J0.String(u.Row_Foreground)&&(p=u.Row_Foreground.toString());for(let t=0;t<o.ReportColumns.length;t++){let m=o.ReportColumns[t];if(!C.J0.IsEmpty(u[m.ID]))continue;let r=C.J0.String(u[m.ID]);""!=r&&(gt.ReportViewModel.SetCellValue(r,m.DataFormat,m.ColumnType,-1,s.Cells[t],m.ID),(a||""!=p)&&(s.Cells[t].IsNormal=!1,s.Cells[t].CellAppearance=m.DataAppearance.Clone(),a&&(s.Cells[t].CellAppearance.IsBold=!0),p.length>0&&(s.Cells[t].CellAppearance.ForeColor=p)))}o.Data.push(s)})}}class Rt extends w.g{constructor(){super(...arguments),this.Status=""}}class Y extends Rt{constructor(){super(),this.GSTR1=["b2b","b2cl","b2cs","cdnr","cdnur","exp","at","atadj","exemp","hsn","docs"],this.lstGSTReport=new R.bT,this.lstGridViewModel=new R.bT,this.dicReportID=new R.bT,this.Tab=new L.Z;let o=y.d.common.GetDataTable("GST001","");for(let i=0;i<this.GSTR1.length;i++){let a=this.GSTR1[i],p=o.filter(t=>t.ReportName==a);if(0==p.length)continue;let u=new U.vv;u.Width="",u.Height=0,this.lstGridViewModel.push(a,u),this.dicReportID.push(a,parseInt(p[0].ReportID));let s=new L.O;s.Name=a,s.Header=a.replace("GSTR1_",""),s.Fields.push(u),this.Tab.Tabs.push(s)}0==this.lstGridViewModel.length&&(this.DisplayMessage="No GSTR1 Reports Found")}static Update_at(o,i=!1){let a,p,u=null,s=0,t=0,m=0,r=0,e=0,n=0,D="",T="";o.Columns[0].push("InvValue");for(let d=0;d<o.Tables[0].length;d++){for(a=o.Tables[0][d],D="AccountID="+C.J0.String(a.AccountID)+" and RefDocNo='"+C.J0.String(a.VoucherNo)+"' and AdjAmount!=0",D!=T&&(u=o.Tables[1].filter(I=>I.AccountID==C.J0.String(a.AccountID)&&I.RefDocNo==C.J0.String(a.VoucherNo)&&0!=I.AdjAmount),s=0,T=D),a.InvValue=a.AdvReceived,e=null!=a.AdvReceived?parseFloat(a.AdvReceived):0,e=Math.abs(e),n=e;s<u.length;){if(r=Math.abs(parseFloat(u[s].AdjAmount)),r>=e){u[s].AdjAmount=r-e,e=0,o.Tables[0].RemoveAt(d),d--;break}u[s].AdjAmount=0,e-=r,a.AdvReceived=e,s++}e>0&&(m=null!=a.CessAmt?parseFloat(a.CessAmt):0,m>0&&n!=e&&(m=parseFloat((m*e/n).ToString("N2")),a.CessAmt=m))}let h=[];if(i)p={},o.Tables[0].length>0&&(p.TaxableValue=o.Tables[0].Compute("sum(AdvReceived)",""),p.CessAmt=o.Tables[0].Compute("sum(CessAmt)",""),p.IntTaxAmt=o.Tables[0].Compute("sum(IntTaxAmt)",""),p.CTaxAmt=o.Tables[0].Compute("sum(CTaxAmt)",""),p.STaxAmt=o.Tables[0].Compute("sum(STaxAmt)",""),p.Cnt=o.Tables[0].ToTable(!0,["VoucherNo"]).length),h.push(p);else{p=null,T=null;for(let d=0;d<o.Tables[0].length;d++)a=o.Tables[0][d],D="PoS='"+C.J0.String(a.PoS)+"' and Rate="+C.J0.String(a.Rate),D!=T&&(p={},p.PoS=a.PoS,p.Rate=a.Rate,h.push(p),T=D,t=0,m=0),t+=parseFloat(a.AdvReceived),m+=null!=a.CessAmt?parseFloat(a.CessAmt):0,p.AdvReceived=t,p.CessAmt=m}o.Tables.Clear(),o.Tables.push(h)}static Update_atadj(o,i=!1){let a,p,u=null,s=0,t=0,m=0,r=0,e=0,n=0,D=0,T="",h="";for(let I=0;I<o.Tables[0].length;I++){if(a=o.Tables[0][I],T="AccountID="+C.J0.String(a.AccountID)+" and RefDocNo='"+C.J0.String(a.VoucherNo)+"' and AdjAmount!=0",T!=h){if(u=o.Tables[1].filter(c=>c.AccountID==C.J0.String(a.AccountID)&&c.RefDocNo==C.J0.String(a.VoucherNo)&&0!=c.AdjAmount),0==u.length){o.Tables[0].RemoveAt(I),I--;continue}s=0,h=T}for(e=null!=a.AdvReceived?parseFloat(a.AdvReceived):0,e=Math.abs(e),D=e,n=0;s<u.length;){if(r=Math.abs(parseFloat(u[s].AdjAmount)),r>=e){n+=e,u[s].AdjAmount=r-e,e-=r;break}u[s].AdjAmount=0,n+=r,e-=r,s++}0!=n?(a.AdvAdjusted=n,m=null!=a.CessAmt?parseFloat(a.CessAmt):0,m>0&&0!=n&&D!=n&&(m=parseFloat((m*n/D).ToString("N2")),a.CessAmt=m)):(o.Tables[0].RemoveAt(I),I--)}let d=[];if(i)p={},o.Tables[0].length>0&&(p.TaxableValue=o.Tables[0].Compute("sum(AdvAdjusted)",""),p.CessAmt=o.Tables[0].Compute("sum(CessAmt)",""),p.IntTaxAmt=o.Tables[0].Compute("sum(IntTaxAmt)",""),p.CTaxAmt=o.Tables[0].Compute("sum(CTaxAmt)",""),p.STaxAmt=o.Tables[0].Compute("sum(STaxAmt)",""),p.Cnt=o.Tables[0].ToTable(!0,["VoucherNo"]).length),d.push(p);else{p=null,h=null;for(let I=0;I<o.Tables[0].length;I++)a=o.Tables[0][I],T="PoS='"+a.PoS.toString()+"' and Rate="+a.Rate.toString(),T!=h&&(p={},p.PoS=a.PoS,p.Rate=a.Rate,d.push(p),h=T,t=0,m=0),t+=parseFloat(a.AdvAdjusted),m+=null!=a.CessAmt?parseFloat(a.CessAmt):0,p.AdvAdjusted=t,p.CessAmt=m}o.Tables.Clear(),o.Tables.push(d)}}class M extends w.g{constructor(){super(),this.dtMain=null,this.dtFeatures=null,this.dtSalesDocs=null,this.dicDataTables=new R.bT,this.Columns=new Array,this.OldRowTypeValue="",this.GSTType="",this.dtMain=[],this.ReportGrid=new U.vv,this.ReportGrid.Table=this.dtMain,this.ReportGrid.CanUserAddRows=!0,this.ReportGrid.CanUserDeleteRows=!0}onBeginEdit(o,i,a){return!1}static SetQueryWhere(o,i,a,p){let u,s=null!=p?p.Date():a.AddMonths(1).AddDays(-1);u="atadj"==i?" and INV.DocDate<convert(float,convert(datetime,'"+a.ToString("dd MMM yyyy")+"'))":i.endsWith("GSTR2_")?" and INV.BillDate between convert(float,convert(datetime,'"+a.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+s.ToString("dd MMM yyyy")+"'))":" and INV.DocDate between convert(float,convert(datetime,'"+a.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+s.ToString("dd MMM yyyy")+"'))","True"==y.d.SessionManager.Preferences.EnableLocationWise.toString()&&"True"==y.d.SessionManager.Preferences["LW Reports"]&&(E.IsMultipleLocs?u+=" and DCC.dcCCNID2 in ("+E.LocationWhere+")":y.d.SessionManager.LocationID>0?u+=" and DCC.dcCCNID2="+y.d.SessionManager.LocationID:"1"!=y.d.SessionManager.RoleID&&y.d.SessionManager.LocationWhere.length>0&&(u+=" and DCC.dcCCNID2 in ("+y.d.SessionManager.LocationWhere+")"),("True"==y.d.SessionManager.Preferences.Login.toString()||"True"==y.d.SessionManager.Preferences.EnableDivisionWise.toString())&&(y.d.SessionManager.DivisionID>0?u+=" and DCC.dcCCNID1="+y.d.SessionManager.DivisionID:"1"!=y.d.SessionManager.RoleID&&y.d.SessionManager.DivisionWhere.length>0&&(u+=" and DCC.dcCCNID1 in ("+y.d.SessionManager.DivisionWhere+")")));let t=parseInt(y.d.SessionManager.Preferences.GST_GSTINDim);return t>5e4&&"1"!=y.d.SessionManager.RoleID&&"1"!=y.d.SessionManager.UserID&&y.d.SessionManager.Preferences.ContainsKey("Dimension List")&&y.d.SessionManager.Preferences["Dimension List"].Contains(t.toString())&&(u+=" and DCC.dcCCNID"+(t-5e4)+" in (SELECT NodeID FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE CostCenterID="+t+" AND ((ParentCostCenterID=6 AND ParentNodeID="+y.d.SessionManager.RoleID+") OR (ParentCostCenterID=7 AND ParentNodeID="+y.d.SessionManager.UserID+")))"),(o=o.Replace("@WHERE@",u)).Contains("@FROMDATE@")&&(o=o.Replace("@FROMDATE@","'"+a.ToString("dd MMM yyyy")+"'")),("at"==i||"atadj"==i||"GSTR2_at"==i||"GSTR2_atadj"==i)&&(o=o.Replace("@atWHERE@"," and CB.DocDate between convert(float,convert(datetime,'"+a.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+s.ToString("dd MMM yyyy")+"'))")),o}static SetVATQueryWhere(o,i,a,p){let u="";return("VATFATPurchaseList"==i||"VATFATSupplyList"==i)&&(u=" and INV.DocDate between convert(float,convert(datetime,'"+a.ToString("dd MMM yyyy")+"')) and convert(float,convert(datetime,'"+p.ToString("dd MMM yyyy")+"'))"),"True"==y.d.SessionManager.Preferences.EnableLocationWise.toString()&&"True"==y.d.SessionManager.Preferences["LW Reports"]&&(E.IsMultipleLocs?u+=" and DCC.dcCCNID2 in ("+E.LocationWhere+")":y.d.SessionManager.LocationID>0?u+=" and DCC.dcCCNID2="+y.d.SessionManager.LocationID:"1"!=y.d.SessionManager.RoleID&&y.d.SessionManager.LocationWhere.length>0&&(u+=" and DCC.dcCCNID2 in ("+y.d.SessionManager.LocationWhere+")"),("True"==y.d.SessionManager.Preferences.Login.toString()||"True"==y.d.SessionManager.Preferences.EnableDivisionWise.toString())&&(y.d.SessionManager.DivisionID>0?u+=" and DCC.dcCCNID1="+y.d.SessionManager.DivisionID:"1"!=y.d.SessionManager.RoleID&&y.d.SessionManager.DivisionWhere.length>0&&(u+=" and DCC.dcCCNID1 in ("+y.d.SessionManager.DivisionWhere+")"))),(o=o.Replace("@WHERE@",u)).Contains("@FROMDATE@")&&(o=o.Replace("@FROMDATE@","'"+a.ToString("dd MMM yyyy")+"'")),o.Contains("@TODATE@")&&(o=o.Replace("@TODATE@","'"+p.ToString("dd MMM yyyy")+"'")),o}static GetReportDocs(o){let i="",a=new Array,p=y.d.common.GetDataTable("GST003",o);for(let u=0;u<p.length;u++){let t=p[u].DefaultPreferences.toString();if(0==t.length)continue;let m=new C.VB;m.LoadXml(t);let r=m.SelectSingleNode("UTILXML");if(null!=r&&r.children.length>0)for(let e=1;e<r.children.length;e++){let n=C.VB.SelectSingleNode(r.children[e],"RowType");n.innerHTML.length>0&&!a.Contains(n.innerHTML)&&(a.push(n.innerHTML),i.length>0&&(i+=","),i+=n.innerHTML)}}return i}static ResetData(o,i,a,p,u,s=null){let t=null;"at"==o?Y.Update_at(i):"atadj"==o?Y.Update_atadj(i):"GSTR2_b2b"==o||"GSTR2_b2bur"==o||"GSTR2_cdnr"==o||"GSTR2_cdnur"==o||"GSTR2_imps"==o||"GSTR2_impg"==o?b.Add_AvailedITC(o,i):"GSTR2_at"==o?b.Update_at(i):"GSTR2_atadj"==o?b.Update_atadj(i):o.startsWith("GSTR3_GSTR3B")?this.GSTR3ViewModel.Update_GSTR3_GSTR3B(o,i,a,p,s):o.startsWith("VAT")&&(t=b.UpdateVAT(o,i,a,p));for(let m=0;m<i.Columns[0].length;m++);if(u.length>0){let m="dd-MMM-yyyy";o.startsWith("VAT")&&(m="dd-MM-yyyy"),i.Tables[0].forEach(r=>{u.forEach(e=>{r[e]&&(r[e+"_Key"]=new Date(r[e]).ToString(m))})})}return t}}var B=O(89211);class Ot{constructor(){this.dtReturnDate=new F.Lc,this.dtToDate=new F.Lc,this.chkToDate=new B.c,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(o){if(this.ViewModel.DisplayMessage="","Submit"==o){let i=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),a=null;this.dtToDate.Visible&&(i=this.dtReturnDate.Date,a=this.dtToDate.Date);for(let p=0;p<this.ViewModel.lstGridViewModel.length;p++){let u={Key:this.ViewModel.lstGridViewModel.keys[p],Value:this.ViewModel.lstGridViewModel.values[p]},s=M.SetQueryWhere(this.ViewModel.lstGSTReport[u.Key].objReport.QUERY,u.Key,i,a);console.log(u.Key+" Query :\r\n"+s);let t=y.d.report.ReportDataSet("RPT022",!1,s);if(null!=t&&t.Tables.length>0){if(t.Columns[0].Contains("ErrorMessage"))return void(this.ViewModel.DisplayMessage=t.Tables[0][0].ErrorMessage.toString());let m=new Array;M.ResetData(u.Key,t,i,a,m);let r=new Array;for(let e=1;e<this.ViewModel.lstGSTReport[u.Key].ReportGrid.Columns.length;e++){let n=this.ViewModel.lstGSTReport[u.Key].ReportGrid.Columns[e];if(0==n.CurrID)continue;let D=new v.O7;D.ID=n.ID,D.Header=n.Header,D.Width=n.Width,D.ReadOnly=!0,D.DisplayMember=m.Contains(n.ID)?n.ID+"_Key":n.ID;let T=this.ViewModel.lstGSTReport[u.Key].Columns.find(h=>h.ID==n.ID);D.DataType=T.DType,"FLOAT"==D.DataType&&(D.DecimalPoints=C.J0.IsEmpty(T.Decimals)?"2":T.Decimals,"SUM"==T.Agg&&(D.ShowTotal=!0,D.IsCalculated=1)),r.push(D)}t.Tables[0].forEach(e=>{e.id=u.Value.rowid}),u.Value.Table=t.Tables[0],u.Value.Columns=r,u.Value.RefreshColumns(),u.Value.UpdateTotals()}}}}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let o=Date.Today();this.dtReturnDate.Date=new Date(o.getFullYear(),o.getMonth(),1),this.dtToDate.Date=new Date(o.getFullYear(),o.getMonth(),o.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}var S=O(5349),V=O(6532);class g{static{this.CurrentVersion=0}static{this.dtNatureofDocument=null}static{this.dsBuffer_GST=new R.G9}static GetGSTDocumentFields(o,i){try{if(g.dsBuffer_GST.ContainsKey(o)&&g.dsBuffer_GST[o].ContainsKey(i))return g.dsBuffer_GST[o][i];let a="";if("NUM"==i)a="SELECT C.CostCenterColID ID\n,Case when C.SysColumnName like 'dcCalcNum%' then ISNULL(R.ResourceData,C.UserColumnName) +'_Calculated' else ISNULL(R.ResourceData,C.UserColumnName) end ColumnName\n,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+o+" AND (SysColumnName LIKE 'dcNum%' or SysColumnName LIKE 'dcCalcNum%' or SysColumnName in ('Gross','Rate','StockValue','Quantity')) AND SysColumnName not LIKE '%dcCalcNumFC%' AND IsColumnInUse=1";else if("NUMFC"==i)a="SELECT C.CostCenterColID ID\n,Case when C.SysColumnName like 'dcCalcNumFC%' then ISNULL(R.ResourceData,C.UserColumnName) +'_FCCalculated'\nwhen C.SysColumnName like 'dcCalcNum%' then ISNULL(R.ResourceData,C.UserColumnName) +'_Calculated' \nelse ISNULL(R.ResourceData,C.UserColumnName) end ColumnName\n,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+o+" AND (SysColumnName LIKE 'dcNum%' or SysColumnName LIKE 'dcCalcNum%' or SysColumnName in ('Gross','Rate','StockValue','Quantity')) AND IsColumnInUse=1";else if("DIM"==i)a="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+o+" AND IsColumnInUse=1",a+=o>4e4&&o<5e4?" AND SysColumnName LIKE '%ccnid%'":"";else if("TEXT"==i||"TEXTALL"==i)a="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+o+" AND IsColumnInUse=1",a+=o>4e4&&o<5e4?"TEXT"==i?" AND SysColumnName LIKE '%alpha%'":" AND (SysColumnName LIKE '%alpha%' or IsColumnUserDefined=0) and ColumnDataType!='FLOAT' and ColumnDataType!='DATE'":"";else if("DATE"==i)a="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+o+" AND IsColumnInUse=1 AND UserColumnType='DATE'";else if("TEXTUOM"==i)a="SELECT C.CostCenterColID ID,ISNULL(R.ResourceData,C.UserColumnName) ColumnName,C.SysTableName,C.SysColumnName,C.ColumnCostCenterID\nFROM ADM_CostCenterDef C WITH(NOLOCK)\nLEFT JOIN COM_LanguageResources R WITH(NOLOCK) ON R.ResourceID=C.ResourceID AND R.LanguageID=1\nWHERE CostCenterID="+o+" AND IsColumnInUse=1",a+=o>4e4&&o<5e4?" AND (SysColumnName LIKE '%alpha%' or SysColumnName='Unit')":"";else{if("NatureofDocument"==i){if(null==g.dtNatureofDocument){let s={Tables:[]};g.dtNatureofDocument=[],g.dtNatureofDocument.push({ID:"-101",ColumnName:"Invoices for outward supply",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-102",ColumnName:"Invoices for inward supply from unregistered person",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-103",ColumnName:"Revised Invoice",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-104",ColumnName:"Debit Note",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-105",ColumnName:"Credit Note",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-106",ColumnName:"Receipt Voucher",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-107",ColumnName:"Payment Voucher",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-108",ColumnName:"Refund Voucher",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-109",ColumnName:"Delivery Challan for job work",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-110",ColumnName:"Delivery Challan for supply on approval",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-111",ColumnName:"Delivery Challan in case of liquid gas",SysTableName:null,SysColumnName:null}),g.dtNatureofDocument.push({ID:"-112",ColumnName:"Delivery Challan in case other than by way of supply (excluding at S no. 9 to 11)",SysTableName:null,SysColumnName:null}),s.Tables.push(g.dtNatureofDocument)}return g.dtNatureofDocument}if("ANX1_B2BDocType"==i){let s=[];return s.push({ID:"-401",ColumnName:"Invoice",SysTableName:null,SysColumnName:null}),s.push({ID:"-402",ColumnName:"Debit Note",SysTableName:null,SysColumnName:null}),s.push({ID:"-403",ColumnName:"Credit Note",SysTableName:null,SysColumnName:null}),g.dsBuffer_GST.ContainsKey(o)||g.dsBuffer_GST.push(o,new R.bT),g.dsBuffer_GST[o].ContainsKey(i)||g.dsBuffer_GST[o].push(i,s),s}if("cdnrDocumentType"==i){let s=[];return s.push({ID:"-201",ColumnName:"C",SysTableName:null,SysColumnName:null}),s.push({ID:"-202",ColumnName:"D",SysTableName:null,SysColumnName:null}),s.push({ID:"-203",ColumnName:"R",SysTableName:null,SysColumnName:null}),g.dsBuffer_GST.ContainsKey(o)||g.dsBuffer_GST.push(o,new R.bT),g.dsBuffer_GST[o].ContainsKey(i)||g.dsBuffer_GST[o].push(i,s),s}if("GSTR3IsReturn"==i){let s=[];return s.push({ID:"-301",ColumnName:"YES",SysTableName:null,SysColumnName:null}),s.push({ID:"-302",ColumnName:"NO",SysTableName:null,SysColumnName:null}),g.dsBuffer_GST.ContainsKey(o)||g.dsBuffer_GST.push(o,new R.bT),g.dsBuffer_GST[o].ContainsKey(i)||g.dsBuffer_GST[o].push(i,s),s}}a+=" ORDER BY ColumnName";let p=[];p.push(a),p.push(y.d.SessionManager.UserID),p.push(y.d.SessionManager.LanguageID);let u=y.d.report.ReportDataSet("RPT022",!1,a);return g.dsBuffer_GST.ContainsKey(o)||g.dsBuffer_GST.push(o,new R.bT),g.dsBuffer_GST[o].ContainsKey(i)||g.dsBuffer_GST[o].push(i,u.Tables[0]),u.Tables[0]}catch(a){return Logger.ErrorLog("ReportLayout:: GetReportLayout"+a.stack),null}}}class J{constructor(){this.dtMain=null,this.dtFeatures=null,this.dtSalesDocs=null,this.dicDataTables=new R.bT,this.Columns=new Array,this.DisplayMessage="",this.OldRowTypeValue="",this.GSTType="",this.ParentGSTType=W.None,this.strcdnrDocs=null,this.stratDocs=null,this.stkVAT=!1,this.stkVAT2=!1,this.cmbReport=new S.y$,this.cmbReportModule=new S.y$,this.cmbReportType=new S.y$,this.txtReportName=new V.Dw,this.txtexempZero=new V.Dw,this.txtexempNill=new V.Dw,this.txtexempExempted=new V.Dw,this.txtexempNonGST=new V.Dw,this.ReportID=0,this.sb="",this.objReport=null,this.IsCreditAccount=!1,this.IsInvValueEmpty=!1,this.lstDocuments=new R.G9,this.DocumentFields=["VoucherNo","DocDate","BillNo","BillDate","DocSeqNo"],this.Entities=new R.bT,this.dicNatureOfDocs=new R.bT}ReportBuilder_1(o=!1){this.dtMain=[],this.ReportGrid=new U.vv,this.ReportGrid.HeaderHeight=36,this.ReportGrid.Width="",this.ReportGrid.Table=this.dtMain,this.ReportGrid.CanUserAddRows=!0,this.ReportGrid.CanUserDeleteRows=!0;let i=[];(!y.d.SessionManager.IsVAT||E.AllowGSTatVAT)&&(i.push(S._p.ComboBoxItems_2("ANX1","ANX1")),i.push(S._p.ComboBoxItems_2("GSTR-1","GSTR1")),i.push(S._p.ComboBoxItems_2("GSTR-2","GSTR2")),i.push(S._p.ComboBoxItems_2("GSTR-3","GSTR3")),i.push(S._p.ComboBoxItems_2("ClearTax","ClearTax"))),y.d.SessionManager&&i.push(S._p.ComboBoxItems_2("VAT","VAT")),this.cmbReportModule.Items.AddRange(i),this.cmbReportModule.SelectedValue=i[0].Value;let a=[];a.push(S._p.ComboBoxItems_3("b2b","b2b","GSTR1")),a.push(S._p.ComboBoxItems_3("b2cl","b2cl","GSTR1")),a.push(S._p.ComboBoxItems_3("b2cs","b2cs","GSTR1")),a.push(S._p.ComboBoxItems_3("cdnr","cdnr","GSTR1")),a.push(S._p.ComboBoxItems_3("cdnur","cdnur","GSTR1")),a.push(S._p.ComboBoxItems_3("exp","exp","GSTR1")),a.push(S._p.ComboBoxItems_3("at","at","GSTR1")),a.push(S._p.ComboBoxItems_3("atadj","atadj","GSTR1")),a.push(S._p.ComboBoxItems_3("exemp","exemp","GSTR1")),a.push(S._p.ComboBoxItems_3("hsn","hsn","GSTR1")),a.push(S._p.ComboBoxItems_3("docs","docs","GSTR1")),a.push(S._p.ComboBoxItems_3("01 - Sales Invoice and Bill of Supply","CT01","ClearTax")),a.push(S._p.ComboBoxItems_3("02 - Outward Credit Debit Note","CT02","ClearTax")),a.push(S._p.ComboBoxItems_3("03 - Outward Advance Receipts","CT03","ClearTax")),a.push(S._p.ComboBoxItems_3("04 - Purchase Invoice and Bill of Supply","CT04","ClearTax")),a.push(S._p.ComboBoxItems_3("05 - Inward Credit Debit Note","CT05","ClearTax")),a.push(S._p.ComboBoxItems_3("06 - Inward Advance Payments","CT06","ClearTax")),a.push(S._p.ComboBoxItems_3("b2b","GSTR2_b2b","GSTR2")),a.push(S._p.ComboBoxItems_3("b2bur","GSTR2_b2bur","GSTR2")),a.push(S._p.ComboBoxItems_3("imps","GSTR2_imps","GSTR2")),a.push(S._p.ComboBoxItems_3("impg","GSTR2_impg","GSTR2")),a.push(S._p.ComboBoxItems_3("cdnr","GSTR2_cdnr","GSTR2")),a.push(S._p.ComboBoxItems_3("cdnur","GSTR2_cdnur","GSTR2")),a.push(S._p.ComboBoxItems_3("at","GSTR2_at","GSTR2")),a.push(S._p.ComboBoxItems_3("atadj","GSTR2_atadj","GSTR2")),a.push(S._p.ComboBoxItems_3("exemp","GSTR2_exemp","GSTR2")),a.push(S._p.ComboBoxItems_3("hsnsum","GSTR2_hsnsum","GSTR2")),a.push(S._p.ComboBoxItems_3("GSTR3B_Outward","GSTR3_GSTR3B_Outward","GSTR3")),a.push(S._p.ComboBoxItems_3("B2C","ANX1_B2C","ANX1")),a.push(S._p.ComboBoxItems_3("B2B","ANX1_B2B","ANX1")),a.push(S._p.ComboBoxItems_3("EXP","ANX1_EXP","ANX1")),a.push(S._p.ComboBoxItems_3("SEZ","ANX1_SEZ","ANX1")),a.push(S._p.ComboBoxItems_3("DE","ANX1_DE","ANX1")),a.push(S._p.ComboBoxItems_3("REV","ANX1_REV","ANX1")),a.push(S._p.ComboBoxItems_3("IMPS","ANX1_IMPS","ANX1")),a.push(S._p.ComboBoxItems_3("IMPG","ANX1_IMPG","ANX1")),a.push(S._p.ComboBoxItems_3("IMPGSEZ","ANX1_IMPGSEZ","ANX1")),a.push(S._p.ComboBoxItems_3("ECOM","ANX1_ECOM","ANX1")),a.push(S._p.ComboBoxItems_3("Purchase Register","ANX1_PurchaseRegister","ANX1")),a.push(S._p.ComboBoxItems_3("AED - VAT return form","VATAED1","VAT")),a.push(S._p.ComboBoxItems_3("FTA VAT Audit File (Purchase List)","VATFATPurchaseList","VAT")),a.push(S._p.ComboBoxItems_3("FTA VAT Audit File (Supply List)","VATFATSupplyList","VAT")),a.push(S._p.ComboBoxItems_3("SAS - VAT return form","VATSAS1","VAT")),this.cmbReportType.Items.AddRange(a),o||(this.cmbReportModule_SelectionChanged(),this.ClearReportModel(),this.cmbReportType_SelectionChanged())}ReportBuilder_2(o,i){this.GSTType=i,this.DisplayMessage="",this.dtMain=[],this.ReportGrid=new U.vv,this.ReportGrid.Table=this.dtMain;let a=[];a.push({ReportID:o,ReportName:"RPT"}),this.cmbReport=new S.y$,this.txtReportName=new V.Dw,this.txtexempZero=new V.Dw,this.txtexempNill=new V.Dw,this.txtexempExempted=new V.Dw,this.txtexempNonGST=new V.Dw,this.cmbReport.Items=a,this.cmbReport.SetSelectedItem(o.toString())}cmbReportModule_SelectionChanged(){if(this.cmbReportModule.SelectedValue&&this.cmbReportType.Items.length>0){this.dicDataTables.Clear();let o=this.cmbReportType.Items.find(i=>i.Parent==this.cmbReportModule.SelectedValue.toString());this.cmbReportType.SelectedValue=o.Value,this.cmbReportType_SelectionChanged(),this.txtReportName.Enable="ANX1"!=this.cmbReportModule.SelectedValue.toString()&&"GSTR2"!=this.cmbReportModule.SelectedValue.toString()&&"GSTR3"!=this.cmbReportModule.SelectedValue.toString()&&"VAT"!=this.cmbReportModule.SelectedValue.toString()}}cmbReportType_SelectionChanged(){if(this.txtReportName.Text="",this.strcdnrDocs=null,this.stratDocs=null,null!=this.cmbReportType.SelectedValue)try{if(this.GSTType=this.cmbReportType.SelectedValue.toString(),"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType){if(null==this.VATSaleReturnDocs){this.VATSaleReturnDocs=new S.v4;let i=y.d.report.GetDataTable("RPT050",y.d.SessionManager.RoleID,y.d.SessionManager.UserID);this.VATSaleReturnDocs=new S.v4,this.lstVATPurDocs=new S.v4,this.VATPurReturnDocs=new S.v4,this.VATBadDebtsDocs=new S.v4,this.VATTouristDocs=new S.v4,this.VATCustomsAdjDocs=new S.v4,i.forEach(a=>{let p=parseInt(a.DocumentType);6==p||39==p||43==p?(this.VATSaleReturnDocs.Items.push(S.oN.CheckedListBoxItem_5(a.DocumentName.toString(),a.CostCenterID.toString(),!0)),this.VATBadDebtsDocs.Items.push(S.oN.CheckedListBoxItem_5(a.DocumentName.toString(),a.CostCenterID.toString(),!1))):10==p||41==p?this.VATPurReturnDocs.Items.push(S.oN.CheckedListBoxItem_5(a.DocumentName.toString(),a.CostCenterID.toString(),!0)):(this.lstVATPurDocs.Items.push(S.oN.CheckedListBoxItem_5(a.DocumentName.toString(),a.CostCenterID.toString(),!0)),this.VATTouristDocs.Items.push(S.oN.CheckedListBoxItem_5(a.DocumentName.toString(),a.CostCenterID.toString(),!0)),this.VATCustomsAdjDocs.Items.push(S.oN.CheckedListBoxItem_5(a.DocumentName.toString(),a.CostCenterID.toString(),!1)))})}this.stkVAT=!0,this.stkVAT2=!0}else this.stkVAT=!1,this.stkVAT2=!1;let o=y.d.report.GetDataTable("RPT022","select ReportID,ReportName from adm_revenureports with(nolock)\nwhere StaticReportType=-1 and DefaultPreferences is not null and DefaultPreferences!='' and DefaultPreferences like '%<UTILREPORT>"+this.GSTType+"</UTILREPORT>%'");this.cmbReport.SelectionChangedCommand.UnSubscribe(),this.cmbReport.Items.Clear(),o.forEach(i=>{this.cmbReport.Items.push(S._p.ComboBoxItems_2(i.ReportName.toString(),i.ReportID.toString()))}),null!=this.cmbReportModule.SelectedValue&&("ANX1"==this.cmbReportModule.SelectedValue.toString()||"GSTR2"==this.cmbReportModule.SelectedValue.toString()||"GSTR3"==this.cmbReportModule.SelectedValue.toString()||"VAT"==this.cmbReportModule.SelectedValue.toString())&&(o.length>0?this.cmbReport.SelectedValue=o[0].ReportID.toString():"ANX1"==this.cmbReportModule.SelectedValue.toString()||"GSTR2"==this.cmbReportModule.SelectedValue.toString()||"GSTR3"==this.cmbReportModule.SelectedValue.toString()?this.txtReportName.Text=this.GSTType:"VAT"==this.cmbReportModule.SelectedValue.toString()&&(this.txtReportName.Text=this.cmbReportType.GetText())),this.cmbReport.SelectionChangedCommand.Subscribe(this,"cmbReport_SelectionChanged"),this.cmbReport_SelectionChanged(null,null)}catch(o){Logger.ErrorLog(o.stack),alert(o.Message)}}cmbReport_SelectionChanged(o,i){if(this.ClearReportModel(),C.J0.StringIsNullOrEmpty(this.cmbReport.SelectedValue))this.ReportID=0;else{this.ReportID=parseInt(this.cmbReport.SelectedValue);let a=y.d.report.GetRevenUReport(this.ReportID);null!=a&&a.Tables.length>0&&!a.Columns[0].Contains("ErrorMessage")&&a.Tables[0].length>0&&(this.txtReportName.Text=a.Tables[0][0].ReportName.toString(),this.objReport.DefaultPreferences=C.J0.String(a.Tables[0][0].DefaultPreferences),this.objReport.ReportDefnXML=a.Tables[0][0].ReportDefnXML.toString(),this.objReport.ReportBodyXML=C.J0.String(a.Tables[0][0].ReportBody),this.objReport.ReportHeaderXML=C.J0.String(a.Tables[0][0].ReportHeader),this.objReport.PageHeaderXML=C.J0.String(a.Tables[0][0].PageHeader),this.objReport.PageFooterXML=C.J0.String(a.Tables[0][0].PageFooter),this.objReport.ReportFooterXML=C.J0.String(a.Tables[0][0].ReportFooter),this.objReport.ParentID=parseInt(a.Tables[0][0].ParentID))}this.InitGrid()}InitGrid(){this.dtMain.Clear();let o={RowType:0};this.Columns.Clear();let i=new Array,a=new v.O7;a.ID="RowType",a.Header="Type",a.DataType="PactComboBox",a.DisplayMember="DocumentName",a.ValueMember="CostCenterID",a.ValueBinding="RowType",a.Width=160,a.IsFrozen=!0,null==this.dtFeatures&&(this.dtFeatures=y.d.common.GetDataTable("GST004",""));let p="",u="";"at"==this.GSTType||"atadj"==this.GSTType||"GSTR2_at"==this.GSTType||"GSTR2_atadj"==this.GSTType?(u="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID\n            inner join com_documentpreferences DP with(nolock) ON DP.CostCenterID=D.CostCenterID",p=" and DP.PrefName='DonotupdateInventory' and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False' and DP.PrefValue='True' and D.DocumentType not IN (3,5)"):this.GSTType.endsWith("cdnr")||this.GSTType.endsWith("cdnur")?(u="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID",p=" and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False' and D.DocumentType not IN (3,5)"):"docs"==this.GSTType||this.GSTType.startsWith("CT")?(u="inner join com_documentpreferences DP with(nolock) ON DP.CostCenterID=D.CostCenterID",p=" and DP.PrefName='DonotupdateInventory' and D.DocumentType not IN (3,5)"):"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType||"VATFATSupplyList"==this.GSTType?(u="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID",p=" and D.DocumentType IN (7,9,11,12,24,38,42) and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False'"):"VATFATPurchaseList"==this.GSTType?(u="inner join com_documentpreferences DAP with(nolock) ON DAP.CostCenterID=D.CostCenterID",p=" and D.DocumentType IN (25,26,27,2,4,1,10) and DAP.PrefName='DonotupdateAccounts' and DAP.PrefValue='False'"):p="b2cs"==this.GSTType||"ANX1_B2C"==this.GSTType||"hsn"==this.GSTType||"exemp"==this.GSTType?" and D.DocumentType IN (6,7,9,11,12,24,38,39)":this.GSTType.startsWith("ANX1_")||this.GSTType.startsWith("GSTR2_")||this.GSTType.startsWith("GSTR3_")?" and (DocumentType<=27 or DocumentType in (38,39))":" and D.DocumentType IN (7,9,11,12,24,38,39)",this.dtSalesDocs=y.d.common.GetDataSet3("GST005",u,p,y.d.SessionManager.RoleID+"~"+y.d.SessionManager.UserID).Tables[0],a.ComboData=this.dtSalesDocs,i.push(a);let s=new C.VB;s.LoadXml(E.ColumnsXML(this.GSTType,this.ParentGSTType)),this.GroupBy=null!=s.DocumentElement.attributes.GroupBy&&""!=s.DocumentElement.attributes.GroupBy.value?s.DocumentElement.attributes.GroupBy.value.split(","):[],this.arrOrderBy=null!=s.DocumentElement.attributes.OrderBy&&""!=s.DocumentElement.attributes.OrderBy.value?s.DocumentElement.attributes.OrderBy.value.split(","):[];for(let t=0;t<s.DocumentElement.children.length;t++){let r=new $(s.DocumentElement.children[t]);if(this.Columns.push(r),i.push(r.dgColumn),r.ComboType.length>0){if(!this.dicDataTables.ContainsKey(r.ComboType)){let e=[];this.dicDataTables.push(r.ComboType,e),"NUM"==r.ComboType?e.push({RowType:0,Value:400,Name:"Documents"}):(e.push({RowType:0,Value:400,Name:"Documents"}),this.dtFeatures.filter(D=>[2,3,12].Contains(D.FeatureID)||D.FeatureID>5e4).forEach(D=>{e.push({RowType:0,Value:parseInt(D.FeatureID),Name:D.Name.toString()})}))}if("PoS"==r.ID&&y.d.SessionManager.Preferences.GST_PoSDim.length>0&&(r.ComboDefValue=y.d.SessionManager.Preferences.GST_PoSDim),r.ComboDefValue.length>0){o[r.ID]=parseInt(r.ComboDefValue);let e=this.dtFeatures.filter(n=>n.FeatureID==parseInt(r.ComboDefValue));e.length>0&&(o[r.ID+"_Key"]=e[0].Name.toString()),this.LoadDocumentFields(parseInt(r.ComboDefValue))}else o[r.ID]=400,o[r.ID+"_Key"]="Documents";r.dgColumn.ComboData=this.dicDataTables[r.ComboType],r.dtComboData=this.dicDataTables[r.ComboType]}}if(this.ReportGrid.Columns=i,this.dtMain.push(o),this.objReport.DefaultPreferences.length>0){s.LoadXml(this.objReport.DefaultPreferences);let t=C.VB.SelectSingleNode(s.DocumentElement,"UTILXML");if(null!=t&&t.children.length>0){let m,r;this.Columns.forEach(e=>{if(r=C.VB.SelectSingleNode(t.children[0],e.ID),null!=r&&r.innerHTML.length>0){o[e.ID]=r.innerHTML;let n=this.dtFeatures.filter(D=>D.FeatureID==parseInt(r.innerHTML));n.length>0?o[e.ID+"_Key"]=n[0].Name.toString():"400"==r.innerHTML&&(o[e.ID+"_Key"]="Documents"),"400"!=r.innerHTML&&this.LoadDocumentFields(parseInt(r.innerHTML))}});for(let e=1;e<t.children.length;e++){let n={};r=C.VB.SelectSingleNode(t.children[e],"RowType"),n.RowType=r.innerHTML,m=this.dtSalesDocs.filter(D=>D.CostCenterID==r.innerHTML),m.length>0&&(n.RowType_Key=m[0].DocumentName.toString()),this.LoadDocumentFields(parseInt(r.innerHTML)),this.Columns.forEach(D=>{r=C.VB.SelectSingleNode(t.children[e],D.ID),null!=r&&r.innerHTML.length>0&&(n[D.ID]=r.innerHTML,m=D.dtComboData.filter(T=>T.Value==r.innerHTML),m.length>0&&(n[D.ID+"_Key"]=m[0].Name.toString()),"-1"==r.innerHTML?(r=C.VB.SelectSingleNode(t.children[e],D.ID+"_Formula"),null!=r&&(n[D.ID+"_Formula"]=r.innerHTML)):"-2"==r.innerHTML&&(r=C.VB.SelectSingleNode(t.children[e],D.ID+"_MultFileds"),null!=r&&(n[D.ID+"_MultFileds"]=r.innerHTML)))}),this.dtMain.push(n)}if(r=C.VB.SelectSingleNode(s.DocumentElement,"UTILOptions/ZeroRated"),null!=r&&(this.txtexempZero.Text=r.innerHTML),r=C.VB.SelectSingleNode(s.DocumentElement,"UTILOptions/NilRated"),null!=r&&(this.txtexempNill.Text=r.innerHTML),r=C.VB.SelectSingleNode(s.DocumentElement,"UTILOptions/Exempted"),null!=r&&(this.txtexempExempted.Text=r.innerHTML),r=C.VB.SelectSingleNode(s.DocumentElement,"UTILOptions/NonGST"),null!=r&&(this.txtexempNonGST.Text=r.innerHTML),"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType){if(r=C.VB.SelectSingleNode(s.DocumentElement,"VATReturnDocs"),null!=r){let e=r.innerHTML.split(",");this.VATSaleReturnDocs.Items.forEach(n=>{n.IsChecked=e.Contains(n.Value)})}if(r=C.VB.SelectSingleNode(s.DocumentElement,"lstVATPurDocs"),null!=r){let e=r.innerHTML.split(",");this.lstVATPurDocs.Items.forEach(n=>{n.IsChecked=e.Contains(n.Value)})}if(r=C.VB.SelectSingleNode(s.DocumentElement,"VATPurReturnDocs"),null!=r){let e=r.innerHTML.split(",");this.VATPurReturnDocs.Items.forEach(n=>{n.IsChecked=e.Contains(n.Value)})}if(r=C.VB.SelectSingleNode(s.DocumentElement,"VATBadDebtsDocs"),null!=r){let e=r.innerHTML.split(",");this.VATBadDebtsDocs.Items.forEach(n=>{n.IsChecked=e.Contains(n.Value)})}if(r=C.VB.SelectSingleNode(s.DocumentElement,"VATTouristDocs"),null!=r){let e=r.innerHTML.split(",");this.VATTouristDocs.Items.forEach(n=>{n.IsChecked=e.Contains(n.Value)})}if(r=C.VB.SelectSingleNode(s.DocumentElement,"VATCustomsAdjDocs"),null!=r){let e=r.innerHTML.split(",");this.VATCustomsAdjDocs.Items.forEach(n=>{n.IsChecked=e.Contains(n.Value)})}}}}0==this.ReportID&&("VATAED1"==this.GSTType||"VATSAS1"==this.GSTType)&&this.dtSalesDocs.forEach(t=>{let m={};m.RowType=t.CostCenterID,m.RowType_Key=t.DocumentName.toString(),this.LoadDocumentFields(parseInt(t.CostCenterID));let r=this.dicDataTables.ContainsKey("NUMFC")?"NUMFC":"NUM",e=this.dicDataTables[r].filter(n=>n.RowType==parseInt(t.CostCenterID)&&"dcNum51"==n.SysColumnName);e.length>0&&(m.TaxableValue=e[0].Value,m.TaxableValue_Key=e[0].Name.toString()),e=this.dicDataTables[r].filter(n=>n.RowType==parseInt(t.CostCenterID)&&"dcNum61"==n.SysColumnName),e.length>0&&(m.VATAmount=e[0].Value,m.VATAmount_Key=e[0].Name.toString()),this.dtMain.push(m)});for(let t=this.dtMain.length;t<15;t++)this.dtMain.push()}LoadDocumentFields(o){for(let i=0;i<this.dicDataTables.keys.length;i++){let a={Key:this.dicDataTables.keys[i],Value:this.dicDataTables.values[i]},p=a.Value;if(0==p.filter(u=>u.RowType==o).length){let u;g.GetGSTDocumentFields(o,a.Key).forEach(t=>{u={},u.RowType=o,u.Name=t.ColumnName,u.Value=parseInt(t.ID),u.SysTableName=t.SysTableName,u.SysColumnName=t.SysColumnName,u.ColumnCostCenterID=t.ColumnCostCenterID,p.push(u)}),"NUM"==a.Key&&(u={},u.RowType=o,u.Name="MULTIPLE FIELDS",u.Value="-2",u.SysTableName="MULTIPLEFIELDS",u.SysColumnName="",p.push(u)),"cdnrDocumentType"!=a.Key&&"GSTR3IsReturn"!=a.Key&&"NatureofDocument"!=a.Key&&(u={},u.RowType=o,u.Name="",p.InsertAt(u,0))}}}ClearReportModel(){this.objReport={},this.objReport.SelectedNodeID=1,this.objReport.CustomPreferences='<XML><Filters><WHERE Name="@WHERE@"><Filter Column="convert(datetime,INV.DocDate)" MapField="DATEFILTERFIELD" />',"True"==y.d.SessionManager.Preferences.EnableLocationWise.toString()&&"True"==y.d.SessionManager.Preferences["LW Reports"]&&(this.objReport.CustomPreferences+='<Filter Column="DCC.dcCCNID2" MapField="CC_50002" />'),this.objReport.CustomPreferences+="</WHERE></Filters></XML>",this.objReport.DefaultPreferences="",this.objReport.ReportDefnXML=""}GetReportConfiguration(){this.lstDocuments.Clear();let o="";o+="<XML>",o+="<UTILREPORT>"+this.GSTType+"</UTILREPORT>",o+="<UTILXML>";for(let i=0;i<this.dtMain.length;i++){let a=this.dtMain[i];if(i>0){if(null==a.RowType)continue;if(this.lstDocuments.ContainsKey(parseInt(a.RowType)))return this.ReportGrid.SelectedIndex=i,this.DisplayMessage="Duplicate Document Row '"+a.RowType_Key+"'","";this.lstDocuments.push(parseInt(a.RowType),a)}let p="";p+="<RowType>"+a.RowType.toString()+"</RowType>";for(let u=0;u<this.Columns.length;u++){let s=this.Columns[u];if(null!=a[s.ID]){if(0==i&&(s.ColumnDimension=parseInt(a[s.ID])),p+="<"+s.ID+">"+C.J0.String(a[s.ID])+"</"+s.ID+">","-1"==C.J0.String(a[s.ID]))p+="<"+s.ID+"_Formula>"+a[s.ID+"_Formula"].toString()+"</"+s.ID+"_Formula>";else if("-2"==C.J0.String(a[s.ID])){if(0==a[s.ID+"_MultFileds"].toString().length)return this.ReportGrid.SelectedIndex=i,this.DisplayMessage="Please select Multiple Fileds for '"+s.Caption+"'","";p+="<"+s.ID+"_MultFileds>"+a[s.ID+"_MultFileds"].toString()+"</"+s.ID+"_MultFileds>"}}else if(!s.ReadOnly&&!s.IsOptional&&i>0&&(1==i||400==parseInt(this.dtMain[0][s.ID])))return this.ReportGrid.SelectedIndex=i,this.DisplayMessage="Please select field for '"+s.Caption+"'",""}p.length>0&&(o+="<r>"+p+"</r>")}if(o+="</UTILXML>","exemp"==this.GSTType||"GSTR2_exemp"==this.GSTType?(o+="<UTILOptions>",o+="<NilRated>"+C.J0.EncodeXML(this.txtexempNill.Text)+"</NilRated>",o+="<Exempted>"+C.J0.EncodeXML(this.txtexempExempted.Text)+"</Exempted>",o+="<NonGST>"+C.J0.EncodeXML(this.txtexempNonGST.Text)+"</NonGST>",o+="</UTILOptions>"):"GSTR3_GSTR3B_Outward"==this.GSTType&&(o+="<UTILOptions>",o+="<ZeroRated>"+C.J0.EncodeXML(this.txtexempZero.Text)+"</ZeroRated>",o+="<NilRated>"+C.J0.EncodeXML(this.txtexempNill.Text)+"</NilRated>",o+="<Exempted>"+C.J0.EncodeXML(this.txtexempExempted.Text)+"</Exempted>",o+="<NonGST>"+C.J0.EncodeXML(this.txtexempNonGST.Text)+"</NonGST>",o+="</UTILOptions>"),"VATAED1"==this.GSTType||"VATSAS1"==this.GSTType){let i="";this.VATSaleReturnDocs.Items.filter(a=>a.IsChecked).forEach(a=>{i.length>0&&(i+=","),i+=a.Value}),i.length>0&&(o+="<VATReturnDocs>",o+=i,o+="</VATReturnDocs>"),i="",this.lstVATPurDocs.Items.filter(a=>a.IsChecked).forEach(a=>{i.length>0&&(i+=","),i+=a.Value}),i.length>0&&(o+="<VATPurchaseDocs>",o+=i,o+="</VATPurchaseDocs>"),i="",this.VATPurReturnDocs.Items.filter(a=>a.IsChecked).forEach(a=>{i.length>0&&(i+=","),i+=a.Value}),i.length>0&&(o+="<VATPurReturnDocs>",o+=i,o+="</VATPurReturnDocs>"),i="",this.VATBadDebtsDocs.Items.filter(a=>a.IsChecked).forEach(a=>{i.length>0&&(i+=","),i+=a.Value}),i.length>0&&(o+="<VATBadDebtsDocs>",o+=i,o+="</VATBadDebtsDocs>"),i="",this.VATTouristDocs.Items.filter(a=>a.IsChecked).forEach(a=>{i.length>0&&(i+=","),i+=a.Value}),i.length>0&&(o+="<VATTouristDocs>",o+=i,o+="</VATTouristDocs>"),i="",this.VATCustomsAdjDocs.Items.filter(a=>a.IsChecked).forEach(a=>{i.length>0&&(i+=","),i+=a.Value}),i.length>0&&(o+="<VATCustomsAdjDocs>",o+=i,o+="</VATCustomsAdjDocs>")}return o+="</XML>",o.toString()}GetQuery(o){this.OrderBy="";let i="",p=(parseInt(y.d.SessionManager.Preferences.GST_PoSDim),parseInt(y.d.SessionManager.Preferences.GST_GSTINDim));if("VATAED1"==this.GSTType||"VATSAS1"==this.GSTType)return this.GetVATQuery(o);if("docs"==this.GSTType){this.dicNatureOfDocs.Clear();let T="";this.lstDocuments.keys.forEach(d=>{let I={Key:d,Value:this.lstDocuments[d]};T.length>0&&(T+=","),T+=I.Key;let c=I.Value.NatureofDocument_Key.toString();this.dicNatureOfDocs.ContainsKey(c)?this.dicNatureOfDocs[c]+=" or CostCenterID="+I.Key:this.dicNatureOfDocs.push(c,"CostCenterID="+I.Key)});let h="case";return this.dicNatureOfDocs.keys.forEach(d=>{h+=" when "+this.dicNatureOfDocs[d]+" then '"+d+"'"}),h+=" end",this.Entities.Clear(),this.Entities.push("Document","INV"),this.Entities.push("Document.COM_DocCCData","DCC"),i+="SELECT "+h+" NatureofDocument\n,DocAbbr+DocPrefix+'-'+convert(nvarchar,MIN(StartNo)) SrNoFrom\n,DocAbbr+DocPrefix+'-'+convert(nvarchar,MAX(EndNo)) SrNoTo\n,COUNT(VoucherNo) TotalNumber,sum(IsCancelled) Cancelled\nFROM (\nSELECT INV.CostCenterID,INV.DocPrefix,MIN(CONVERT(INT, INV.DocNumber)) AS StartNo,MAX(CONVERT(INT, INV.DocNumber)) AS EndNo,INV.DocAbbr,\nINV.VoucherNo,INV.StatusID, case when INV.StatusID=376 then 1 else 0 end IsCancelled\nFROM INV_DocDetails INV WITH(NOLOCK)\nINNER JOIN COM_DocCCData DCC WITH(NOLOCK) ON INV.InvDocDetailsID=DCC.InvDocDetailsID\nWHERE 1=1 @WHERE@\nand INV.CostCenterID in ("+T+")\nGROUP BY INV.DocPrefix,INV.DocAbbr,INV.CostCenterID,INV.VoucherNo,INV.StatusID\n) AS T\nGROUP BY CostCenterID,DocPrefix,DocAbbr",i.toString()}for(let T=0;T<this.lstDocuments.keys.length;T++){let h={Key:this.lstDocuments.keys[T],Value:this.lstDocuments.values[T]};this.Entities.Clear(),this.Entities.push("Document","INV"),this.Entities.push("Document.COM_DocCCData","DCC"),i.length>0&&(i+="\nUNION ALL\n"),this.SelectTag="",this.FromTag="INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID",this.WhereTag="INV.CostCenterID="+h.Key+" and INV.StatusID=369",this.WhereTag+=" and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)",this.GroupByDynamic="",this.IsInvValueEmpty=!1,this.IsCreditAccount=!1,"b2cs"==this.GSTType||"hsn"==this.GSTType||"exemp"==this.GSTType||"VATFATSupplyList"==this.GSTType||"ANX1_B2C"==this.GSTType||"ANX1_ECOM"==this.GSTType?this.dtSalesDocs.filter(I=>[6,39].Contains(I.DocumentType)&&I.CostCenterID==h.Key).length>0&&(this.IsCreditAccount=!0):"cdnr"==this.GSTType||"cdnur"==this.GSTType?(("C"==h.Value.DocumentType_Key.toString()||"R"==h.Value.DocumentType_Key.toString())&&(this.IsCreditAccount=!0),null==this.stratDocs&&(this.stratDocs=M.GetReportDocs("'at'"))):"CT02"==this.GSTType||"CT03"==this.GSTType||"CT04"==this.GSTType?this.IsCreditAccount=!0:this.GSTType.startsWith("GSTR2_")||"VATFATPurchaseList"==this.GSTType?(this.IsCreditAccount=!0,"GSTR2_hsnsum"==this.GSTType||"VATFATPurchaseList"==this.GSTType?this.dtSalesDocs.filter(I=>10==I.DocumentType&&I.CostCenterID==h.Key).length>0&&(this.IsCreditAccount=!1):("GSTR2_cdnr"==this.GSTType||"GSTR2_cdnur"==this.GSTType)&&("D"==h.Value.DocumentType_Key.toString()&&(this.IsCreditAccount=!1),null==this.stratDocs&&(this.stratDocs=M.GetReportDocs("'GSTR2_at'")))):"GSTR3_GSTR3B_Outward"==this.GSTType?"YES"==h.Value.DocumentType_Key.toString()&&(this.IsCreditAccount=!0):"ANX1_B2B"==this.GSTType||"ANX1_EXP"==this.GSTType||"ANX1_SEZ"==this.GSTType||"ANX1_DE"==this.GSTType?"-403"==h.Value.DocumentType.toString()&&(this.IsCreditAccount=!0):("ANX1_REV"==this.GSTType||"ANX1_IMPS"==this.GSTType||"ANX1_IMPG"==this.GSTType||"ANX1_IMPGSEZ"==this.GSTType)&&(this.IsCreditAccount=!0,"-402"==C.J0.String(h.Value.DocumentType)&&(this.IsCreditAccount=!1));for(let d=0;d<this.Columns.length;d++){let I=this.Columns[d];if(!I.IgnoreInQuery&&("exemp"!=this.GSTType&&"GSTR2_exemp"!=this.GSTType||"Description"!=I.ID)){if(this.SelectTag.length>0&&(this.SelectTag+=","),I.IsOptional&&0==C.J0.String(h.Value[I.ID]).length&&("InvValue"==I.ID||"RetInvValue"==I.ID||"TotalValue"==I.ID&&"hsn"==this.GSTType||"TotalValue"==I.ID&&"GSTR2_hsnsum"==this.GSTType)){let c=this.IsCreditAccount?"INV.CreditAccount":"INV.DebitAccount";I.ActualColumn="(select abs(sum(Dr)-sum(Cr)) from (select Amount Dr,0 Cr from acc_docdetails ACC with(nolock) where ACC.VoucherNo=INV.VoucherNo and ACC.DebitAccount="+c+" union all select 0 Dr,Amount Cr from acc_docdetails ACC with(nolock) where ACC.VoucherNo=INV.VoucherNo and ACC.CreditAccount="+c+") as TV)","ANX1_ECOM"==this.GSTType?(this.IsCreditAccount&&"InvValue"==I.ID||!this.IsCreditAccount&&"RetInvValue"==I.ID)&&(I.ActualColumn="NULL"):(this.IsCreditAccount&&("b2cs"==this.GSTType||"hsn"==this.GSTType)||!this.IsCreditAccount&&"GSTR2_hsnsum"==this.GSTType)&&(I.ActualColumn="-"+I.ActualColumn),this.SelectTag+=I.ActualColumn,this.IsInvValueEmpty=!0}else{if("-2"==C.J0.String(h.Value[I.ID]))if(null==h.Value[I.ID+"_MultFileds"])I.ActualColumn="0";else{let c="";h.Value[I.ID+"_MultFileds"].toString().split(",").forEach(f=>{this.SetActualColumn(I,h.Value,f),c.length>0&&(c+="+"),c+=I.ActualColumn}),I.ActualColumn=c,"b2b"==this.GSTType&&"InvValue"==I.ID&&(I.ActualColumn="(select abs(sum("+I.ActualColumn.Replace("NUM.","SNUM.")+")) from INV_DocDetails SINV with(nolock)\n                                inner join COM_DocNumData SNUM with(nolock) on SNUM.InvDocDetailsID=SINV.InvDocDetailsID\n                                where SINV.VoucherNo=INV.VoucherNo)")}else this.SetActualColumn(I,h.Value,""),"FLOAT"==I.DType&&(!this.IsCreditAccount&&("ANX1_REV"==this.GSTType||"ANX1_IMPS"==this.GSTType||"ANX1_IMPG"==this.GSTType||"ANX1_IMPGSEZ"==this.GSTType)||this.IsCreditAccount&&"exemp"==this.GSTType&&"NilRated"!=I.ID&&"Exempted"!=I.ID&&"NonGST"!=I.ID)&&(I.ActualColumn="-"+I.ActualColumn);"DATE"==I.DType&&(I.ActualColumn="convert(datetime,"+I.ActualColumn+")"),this.GroupBy.length>0?this.GroupBy.Contains(I.ID)||"NULL"==I.ActualColumn||"-2"==C.J0.String(h.Value[I.ID])&&"b2b"==this.GSTType&&"InvValue"==I.ID?this.SelectTag+=I.ActualColumn:"hsn"==this.GSTType&&"PRType"==I.ID?(I.ActualColumn=I.ActualColumn.Replace(I.ActualCol2,I.Agg+"("+I.ActualCol2+")"),this.SelectTag+=I.ActualColumn):I.ActualColumn.Contains("COM_Lookup")?this.SelectTag+="ISNULL("+I.ActualColumn.Replace(I.ActualCol2,I.Agg+"("+I.ActualCol2+")")+",'')":this.SelectTag+=I.Agg+"("+I.ActualColumn+")":this.SelectTag+=I.ActualColumn}0==i.length&&(this.SelectTag+=" "+I.ID),"INV.VoucherNo"==I.ActualColumn&&(this.SelectTag+=0==i.length?",INV.DocAbbr ["+I.ID+"Abr],INV.DocPrefix ["+I.ID+"prf],CONVERT(BIGINT,INV.DocNumber) ["+I.ID+"dno]":",INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)")}}if("b2b"==this.GSTType){var u=this.Columns.find(d=>"RecipientGSTIN"==d.ID);this.WhereTag+=" and "+u.ActualColumn+" is not null and "+u.ActualColumn+"!=''"}else if("b2cs"==this.GSTType){u=this.Columns.find(I=>"RecipientGSTIN"==I.ID),this.WhereTag+=" and ("+u.ActualColumn+" is null or "+u.ActualColumn+"='')";var s=this.Columns.find(I=>"InvValue"==I.ID);(t=this.Columns.find(I=>"PoS"==I.ID)).ColumnDimension>5e4&&p>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(p-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+p+" and (FromPosDCC.CCNID"+(t.ColumnDimension-5e4)+"=DCC.dcCCNID"+(t.ColumnDimension-5e4),s.ActualColumn.startsWith("-")?this.WhereTag+=" or "+s.ActualColumn.substr(1)+"<=250000)":this.WhereTag+=" or "+s.ActualColumn+"<=250000)"):alert(this.GSTType+"Pos Mapping Issue")}else if("b2cl"==this.GSTType)u=this.Columns.find(N=>"RecipientGSTIN"==N.ID),this.WhereTag+=" and ("+u.ActualColumn+" is null or "+u.ActualColumn+"='')",s=this.Columns.find(N=>"InvValue"==N.ID),this.WhereTag+=" and "+s.ActualColumn+">250000",(t=this.Columns.find(N=>"PoS"==N.ID)).ColumnDimension>5e4&&p>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(p-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+p+" and FromPosDCC.CCNID"+(t.ColumnDimension-5e4)+"!=DCC.dcCCNID"+(t.ColumnDimension-5e4)):alert(this.GSTType+" - Pos Mapping Issue");else if("cdnr"==this.GSTType)this.ParentGSTType!=W.GSTR1Summary&&(u=this.Columns.find(I=>"RecipientGSTIN"==I.ID),this.WhereTag+=" and "+u.ActualColumn+" is not null and "+u.ActualColumn+"!=''");else if("cdnur"==this.GSTType){if(u=this.Columns.find(c=>"RecipientGSTIN"==c.ID),this.WhereTag+=" and ("+u.ActualColumn+" is null or "+u.ActualColumn+"='')",this.dtSalesDocs.filter(c=>[6,39].Contains(c.DocumentType)&&c.CostCenterID==h.Key).length>0)if(s=this.Columns.find(f=>"InvValue"==f.ID),(t=this.Columns.find(f=>"PoS"==f.ID)).ColumnDimension>5e4&&p>5e4){this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(p-5e4),this.WhereTag+=" and (FromPosDCC.CostCenterID="+p+" and ((FromPosDCC.CCNID"+(t.ColumnDimension-5e4)+"!=DCC.dcCCNID"+(t.ColumnDimension-5e4),s.ActualColumn.startsWith("-")?this.WhereTag+=" and "+s.ActualColumn.substr(1)+">250000)":this.WhereTag+=" and "+s.ActualColumn+">250000)";var m=this.Columns.find(f=>"URType"==f.ID);null!=m&&null!=m.ActualColumn&&(this.WhereTag+=" or "+m.ActualColumn+"='EXPWP' or "+m.ActualColumn+"='EXPWOP'"),this.WhereTag+="))"}else alert(this.GSTType+" - Pos Mapping Issue")}else if("exp"==this.GSTType)u=this.Columns.find(I=>"ExportType"==I.ID),this.WhereTag+=" and ("+u.ActualColumn+"='WPAY' or "+u.ActualColumn+"='WOPAY')";else if("at"==this.GSTType||"atadj"==this.GSTType)this.SelectTag+=",INV.VoucherNo,INV.CreditAccount AccountID","atadj"==this.GSTType&&(this.FromTag+=" inner join (select AccountID,RefDocNo from @Tbl group by AccountID,RefDocNo) AS B on B.RefDocNo=INV.VoucherNo and B.AccountID=INV.CreditAccount");else if("GSTR2_at"==this.GSTType||"GSTR2_atadj"==this.GSTType){this.SelectTag+=",INV.VoucherNo,INV.DebitAccount AccountID","GSTR2_atadj"==this.GSTType&&(this.FromTag+=" inner join (select AccountID,RefDocNo from @Tbl group by AccountID,RefDocNo) AS B on B.RefDocNo=INV.VoucherNo and B.AccountID=INV.DebitAccount");var r=this.Columns.find(d=>"ReverseCharge"==d.ID);this.WhereTag+=" and ("+r.ActualColumn+"='YES' or "+r.ActualColumn+"='Y')"}else if("exemp"==this.GSTType||"GSTR2_exemp"==this.GSTType)this.ParentGSTType!=W.GSTR1Summary&&((t=this.Columns.find(I=>"PoS"==I.ID)).ColumnDimension>5e4&&p>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(p-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+p,this.SelectTag+=",case when FromPosDCC.CCNID"+(t.ColumnDimension-5e4)+"=DCC.dcCCNID"+(t.ColumnDimension-5e4)+" then 1 else 0 end IsSameState"):alert(this.GSTType+" - Pos Mapping Issue"));else if(this.GSTType.startsWith("GSTR2_"))if("GSTR2_b2b"==this.GSTType)u=this.Columns.find(c=>"SupplierGSTIN"==c.ID),this.WhereTag+=" and "+u.ActualColumn+" is not null and "+u.ActualColumn+"!=''",(t=this.Columns.find(c=>"PoS"==c.ID)).ColumnDimension>5e4&&p>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(p-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+p,this.SelectTag+=",case when FromPosDCC.CCNID"+(t.ColumnDimension-5e4)+"=DCC.dcCCNID"+(t.ColumnDimension-5e4)+" then 'Intra State' else 'Inter State' end SupplyType",this.GroupByDynamic=",FromPosDCC.CCNID"+(t.ColumnDimension-5e4)+",DCC.dcCCNID"+(t.ColumnDimension-5e4)):alert(this.GSTType+" - Pos Mapping Issue");else if("GSTR2_b2bur"==this.GSTType){let d=this.Columns.find(c=>"SupplierGSTIN"==c.ID);this.WhereTag+=" and ("+d.ActualColumn+" is null or "+d.ActualColumn+"='')",(t=this.Columns.find(c=>"PoS"==c.ID)).ColumnDimension>5e4&&p>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(p-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+p,this.SelectTag+=",case when FromPosDCC.CCNID"+(t.ColumnDimension-5e4)+"=DCC.dcCCNID"+(t.ColumnDimension-5e4)+" then 'Intra State' else 'Inter State' end SupplyType",this.GroupByDynamic=",FromPosDCC.CCNID"+(t.ColumnDimension-5e4)+",DCC.dcCCNID"+(t.ColumnDimension-5e4)):alert(this.GSTType+" - Pos Mapping Issue")}else if("GSTR2_imps"==this.GSTType||"GSTR2_impg"==this.GSTType){var e=this.Columns.find(d=>"ITCEligible"==d.ID);this.Entities.ContainsKey("Product")||(this.Entities.push("Product","P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),"GSTR2_imps"==this.GSTType?this.WhereTag+=" and P.ProductTypeID=6 and ("+e.ActualColumn+"='Ineligible' or "+e.ActualColumn+"='Input services')":"GSTR2_impg"==this.GSTType&&(this.WhereTag+=" and P.ProductTypeID!=6 and ("+e.ActualColumn+"='Ineligible' or "+e.ActualColumn+"='Inputs' or "+e.ActualColumn+"='Capital goods')")}else"GSTR2_cdnr"==this.GSTType?(u=this.Columns.find(I=>"SupplierGSTIN"==I.ID),this.WhereTag+=" and "+u.ActualColumn+" is not null and "+u.ActualColumn+"!=''",this.stratDocs.length>0&&(this.WhereTag+=" and (LINV.CostCenterID not in ("+this.stratDocs+") or LINV.DocDate<convert(float,convert(datetime,@FROMDATE@)))")):"GSTR2_cdnur"==this.GSTType&&(u=this.Columns.find(I=>"SupplierGSTIN"==I.ID),this.WhereTag+=" and ("+u.ActualColumn+" is null or "+u.ActualColumn+"='')",this.stratDocs.length>0&&(this.WhereTag+=" and (LINV.CostCenterID not in ("+this.stratDocs+") or LINV.DocDate<convert(float,convert(datetime,@FROMDATE@)))"));else if(this.GSTType.startsWith("GSTR3_")){var t;"GSTR3_GSTR3B_Outward"==this.GSTType&&((t=this.Columns.find(I=>"PoS"==I.ID)).ColumnDimension>5e4&&p>5e4?(this.FromTag+=" inner join COM_CCCCData FromPosDCC with(nolock) on FromPosDCC.NodeID=DCC.dcCCNID"+(p-5e4),this.WhereTag+=" and FromPosDCC.CostCenterID="+p,this.SelectTag+=",FromPosDCC.CCNID"+(t.ColumnDimension-5e4)+" FromState,DCC.dcCCNID"+(t.ColumnDimension-5e4)+" ToState",this.GroupByDynamic=",FromPosDCC.CCNID"+(t.ColumnDimension-5e4)+",DCC.dcCCNID"+(t.ColumnDimension-5e4)):alert(this.GSTType+" - Pos Mapping Issue"))}else if(this.GSTType.startsWith("ANX1_"))if("ANX1_B2C"==this.GSTType)u=this.Columns.find(I=>"RecipientGSTIN"==I.ID),this.WhereTag+=" and ("+u.ActualColumn+" is null or "+u.ActualColumn+"='')";else if("ANX1_B2B"==this.GSTType){var n=this.Columns.find(d=>"RecipientGSTIN"==d.ID);this.WhereTag+=" and ("+n.ActualColumn+" is not null and "+n.ActualColumn+"!='')",n=this.Columns.find(d=>"ReverseCharge"==d.ID),this.WhereTag+=" and ("+n.ActualColumn+" is null or ("+n.ActualColumn+"!='YES' and "+n.ActualColumn+"!='Y'))",n=this.Columns.find(d=>"PartyType"==d.ID),this.WhereTag+=" and ("+n.ActualColumn+" is null or "+n.ActualColumn+"!='SEZ')",n=this.Columns.find(d=>"SaleType"==d.ID),this.WhereTag+=" and ("+n.ActualColumn+"='InterStateB2B' or "+n.ActualColumn+"='IntraStateB2B')"}else"ANX1_EXP"==this.GSTType?(n=this.Columns.find(I=>"RecipientGSTIN"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+" is not null and "+n.ActualColumn+"!='')",n=this.Columns.find(I=>"PartyType"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+" is null or "+n.ActualColumn+"!='SEZ')",n=this.Columns.find(I=>"SaleType"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+" is null or "+n.ActualColumn+"!='SEZ')"):"ANX1_SEZ"==this.GSTType?(n=this.Columns.find(I=>"RecipientGSTIN"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+" is not null and "+n.ActualColumn+"!='')",n=this.Columns.find(I=>"PartyType"==I.ID),this.WhereTag+=" and "+n.ActualColumn+"='SEZ'",n=this.Columns.find(I=>"IntTaxAmt"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+">0)"):"ANX1_DE"==this.GSTType?(n=this.Columns.find(I=>"RecipientGSTIN"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+" is not null and "+n.ActualColumn+"!='')",n=this.Columns.find(I=>"PartyType"==I.ID),this.WhereTag+=" and "+n.ActualColumn+"='Deemed Export'"):"ANX1_ECOM"==this.GSTType?(n=this.Columns.find(I=>"RecipientGSTIN"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+" is not null and "+n.ActualColumn+"!='')",n=this.Columns.find(I=>"IsEcomCustomer"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+"='YES' or "+n.ActualColumn+"='Y')"):"ANX1_REV"==this.GSTType?(n=this.Columns.find(I=>"ReverseCharge"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+"='YES' or "+n.ActualColumn+"='Y')"):"ANX1_IMPS"==this.GSTType?(this.Entities.ContainsKey("Product")||(this.Entities.push("Product","P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),n=this.Columns.find(I=>"ReverseCharge"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+"!='YES' and "+n.ActualColumn+"!='Y')",this.WhereTag+=" and P.ProductTypeID=6"):"ANX1_IMPG"==this.GSTType?(this.Entities.ContainsKey("Product")||(this.Entities.push("Product","P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),n=this.Columns.find(I=>"ReverseCharge"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+"!='YES' and "+n.ActualColumn+"!='Y')",this.WhereTag+=" and P.ProductTypeID!=6",n=this.Columns.find(I=>"PartyType"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+" is null or "+n.ActualColumn+"!='SEZ')"):"ANX1_IMPGSEZ"==this.GSTType&&(this.Entities.ContainsKey("Product")||(this.Entities.push("Product","P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),n=this.Columns.find(I=>"ReverseCharge"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+"!='YES' and "+n.ActualColumn+"!='Y')",this.WhereTag+=" and P.ProductTypeID!=6",n=this.Columns.find(I=>"PartyType"==I.ID),this.WhereTag+=" and "+n.ActualColumn+"='SEZ'",n=this.Columns.find(I=>"SupplierGSTIN"==I.ID),this.WhereTag+=" and ("+n.ActualColumn+" is not null and "+n.ActualColumn+"!='')");if(0==i.length&&this.GroupBy.length>0)for(let d=0;d<this.GroupBy.length;d++){var D=this.Columns.find(I=>I.ID==this.GroupBy[d]);d>0&&(this.OrderBy+=","),"INV.VoucherNo"==D.ActualColumn?this.OrderBy+=D.ID+"Abr,"+D.ID+"prf,"+D.ID+"dno":(this.OrderBy+=D.ID,D.Sort.length>0&&(this.OrderBy+=" "+D.Sort))}if(i+="SELECT "+this.SelectTag+"\r\nFROM "+this.FromTag,i+="\r\nWHERE "+this.WhereTag,i+="@WHERE@",this.GroupBy.length>0){i+="\r\nGROUP BY ";for(let d=0;d<this.GroupBy.length;d++)"NULL"!=(D=this.Columns.find(c=>c.ID==this.GroupBy[d])).ActualColumn&&(d>0&&(i+=","),i+=D.ActualCol2.length>0?D.ActualCol2:D.ActualColumn,"INV.VoucherNo"==D.ActualColumn&&(i+=",INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)"));(this.IsInvValueEmpty||"b2cs"==this.GSTType||"hsn"==this.GSTType||"GSTR2_b2b"==this.GSTType||"GSTR2_imps"==this.GSTType||"GSTR2_impg"==this.GSTType||"GSTR2_hsnsum"==this.GSTType)&&(i+=",INV.VoucherNo",i+=","+(this.IsCreditAccount?"INV.CreditAccount":"INV.DebitAccount")),"at"==this.GSTType||"atadj"==this.GSTType?(i+=",INV.VoucherNo,INV.CreditAccount",this.OrderBy+=",VoucherNo"):("GSTR2_at"==this.GSTType||"GSTR2_atadj"==this.GSTType||"GSTR2_at"==this.GSTType||"GSTR2_atadj"==this.GSTType)&&(i+=",INV.VoucherNo,INV.DebitAccount",this.OrderBy+=",VoucherNo"),i+=this.GroupByDynamic}}if("b2cs"==this.GSTType&&this.ParentGSTType!=W.GSTR1Summary&&(i=i.Insert(0,"select Type,PoS,Rate,SUM(TaxableValue) TaxableValue,SUM(CessAmt) CessAmt,max(ECommGSTIN) ECommGSTIN from (\r\n"),i+="\r\n) as T GROUP BY Type,PoS,Rate"),("hsn"==this.GSTType||"GSTR2_hsnsum"==this.GSTType)&&this.ParentGSTType!=W.GSTR1Summary&&(i=i.Insert(0,"select HSN,UQC"+("hsn"==this.GSTType?",Rate,MAX(PRType) PRType":"")+",MAX(Description) Description,SUM(TotalQty) TotalQty,SUM(TotalValue) TotalValue,SUM(TaxableValue) TaxableValue\n,SUM(IntTaxAmt) IntTaxAmt,SUM(CTaxAmt) CTaxAmt,SUM(STaxAmt) STaxAmt,SUM(CessAmt) CessAmt from (\r\n"),i+="\r\n) as T GROUP BY HSN,UQC"+("hsn"==this.GSTType?",Rate":"")),this.arrOrderBy.length>0)for(let T=0;T<this.arrOrderBy.length;T++)D=this.Columns.find(d=>d.ID==this.arrOrderBy[T]),this.OrderBy.length>0&&(this.OrderBy+=","),this.OrderBy+="INV.VoucherNo"==D.ActualColumn?D.ID+"Abr,"+D.ID+"prf,"+D.ID+"dno":D.ID;if(this.OrderBy.length>0&&i.length>0&&this.ParentGSTType!=W.GSTR1Summary&&(i+="\r\nORDER BY "+this.OrderBy),"at"==this.GSTType&&i.length>0)i+="\nSELECT CB.DocNo,CB.AccountID,RefDocNo,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount>0";else if("GSTR2_at"==this.GSTType&&i.length>0)i+="\nSELECT CB.DocNo,CB.AccountID,RefDocNo,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount<0";else if("atadj"==this.GSTType&&i.length>0){null==this.strcdnrDocs&&(this.strcdnrDocs=M.GetReportDocs("'cdnr','cdnur'"));let T="";this.lstDocuments.keys.forEach(h=>{T.length>0&&(T+=","),T+=h}),i=i.Insert(0,"declare @Tbl as table(AccountID bigint,DocNo nvarchar(50),CostCenterID int,RefDocNo nvarchar(50),RefCostCenterID int,AdjAmount float)\ninsert into @Tbl\nselect * from (\nSELECT CB.AccountID,CB.DocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.DocNo) CostCenterID,RefDocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.RefDocNo) RefCostCenterID,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount>0\n) AS T\nwhere RefCostCenterID is not null and RefCostCenterID in ("+T+")"+(this.strcdnrDocs.length>0?" and CostCenterID not in ("+this.strcdnrDocs+")":"")+"\r\n"),i+="\r\nselect * from @Tbl"}else if("GSTR2_atadj"==this.GSTType&&i.length>0){null==this.strcdnrDocs&&(this.strcdnrDocs=M.GetReportDocs("'GSTR2_cdnr','GSTR2_cdnur'"));let T="";this.lstDocuments.keys.forEach(h=>{T.length>0&&(T+=","),T+=h}),i=i.Insert(0,"declare @Tbl as table(AccountID bigint,DocNo nvarchar(50),CostCenterID int,RefDocNo nvarchar(50),RefCostCenterID int,AdjAmount float)\ninsert into @Tbl\nselect * from (\nSELECT CB.AccountID,CB.DocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.DocNo) CostCenterID,RefDocNo,(select top 1 CostCenterID from INV_DocDetails with(nolock) where VoucherNo=CB.RefDocNo) RefCostCenterID,AdjAmount\nFROM COM_Billwise CB with(nolock)\nWHERE IsNewReference=0@atWHERE@\nAND DocType<>14 AND DocType<>19 AND (CB.StatusID=369 or CB.StatusID=429)\nand AdjAmount<0\n) AS T\nwhere RefCostCenterID is not null and RefCostCenterID in ("+T+")"+(this.strcdnrDocs.length>0?" and CostCenterID not in ("+this.strcdnrDocs+")":"")+"\r\n"),i+="\r\nselect * from @Tbl"}return"exemp"==this.GSTType&&i.length>0&&this.ParentGSTType!=W.GSTR1Summary?(i=i.Insert(0,"select case \nwhen RecipientGSTIN=1 and IsSameState=0 then 'Inter-State supplies to registered persons' \nwhen RecipientGSTIN=1 and IsSameState=1 then 'Intra-State supplies to registered persons' \nwhen RecipientGSTIN=0 and IsSameState=0 then 'Inter-State supplies to unregistered persons' \nwhen RecipientGSTIN=0 and IsSameState=1 then 'Intra-State supplies to unregistered persons' \nend Description\n,NilRated,Exempted,NonGST\nfrom\n(\nselect IsSameState,RecipientGSTIN\n,sum(NilRated) NilRated,sum(Exempted) Exempted,sum(NonGST) NonGST from\n("),i+=") as T\nGroup By IsSameState,RecipientGSTIN\n) as T"):"GSTR2_exemp"==this.GSTType&&i.length>0&&this.ParentGSTType!=W.GSTR1Summary?(i=i.Insert(0,"select case \nwhen IsSameState=0 then 'Inter-State supplies' \nwhen IsSameState=1 then 'Intra-State supplies' \nend Description\n,case when IsSameState=1 then CompositTaxPer else null end CompositTaxPer,NilRated,Exempted,NonGST\nfrom\n(\nselect IsSameState,sum(CompositTaxPer) CompositTaxPer,sum(NilRated) NilRated,sum(Exempted) Exempted,sum(NonGST) NonGST from\n("),i+=") as T\nGroup By IsSameState\n) as T"):"GSTR3_GSTR3B_Outward"==this.GSTType&&(i+="\nselect 'ZERO' Type,'"+this.txtexempZero.Text+"' Caption union all select 'NIL','"+this.txtexempNill.Text+"' union all select 'EXEMPTED','"+this.txtexempExempted.Text+"' union all select 'NONGST','"+this.txtexempNonGST.Text+"'"),i.toString()}GetVATQuery(o){let i="";if("VATAED1"==this.GSTType){let a="";this.lstDocuments.keys.forEach(r=>{a.length>0&&(a+=","),a+=r.toString()});let p="DCC.dcCCNID59",u="";y.d.SessionManager.Preferences.ContainsKey("VATMaintainOn")&&("50001"==y.d.SessionManager.Preferences.VATMaintainOn?(p="LCC.CCNID59",u=" inner join COM_CCCCDATA LCC with(nolock) on DCC.dcCCNID1=LCC.NodeID and LCC.CostCenterID=50002"):"50002"==y.d.SessionManager.Preferences.VATMaintainOn&&(p="LCC.CCNID59",u=" inner join COM_CCCCDATA LCC with(nolock) on DCC.dcCCNID2=LCC.NodeID and LCC.CostCenterID=50002")),i+="declare @From float,@To float\nset @From=convert(float,convert(datetime,@FROMDATE@))\nset @To=convert(float,convert(datetime,@TODATE@))",i+="\nselect VATState,sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(VATRCMAmt) VATRCMAmt,sum(VATCustomAmt) VATCustomAmt,sum(VATAdvAmt) VATAdvAmt\n,sum(StdAdjustment) StdAdjustment,sum(RCMAdjustment) RCMAdjustment from\n(",i+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue\n,NUM.dcCalcNum53 VATStdAmt,NUM.dcCalcNum55 VATRCMAmt,NUM.dcCalcNum57 VATCustomAmt,NUM.dcCalcNum59 VATAdvAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment\n,"+p+" VATState\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID"+u+"\nWHERE INV.CostCenterID in ("+a+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53 is not null and (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",i+="@WHERE@";let s="";this.VATSaleReturnDocs.Items.filter(r=>r.IsChecked).forEach(r=>{s.length>0&&(s+=","),s+=r.Value}),s.length>0&&(i+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue\n,-NUM.dcCalcNum53 VATStdAmt,-NUM.dcCalcNum55 VATRCMAmt,-NUM.dcCalcNum57 VATCustomAmt,-NUM.dcCalcNum59 VATAdvAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment\n,"+p+" VATState\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID"+u+"\nWHERE INV.CostCenterID in ("+s+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0) ",i+="@WHERE@");let t="";this.VATBadDebtsDocs.Items.filter(r=>r.IsChecked).forEach(r=>{t.length>0&&(t+=","),t+=r.Value}),t.length>0&&(i+="\nUNION ALL\nSELECT inv.voucherno Description,0.0 TaxableValue\n,0.0 VATStdAmt,0.0 VATRCMAmt,0.0 VATCustomAmt,0.0 VATAdvAmt\n,-NUM.dcCalcNum53 StdAdjustment,-NUM.dcCalcNum55 RCMAdjustment\n,"+p+" VATState\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID"+u+"\nWHERE INV.CostCenterID in ("+t+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0) ",i+="@WHERE@"),i+=") AS T\ngroup by VATState";let m=a;s.length>0&&(m+=","+s),i+="\n--Zero,Exemp,OtherGCC\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,sum(-INV.VoucherType*NUM.dcCalcNum51) TaxableValue\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+m+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",i+="@WHERE@",i+=" GROUP BY DCC.dcCCNID61,DCC.dcCCNID62",s="",this.lstVATPurDocs.Items.filter(r=>r.IsChecked).forEach(r=>{s.length>0&&(s+=","),s+=r.Value}),i+="\n--Customs\nSELECT isnull(sum(NUM.dcCalcNum51),0) TaxableValue,isnull(sum(NUM.dcCalcNum57),0) VATCustomAmt\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\nWHERE INV.CostCenterID in ("+s+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and (NUM.dcCalcNum57>0 )\nand PCC.CCNID71=1 and DCC.dcCCNID62>=5 and DCC.dcCCNID62<=8",i+="@WHERE@",s="",this.lstVATPurDocs.Items.filter(r=>r.IsChecked).forEach(r=>{s.length>0&&(s+=","),s+=r.Value}),s.length>0?(i+="\nselect VATStd,VATRCM,sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(VATRCMAmt) VATRCMAmt\n,sum(StdAdjustment) StdAdjustment,sum(RCMAdjustment) RCMAdjustment,ProductType\nfrom\n(",i+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcNum52 VATStd,NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,NUM.dcCalcNum55 VATRCMAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment,PCC.CCNID71 ProductType\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\nWHERE INV.CostCenterID in ("+s+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",i+="@WHERE@",s="",this.VATPurReturnDocs.Items.filter(r=>r.IsChecked).forEach(r=>{s.length>0&&(s+=","),s+=r.Value}),s.length>0&&(i+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue,NUM.dcNum52 VATStd,-NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,-NUM.dcCalcNum55 VATRCMAmt\n,0.0 StdAdjustment,0.0 RCMAdjustment,PCC.CCNID71\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\nleft join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+s+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and (LINV.DocDate is null or LINV.DocDate between @From and @To)\nand (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",i+="@WHERE@",i+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue,NUM.dcNum52 VATStd,0.0 VATStdAmt,NUM.dcNum54 VATRCM,0.0 VATRCMAmt\n,-NUM.dcCalcNum53 StdAdjustment,-NUM.dcCalcNum55 RCMAdjustment,PCC.CCNID71\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\njoin COM_CCCCDATA PCC with(nolock) on PCC.CostCenterID=3 and PCC.NodeID=INV.ProductID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+s+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand (NUM.dcCalcNum53!=0 or NUM.dcCalcNum55!=0) ",i+="@WHERE@"),i+=") AS T\ngroup by VATStd,VATRCM,ProductType"):i+="\nselect 0 NoPurchase where 1!=1",s="",this.VATTouristDocs.Items.filter(r=>r.IsChecked).forEach(r=>{s.length>0&&(s+=","),s+=r.Value}),s.length>0?(i+="\nselect -sum(TaxableValue) TaxableValue,-sum(VATStdAmt) VATStdAmt\nfrom\n(",i+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcCalcNum53 VATStdAmt\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+s+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand NUM.dcCalcNum53 is not null and NUM.dcCalcNum53!=0 ",i+="@WHERE@",i+=") AS T"):i+="\nselect 0 NoTourist where 1!=1",s="",this.VATCustomsAdjDocs.Items.filter(r=>r.IsChecked).forEach(r=>{s.length>0&&(s+=","),s+=r.Value}),s.length>0?(i+="\nselect sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt\nfrom\n(",i+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcCalcNum53 VATStdAmt\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+s+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand NUM.dcCalcNum53 is not null and NUM.dcCalcNum53!=0 ",i+="@WHERE@",i+=") AS T"):i+="\nselect 0 NoCustomAdj where 1!=1"}else if("VATSAS1"==this.GSTType){let a="";this.lstDocuments.keys.forEach(u=>{a.length>0&&(a+=","),a+=u.toString()});let p="";this.VATSaleReturnDocs.Items.filter(u=>u.IsChecked).forEach(u=>{p.length>0&&(p+=","),p+=u.Value}),i+="declare @From float,@To float\nset @From=convert(float,convert(datetime,@FROMDATE@))\nset @To=convert(float,convert(datetime,@TODATE@))",i+="\nselect sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(Adjustment) Adjustment\nfrom\n(",i+="SELECT inv.voucherno Description,NUM.dcCalcNum51 TaxableValue,NUM.dcCalcNum53 VATStdAmt,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+a+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53>0",i+=" @WHERE@",p.length>0&&(i+="\nUNION ALL\nSELECT inv.voucherno Description,-NUM.dcCalcNum51 TaxableValue,-NUM.dcCalcNum53 VATStdAmt,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate between @From and @To\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53>0 ",i+=" @WHERE@",i+="\nUNION ALL\nSELECT inv.voucherno Description,null TaxableValue,-NUM.dcCalcNum53 VATStdAmt,NUM.dcCalcNum51 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand DCC.dcCCNID62!=8 and DCC.dcCCNID61!=13 and DCC.dcCCNID61!=14 and NUM.dcCalcNum53>0",i+=" @WHERE@"),i+=") AS T",i+="--Zero,Exemp,OtherGCC,Customs\nselect SaleType,AccType,sum(TaxableValue) TaxableValue,sum(Adjustment) Adjustment\nfrom (\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,NUM.dcCalcNum51 TaxableValue,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+a+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",i+="@WHERE@",p.length>0&&(i+="\nUNION ALL\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,-NUM.dcCalcNum51 TaxableValue,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate between @From and @To\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",i+=" @WHERE@",i+="\nUNION ALL\nSELECT DCC.dcCCNID61 SaleType,DCC.dcCCNID62 AccType,0.0 TaxableValue,NUM.dcCalcNum51 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand (DCC.dcCCNID61=13 or DCC.dcCCNID61=14 or DCC.dcCCNID62=8)",i+=" @WHERE@"),i+=") AS T",i+=" GROUP BY SaleType,AccType",i+=" Select 1 ",p="",this.lstVATPurDocs.Items.filter(u=>u.IsChecked).forEach(u=>{p.length>0&&(p+=","),p+=u.Value}),p.length>0?(i+="\nselect VAT,SaleType,VATStd,VATRCM,VATCustom,sum(TaxableValue) TaxableValue,sum(VATStdAmt) VATStdAmt,sum(VATRCMAmt) VATRCMAmt,sum(VATCustomAmt) VATCustomAmt\n,sum(Adjustment) Adjustment\nfrom\n(",i+="SELECT inv.voucherno Description,DCC.dcCCNID61 SaleType,NUM.dcCalcNum51 TaxableValue,NUM.dcNum60 VAT,NUM.dcNum52 VATStd,NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,NUM.dcCalcNum55 VATRCMAmt,NUM.dcNum56 VATCustom,NUM.dcCalcNum57 VATCustomAmt\n,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To\nand (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0 or NUM.dcNum56>0 or DCC.dcCCNID61=13 or DCC.dcCCNID61=14) ",i+="@WHERE@",p="",this.VATPurReturnDocs.Items.filter(u=>u.IsChecked).forEach(u=>{p.length>0&&(p+=","),p+=u.Value}),p.length>0&&(i+="\nUNION ALL\nSELECT inv.voucherno Description,DCC.dcCCNID61 SaleType,-NUM.dcCalcNum51 TaxableValue,NUM.dcNum60 VAT,NUM.dcNum52 VATStd,-NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,-NUM.dcCalcNum55 VATRCMAmt,NUM.dcNum56 VATCustom,-NUM.dcCalcNum57 VATCustomAmt\n,0.0 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate between @From and @To\nand (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0 or NUM.dcNum56>0 or DCC.dcCCNID61=13 or DCC.dcCCNID61=14) ",i+="@WHERE@",i+="\nUNION ALL\nSELECT inv.voucherno Description,DCC.dcCCNID61 SaleType,null TaxableValue,NUM.dcNum60 VAT,NUM.dcNum52 VATStd,-NUM.dcCalcNum53 VATStdAmt,NUM.dcNum54 VATRCM,-NUM.dcCalcNum55 VATRCMAmt,NUM.dcNum56 VATCustom,-NUM.dcCalcNum57 VATCustomAmt\n,NUM.dcCalcNum51 Adjustment\nFROM INV_DocDetails INV with(nolock) inner join COM_DocCCData DCC with(nolock) on DCC.InvDocDetailsID=INV.InvDocDetailsID\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID\ninner join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID\nWHERE INV.CostCenterID in ("+p+") and INV.StatusID=369 and (INV.DynamicInvDocDetailsID is null or INV.DynamicInvDocDetailsID=0)\nand INV.DocDate between @From and @To and LINV.DocDate<@From\nand (NUM.dcCalcNum53>0 or NUM.dcCalcNum55>0 or NUM.dcNum56>0 or DCC.dcCCNID61=13 or DCC.dcCCNID61=14) ",i+="@WHERE@"),i+=") AS T\ngroup by VAT,SaleType,VATStd,VATRCM,VATCustom"):i+="select 0 NoPurchase where 1!=1"}return i.toString()}SetActualColumn(o,i,a){let p,u="",s="";if(this.DocumentFields.Contains(o.ID)){if(!o.IsOptional||!this.dtMain[1][o.ID]||""==C.J0.String(this.dtMain[1][o.ID]))return void(o.ActualColumn="INV."+o.ID)}else{if("LinkVoucherNo"==o.ID)return this.Entities.ContainsKey("LINV")||(this.Entities.push("LINV","LINV"),this.FromTag+=" left join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID"),("GSTR2_cdnr"==this.GSTType||"GSTR2_cdnur"==this.GSTType)&&(0==a.length&&(a=C.J0.String(400==o.ColumnDimension?i[o.ID]:this.dtMain[1][o.ID])),p=a.length>0?o.dtComboData.filter(e=>e.Value==a):[],p.length>0&&0==C.J0.stringCompare(C.J0.String(p[0].SysColumnName),"BillNo",!0))?void(o.ActualColumn="LINV.BillNo"):void(o.ActualColumn="LINV.VoucherNo");if("LinkDocDate"==o.ID)return this.Entities.ContainsKey("LINV")||(this.Entities.push("LINV","LINV"),this.FromTag+=" left join INV_DocDetails LINV with(nolock) on INV.LinkedInvDocDetailsID=LINV.InvDocDetailsID"),("GSTR2_cdnr"==this.GSTType||"GSTR2_cdnur"==this.GSTType)&&(0==a.length&&(a=C.J0.String(400==o.ColumnDimension?i[o.ID]:this.dtMain[1][o.ID])),p=a.length>0?o.dtComboData.filter(e=>e.Value==a):[],p.length>0&&0==C.J0.stringCompare(p[0].SysColumnName.toString(),"BillDate",!0))?void(o.ActualColumn="LINV.BillDate"):void(o.ActualColumn="LINV.DocDate");if("DocumentType"==o.ID)return void(o.ActualColumn="'"+i.DocumentType_Key.toString()+"'");if("PreGST"==o.ID)return void(o.ActualColumn="case when LINV.DocDate<42915 then 'Y' else 'N' end");if("IsDocCancelled"==o.ID&&this.GSTType.startsWith("CT"))return void(o.ActualColumn="case when INV.StatusID=376 then 'Y' else 'N' end");if("DifferentialTaxRate"==o.ID)return void(o.ActualColumn="0");if("SupplyUnderSec7"==o.ID||"WouldClaimRefund"==o.ID)return void(o.ActualColumn="'Yes'");if("IMPGDocType"==o.ID)return void(o.ActualColumn="'Bill of Entry'");if("NetValue"==o.ID&&"ANX1_ECOM"==this.GSTType){var t=this.Columns.find(e=>"InvValue"==e.ID);return o.ActualColumn="NULL"!=t.ActualColumn?t.ActualColumn:"",void("NULL"!=(t=this.Columns.find(e=>"RetInvValue"==e.ID)).ActualColumn&&(o.ActualColumn+="-"+t.ActualColumn))}}if(0==a.length&&(a=C.J0.String(400==o.ColumnDimension?i[o.ID]:this.dtMain[1][o.ID])),p=a.length>0?o.dtComboData.filter(e=>e.Value==a):[],p.length>0&&(s=p[0].SysTableName.toString().toUpperCase()),0!=p.length){if(2==o.ColumnDimension)if(u="Account",this.Entities.ContainsKey("Account")||(this.Entities.push("Account","A"),this.FromTag+="\ninner join ACC_Accounts A with(nolock) on A.AccountID=",this.FromTag+=this.IsCreditAccount?"INV.CreditAccount":"INV.DebitAccount"),"ACC_ACCOUNTSEXTENDED"==s)u+=".Extended",this.Entities.ContainsKey(u)||(this.Entities.push(u,"AEXT"),this.FromTag+="\r\ninner join ACC_AccountsExtended AEXT with(nolock) on AEXT.AccountID=A.AccountID"),o.ActualColumn=this.Entities[u]+"."+p[0].SysColumnName.toString();else if("COM_CCCCDATA"==s){u+=".CCCCDATA",this.Entities.ContainsKey(u)||(this.Entities.push(u,"ADCC"),this.FromTag+="\r\ninner join COM_CCCCData ADCC with(nolock) on ADCC.CostCenterID=2 and ADCC.NodeID=A.AccountID");let e=parseInt(p[0].SysColumnName.toString().Replace("CCNID","")),n=this.GetTableName(5e4+e);u=u+"."+p[0].SysColumnName.toString(),this.Entities.ContainsKey(u)||(this.Entities.push(u,"ADCC_"+p[0].SysColumnName.toString()),this.FromTag+="\r\ninner join "+n+" "+this.Entities[u]+" with(nolock) on "+this.Entities[u]+".NodeID=ADCC."+p[0].SysColumnName.toString()),o.ActualColumn=this.Entities[u]+".Name"}else o.ActualColumn=this.Entities[u]+"."+p[0].SysColumnName.toString();else if(3==o.ColumnDimension)if(u="Product",this.Entities.ContainsKey("Product")||(this.Entities.push(u,"P"),this.FromTag+="\r\ninner join INV_Product P with(nolock) on P.ProductID=INV.ProductID"),"INV_PRODUCTEXTENDED"==s)u+=".Extended",this.Entities.ContainsKey(u)||(this.Entities.push(u,"PEXT"),this.FromTag+="\r\ninner join INV_ProductExtended PEXT with(nolock) on PEXT.ProductID=P.ProductID"),o.ActualColumn=this.Entities[u]+"."+p[0].SysColumnName.toString(),"44"==p[0].ColumnCostCenterID.toString()&&(o.ActualCol2=o.ActualColumn,o.ActualColumn="(select TOP 1 Name from COM_Lookup L with(nolock) where CONVERT(NVARCHAR,L.NodeID)="+o.ActualColumn+")");else if("COM_CCCCDATA"==s){u+=".CCCCDATA",this.Entities.ContainsKey(u)||(this.Entities.push(u,"PDCC"),this.FromTag+="\r\ninner join COM_CCCCData PDCC with(nolock) on PDCC.CostCenterID=3 and PDCC.NodeID=P.ProductID");let e=parseInt(p[0].SysColumnName.toString().Replace("CCNID","")),n=this.GetTableName(5e4+e);u=u+"."+p[0].SysColumnName.toString(),this.Entities.ContainsKey(u)||(this.Entities.push(u,"PDCC_"+p[0].SysColumnName.toString()),this.FromTag+="\r\ninner join "+n+" "+this.Entities[u]+" with(nolock) on "+this.Entities[u]+".NodeID=PDCC."+p[0].SysColumnName.toString()),o.ActualColumn=this.Entities[u]+".Name"}else o.ActualColumn=this.Entities[u]+"."+p[0].SysColumnName.toString();else if(12==o.ColumnDimension)u="Currency",this.Entities.ContainsKey("Currency")||(this.Entities.push(u,"CUR"),this.FromTag+="\r\ninner join COM_Currency CUR with(nolock) on CUR.CurrencyID=INV.CurrencyID"),o.ActualColumn=this.Entities[u]+"."+p[0].SysColumnName.toString();else if(400==o.ColumnDimension){if(u="Document","COM_DOCNUMDATA"==s)u+=".COM_DocNumData",this.Entities.ContainsKey(u)||(this.Entities.push(u,"NUM"),this.FromTag+="\r\ninner join COM_DocNumData NUM with(nolock) on NUM.InvDocDetailsID=INV.InvDocDetailsID");else if("COM_DOCTEXTDATA"==s)u+=".COM_DocTextData",this.Entities.ContainsKey(u)||(this.Entities.push(u,"TXT"),this.FromTag+="\r\ninner join COM_DocTextData TXT with(nolock) on TXT.InvDocDetailsID=INV.InvDocDetailsID");else{if("COM_DOCCCDATA"==s){let e=parseInt(p[0].SysColumnName.toString().Replace("dcCCNID","")),n=this.GetTableName(5e4+e);return u="Document.COM_DocCCData."+n,this.Entities.ContainsKey(u)||(this.Entities.push(u,"DCC_"+e),this.FromTag+="\r\ninner join "+n+" "+this.Entities[u]+" with(nolock) on "+this.Entities[u]+".NodeID=DCC.dcCCNID"+e),void(o.ActualColumn=this.Entities[u]+".Name")}if("Unit"==p[0].SysColumnName.toString())return u+=".Unit",this.Entities.ContainsKey(u)||(this.Entities.push(u,"U"),this.FromTag+="\r\ninner join COM_UOM U with(nolock) on U.UOMID=INV.Unit"),void(o.ActualColumn="U.UnitName")}if(o.ActualColumn=this.Entities[u]+"."+p[0].SysColumnName.toString(),null!=p[0].ColumnCostCenterID&&44==parseInt(p[0].ColumnCostCenterID))return o.ActualCol2=o.ActualColumn,void(o.ActualColumn="(select TOP 1 Name from COM_Lookup L with(nolock) where CONVERT(NVARCHAR,L.NodeID)="+o.ActualColumn+")");"Discount"==o.ID&&this.GSTType.startsWith("CT")&&(o.ActualColumn="abs("+o.ActualColumn+")"),"FLOAT"==o.DType&&"Rate"!=o.ID&&(this.IsCreditAccount&&("b2cs"==this.GSTType||"hsn"==this.GSTType)||!this.IsCreditAccount&&"GSTR2_hsnsum"==this.GSTType)&&(o.ActualColumn="-"+o.ActualColumn)}else if(o.ColumnDimension>5e4){let e=this.GetTableName(o.ColumnDimension);if(("hsn"==this.GSTType||"GSTR2_hsnsum"==this.GSTType)&&"Description"==o.ID){var m=this.Columns.find(n=>"HSN"==n.ID);if(3==m.ColumnDimension&&null!=this.dtMain[1].HSN){let n=m.dtComboData.filter(D=>D.Value==this.dtMain[1].HSN.toString());if(n.length>0&&"COM_CCCCDATA"==n[0].SysTableName.toString().toUpperCase())return u="Product.CCCCDATA."+n[0].SysColumnName.toString(),void(o.ActualColumn=this.Entities[u]+"."+p[0].SysColumnName.toString())}}if(u="Document.COM_DocCCData."+e,this.Entities.ContainsKey(u)||(this.Entities.push(u,"DCC_"+(o.ColumnDimension-5e4)),this.FromTag+="\r\ninner join "+e+" "+this.Entities[u]+" with(nolock) on "+this.Entities[u]+".NodeID=DCC.dcCCNID"+(o.ColumnDimension-5e4)),"COM_CCCCDATA"==s){let n=u+".CCCCDATA";this.Entities.ContainsKey(n)||(this.Entities.push(n,"CC_D"+o.ColumnDimension),this.FromTag+="\r\ninner join COM_CCCCData "+this.Entities[n]+" with(nolock) on "+this.Entities[n]+".CostCenterID="+o.ColumnDimension+" and "+this.Entities[n]+".NodeID="+this.Entities[u]+".NodeID");let D=parseInt(p[0].SysColumnName.toString().Replace("CCNID",""));e=this.GetTableName(5e4+D),u=n+"."+p[0].SysColumnName.toString(),this.Entities.ContainsKey(u)||(this.Entities.push(u,this.Entities[n]+"_"+p[0].SysColumnName.toString()),this.FromTag+="\r\ninner join "+e+" "+this.Entities[u]+" with(nolock) on "+this.Entities[u]+".NodeID="+this.Entities[n]+"."+p[0].SysColumnName.toString()),o.ActualColumn=this.Entities[u]+".Name"}else o.ActualColumn=this.Entities[u]+"."+p[0].SysColumnName.toString()}if(("b2b"==this.GSTType||"b2cl"==this.GSTType||"b2cs"==this.GSTType||"cdnr"==this.GSTType||"cdnur"==this.GSTType)&&"GSTTaxType"==o.ID&&(this.WhereTag+=" and "+o.ActualColumn+" NOT IN ('Exempted','Nil Rated','Non GST')"),"exemp"==this.GSTType||"GSTR2_exemp"==this.GSTType)if("NilRated"==o.ID){var r=this.Columns.find(e=>"Value"==e.ID);o.ActualColumn="case when "+o.ActualColumn+"='"+this.txtexempNill.Text+"' then "+r.ActualColumn+" else 0 end"}else"Exempted"==o.ID?(r=this.Columns.find(n=>"Value"==n.ID),o.ActualColumn="case when "+o.ActualColumn+"='"+this.txtexempExempted.Text+"' then "+r.ActualColumn+" else 0 end"):"NonGST"==o.ID?(r=this.Columns.find(n=>"Value"==n.ID),o.ActualColumn="case when "+o.ActualColumn+"='"+this.txtexempNonGST.Text+"' then "+r.ActualColumn+" else 0 end"):"RecipientGSTIN"==o.ID?o.ActualColumn="case when "+o.ActualColumn+"='' or "+o.ActualColumn+" is null then 0 else 1 end":"CompositTaxPer"==o.ID&&(r=this.Columns.find(n=>"Value"==n.ID),o.ActualColumn="case when "+o.ActualColumn+"='Composition' then "+r.ActualColumn+" else 0 end");else"GSTR2_impg"==this.GSTType&&"Documenttype"==o.ID?o.ActualColumn="case when "+o.ActualColumn+" like '%SEZ%' then 'Received from SEZ' else 'Imports' end":"GSTR3_GSTR3B_Outward"==this.GSTType&&"FLOAT"==o.DType&&this.IsCreditAccount&&(o.ActualColumn="-("+o.ActualColumn+")")}else o.ActualColumn="FLOAT"==o.DType?"0.0":"NULL"}GetTableName(o){let i;return i=50001==o?"COM_Division":50002==o?"COM_Location":50003==o?"COM_Branch":50004==o?"COM_Department":50005==o?"COM_Salesman":50006==o?"COM_Category":50007==o?"COM_Area":50008==o?"COM_Teritory":"COM_CC"+o,i}}class ${constructor(o){this.dtComboData=null,this.ReadOnly=!1,this.InUse=!0,this.IsVisible=!0,this.IsOptional=!1,this.IgnoreInQuery=!1,this.Width=0,this.ColumnDimension=0,this.ActualCol2="";let i=C.VB.SelectSingleNode(o,"DType");this.ID=o.attributes.ID.value,this.Caption=C.VB.SelectSingleNode(o,"Caption").innerHTML,this.DType=null!=i?i.innerHTML:"",this.ComboType=null!=o.attributes.Combo?o.attributes.Combo.value:"",this.ComboDefValue=null!=o.attributes.ComboDefValue?o.attributes.ComboDefValue.value:"",this.Width=null!=o.attributes.Width?parseInt(o.attributes.Width.value):160,this.Agg=null!=o.attributes.Agg?o.attributes.Agg.value:"MAX",this.ReadOnly=null!=o.attributes.IsReadOnly&&"1"==o.attributes.IsReadOnly.value,this.Sort=null!=o.attributes.Sort?o.attributes.Sort.value:"",this.InUse=!(null!=o.attributes.InUse&&"0"==o.attributes.InUse.value),this.IsVisible=!(null!=o.attributes.IsVisible&&"0"==o.attributes.IsVisible.value),this.IsOptional=null!=o.attributes.IsOptional&&"1"==o.attributes.IsOptional.value,this.Decimals=null!=o.attributes.Decimals?o.attributes.Decimals.value:null,this.CT=null!=o.attributes.CT?o.attributes.CT.value:"",this.IgnoreInQuery=null!=o.attributes.IgnoreInQuery&&"1"==o.attributes.IgnoreInQuery.value,this.IgnoreInQuery&&(this.ReadOnly=!0),this.dc=this.ID,this.dcValue=this.ID+"_Key",this.dgColumn=new v.O7,this.dgColumn.ID=this.ID,this.dgColumn.Header=this.Caption,this.dgColumn.DataType="PactComboBox",this.dgColumn.DisplayMember="Name",this.dgColumn.ValueMember="Value",this.dgColumn.ValueBinding=this.ID,this.dgColumn.FilterCondition="RowType={0}",this.dgColumn.FilterColumn="RowType",this.dgColumn.Width=this.Width,this.dgColumn.ReadOnly=this.ReadOnly,this.dgColumn.CurrID=this.InUse?1:0,this.dgColumn.IsVisible=this.IsVisible,this.InUse||(this.dgColumn.HeaderBackColor="#FFD0D0D0")}}var l=O(41360),_=O(13816),k=O(45319),Z=O(73955);function Mt(A,o){if(1&A&&(l.j41(0,"div",7),l.EFF(1,"\n                "),l.eu8(2,4),l.EFF(3,"\n            "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.dtToDate)("group",i.form)}}function Et(A,o){if(1&A&&(l.j41(0,"div",15),l.EFF(1,"\n                        "),l.eu8(2,4),l.EFF(3,"\n                    "),l.k0s()),2&A){const i=l.XpG().$implicit,a=l.XpG();l.R7$(2),l.Y8G("obj",a.obj.lstGridViewModel[i.Name])("group",a.form)}}function Vt(A,o){if(1&A){const i=l.RV6();l.qex(0),l.EFF(1,"\n                "),l.j41(2,"tab",13),l.bIt("selectTab",function(){const p=l.eBV(i).$implicit;return l.Njj(p.IsAccordionOpen=!0)}),l.EFF(3,"\n                    "),l.DNE(4,Et,4,2,"div",14),l.EFF(5,"\n                "),l.k0s(),l.EFF(6,"\n              "),l.bVm()}if(2&A){const i=o.$implicit,a=l.XpG();l.R7$(2),l.Y8G("heading",i.Header)("removable",!1),l.R7$(2),l.Y8G("ngIf",a.obj.lstGridViewModel[i.Name].Columns.length>0)}}let Wt=(()=>{class A extends Ot{constructor(){super(),this.form=new P.gE({})}ngOnInit(){this.params?.obj&&(this.obj=this.params?.obj),this.ViewModel=this.params?.obj,0!=this.obj.lstGridViewModel.length&&(this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),y.d.page.removeTab(this.obj)))}LoadData(){for(let i=0;i<this.obj.lstGridViewModel.keys.length;i++){let a=this.obj.lstGridViewModel.keys[i],p=new J;if(p.ReportBuilder_2(this.obj.dicReportID[a],a),this.obj.lstGSTReport.push(a,p),p.cmbReport_SelectionChanged(null,null),p.GetReportConfiguration(),p.DisplayMessage.length>0)return void(this.obj.DisplayMessage=a+" :: "+p.DisplayMessage);if(p.objReport.QUERY=p.GetQuery(!0),0==p.objReport.QUERY.length)return void(this.obj.DisplayMessage=a+" :: Select Documents")}}static{this.\u0275fac=function(a){return new(a||A)}}static{this.\u0275cmp=l.VBU({type:A,selectors:[["app-gstr2"]],standalone:!1,features:[l.Vt3],decls:41,vars:9,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"primary-btn-wicon",2,"width","80px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"selectTab","heading","removable"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(a,p){1&a&&(l.j41(0,"div",0),l.EFF(1,"\n    "),l.j41(2,"div",1),l.EFF(3,"\n        "),l.j41(4,"label",2),l.EFF(5,"GSTR-2"),l.k0s(),l.EFF(6,"\n        "),l.j41(7,"div",3),l.EFF(8,"\n            "),l.eu8(9,4),l.EFF(10,"\n        "),l.k0s(),l.EFF(11,"\n    "),l.k0s(),l.EFF(12,"\n    "),l.j41(13,"div",5),l.EFF(14,"\n        "),l.j41(15,"div",6),l.EFF(16,"\n            "),l.j41(17,"div",7),l.EFF(18,"\n                "),l.eu8(19,4),l.EFF(20,"\n            "),l.k0s(),l.EFF(21,"\n            "),l.DNE(22,Mt,4,2,"div",8),l.EFF(23,"\n            "),l.j41(24,"div",7),l.EFF(25,"\n                "),l.j41(26,"button",9),l.bIt("click",function(){return p.Button_Click("Submit")}),l.EFF(27),l.nI1(28,"translate"),l.k0s(),l.EFF(29,"\n            "),l.k0s(),l.EFF(30,"\n        "),l.k0s(),l.EFF(31,"\n        \n        "),l.j41(32,"div",10),l.EFF(33,"\n            "),l.j41(34,"tabset",11),l.EFF(35,"\n               "),l.DNE(36,Vt,7,3,"ng-container",12),l.EFF(37,"\n            "),l.k0s(),l.EFF(38,"\n        "),l.k0s(),l.EFF(39,"\n    "),l.k0s(),l.EFF(40,"\n"),l.k0s()),2&a&&(l.R7$(9),l.Y8G("obj",p.chkToDate)("group",p.form),l.R7$(10),l.Y8G("obj",p.dtReturnDate)("group",p.form),l.R7$(3),l.Y8G("ngIf",p.dtToDate.Visible),l.R7$(5),l.JRh(l.bMT(28,7,"Submit")),l.R7$(9),l.Y8G("ngForOf",p.obj.Tab.Tabs))},dependencies:[x.Sq,x.bT,_.V6,_.fw,k._,Z.D9],encapsulation:2})}}return A})();var Ft=O(2578);class Q{get gspappid(){return""}get gspappsecret(){return""}OnMessageCallBack(){this.res="Yes"}constructor(o){this.DisplayMessage="",this.Success="",this.lst=o}UploadStatusGSTR1(o){let i=JSON.parse(o);if(null!=this.lst&&this.lst.length>0)for(let a=0;a<this.lst.length;a++){let p={Key:this.lst.keys[a],Value:this.lst.values[a]};if(!p.Value.TableColumns.Contains("UploadStatus")){p.Value.TableColumns.push("UploadStatus");let u=new Array,s=new v.O7;s.Header="Upload Status",s.DisplayMember="UploadStatus",s.Width=240,s.ReadOnly=!0,u.push(s),p.Value.Columns.forEach(t=>{u.push(t)}),p.Value.Columns=u}if("b2b"==p.Key)if(null!=i.error_report&&null!=i.error_report.b2b&&i.error_report.b2b.length>0)for(let u=0;u<i.error_report.b2b.length;u++)p.Value.Table.filter(t=>t.RecipientGSTIN==i.error_report.b2b[u].ctin).forEach(t=>{t.UploadStatus=i.error_report.b2b[u].error_msg});else p.Value.Table.forEach(u=>{u.UploadStatus="Sucess"});else if("b2cl"==p.Key)if(null!=i.error_report&&null!=i.error_report.b2cl&&i.error_report.b2cl.length>0)for(let u=0;u<i.error_report.b2cl.length;u++)p.Value.Table.filter(t=>t.PoS==i.error_report.b2cl[u].pos).forEach(t=>{t.UploadStatus=i.error_report.b2cl[u].error_msg});else p.Value.Table.forEach(u=>{u.UploadStatus="Sucess"});else if("b2cs"==p.Key)if(null!=i.error_report&&null!=i.error_report.b2cs&&i.error_report.b2cs.length>0)for(let u=0;u<i.error_report.b2cs.length;u++)p.Value.Table.forEach(s=>{s.UploadStatus=i.error_report.b2cs[u].error_msg});else p.Value.Table.forEach(u=>{u.UploadStatus="Sucess"});else if("cdnr"==p.Key)if(null!=i.error_report&&null!=i.error_report.cdnr&&i.error_report.cdnr.length>0)for(let u=0;u<i.error_report.cdnr.length;u++)p.Value.Table.filter(t=>t.RecipientGSTIN==i.error_report.cdnr[u].ctin).forEach(t=>{t.UploadStatus=i.error_report.cdnr[u].error_msg});else p.Value.Table.forEach(u=>{u.UploadStatus="Sucess"});else if("cdnur"==p.Key)if(null!=i.error_report&&null!=i.error_report.cdnur&&i.error_report.cdnur.length>0)for(let u=0;u<i.error_report.cdnur.length;u++)p.Value.Table.filter(t=>t.URType==i.error_report.cdnur[u].typ).forEach(t=>{t.UploadStatus=i.error_report.cdnur[u].error_msg});else p.Value.Table.forEach(u=>{u.UploadStatus="Sucess"});else if("exp"==p.Key)if(null!=i.error_report&&null!=i.error_report.exp&&i.error_report.exp.length>0)for(let u=0;u<i.error_report.exp.length;u++)p.Value.Table.filter(t=>t.ExportType==i.error_report.exp[u].exp_typ).forEach(t=>{t.UploadStatus=i.error_report.exp[u].error_msg});else p.Value.Table.forEach(u=>{u.UploadStatus="Sucess"});else if("at"==p.Key)if(null!=i.error_report&&null!=i.error_report.at&&i.error_report.at.length>0)for(let u=0;u<i.error_report.at.length;u++)p.Value.Table.filter(t=>t.PoS==i.error_report.at[u].pos).forEach(t=>{t.UploadStatus=i.error_report.at[u].error_msg});else p.Value.Table.forEach(u=>{u.UploadStatus="Sucess"});else if("atadj"==p.Key)if(null!=i.error_report&&null!=i.error_report.txpd&&i.error_report.txpd.length>0)for(let u=0;u<i.error_report.txpd.length;u++)p.Value.Table.filter(t=>t.PoS==i.error_report.txpd[u].pos).forEach(t=>{t.UploadStatus=i.error_report.txpd[u].error_msg});else p.Value.Table.forEach(u=>{u.UploadStatus="Sucess"});else"exemp"==p.Key?p.Value.Table.forEach(null!=i.error_report&&null!=i.error_report.nil?u=>{u.UploadStatus=i.error_report.nil.error_msg}:u=>{u.UploadStatus="Sucess"}):"hsn"==p.Key?p.Value.Table.forEach(null!=i.error_report&&null!=i.error_report.hsnsum?u=>{u.UploadStatus=i.error_report.hsnsum.error_msg}:u=>{u.UploadStatus="Sucess"}):"docs"==p.Key&&p.Value.Table.forEach(null!=i.error_report&&null!=i.error_report.doc_issue?u=>{u.UploadStatus=i.error_report.doc_issue.error_msg}:u=>{u.UploadStatus="Sucess"})}}UploadingGSTR(o,i,a,p,u){if(5==o.length&&(o="0"+o),!confirm("Are you sure to Upload to GST Portal\n"+i+":"+o))return"";let m,s=C.J0.NewGuid().Replace("-",""),t="";return"GSTR1"==i?t=JSON.stringify(this.GSTR1Obj(p,o)):"GSTR3B"==i?t=JSON.stringify(this.GSTR3BObj(p,o)):"ANX1"==i&&(t=JSON.stringify(this.ANX1Obj(p,o))),Logger.DebugLog("Upload : RETSAVE :Request PayLoad: "+t),m="ANX1"==i?y.d.report.GST_POSTData(i,a,"SAVEANX1",p,o,u,s,t):y.d.report.GST_PUTData(i,a,"RETSAVE",p,o,u,s,t),m&&m.then(r=>{if(Logger.DebugLog("Upload : RETSAVE :Response PayLoad: "+r),null!=r&&r.startsWith("{")){let e=JSON.parse(r);null!=e&&(this.DisplayMessage=e.message,this.Success=e.success)}if("true"==this.Success&&(r=y.d.report.GST_GetData("",a,"RETSTATUS",p,o,u,s),Logger.DebugLog("Upload : RETSTATUS :Response PayLoad: "+r),null!=r&&r.startsWith("{"))){let e=JSON.parse(r);null!=e&&"P"!=e.status_cd&&null!=e.error_report&&null!=e.error_report.error_msg?this.DisplayMessage=e.error_report.error_msg:"GSTR1"==i&&this.UploadStatusGSTR1(r)}}),this.DisplayMessage}SubmitingGSTR(o,i,a,p,u,s){if(5==o.length&&(o="0"+o),!confirm("Are you sure to Submit to GST Portal\n"+i+":"+o))return"";let t=C.J0.NewGuid().Replace("-",""),m="";if("RETSUBMIT"==s){let r=new xt;r.gstin=p,r.ret_period=o,m=JSON.stringify(r)}return y.d.report.GST_POSTData(i,a,s,p,o,u,t,m),this.DisplayMessage}GenerateJSON(o,i,a){5==o.length&&(o="0"+o);let p="";if("GSTR1"==i?p=JSON.stringify(this.GSTR1Obj(a,o)):"GSTR3B"==i?p=JSON.stringify(this.GSTR3BObj(a,o)):"ANX1"==i&&(p=JSON.stringify(this.ANX1Obj(a,o))),p){const u=new Blob([p],{type:"text/plain;charser=utf-8"});Ft.saveAs(u,i+o+a+".json")}else this.DisplayMessage="Error while creating json file";return this.DisplayMessage}RetriveData(o,i,a,p,u,s,t){5==i.length&&(i="0"+i);let m=C.J0.NewGuid().Replace("-","");return y.d.report.GST_GetData(a,u,p,s,i,t,m).then(r=>{if(Logger.DebugLog("RetriveData :"+a+":"+p+": Response PayLoad: "+r),"GSTR2A"==a)if("B2B"==p||"B2BA"==p){let e=JSON.parse(r);if("B2BA"==p&&(e.b2b=e.b2ba),null!=e&&null!=e.b2b&&e.b2b.length>0)for(let n=0;n<e.b2b.length;n++)if(null!=e.b2b[n].inv&&e.b2b[n].inv.length>0)for(let D=0;D<e.b2b[n].inv.length;D++)if(null!=e.b2b[n].inv[D].itms&&e.b2b[n].inv[D].itms.length>0)for(let T=0;T<e.b2b[n].inv[D].itms.length;T++){let h={};"B2BA"==p&&(h.oinum=e.b2b[n].inv[D].oinum,h.oidt=e.b2b[n].inv[D].oidt),h.chksum=e.b2b[n].inv[D].chksum,h.ctin=e.b2b[n].ctin,h.inum=e.b2b[n].inv[D].inum,h.inv_typ=e.b2b[n].inv[D].inv_typ,h.idt=e.b2b[n].inv[D].idt,h.val=e.b2b[n].inv[D].val,h.pos=e.b2b[n].inv[D].pos,h.rchrg=e.b2b[n].inv[D].rchrg,null!=e.b2b[n].inv[D].diff_percent&&(h.diff_percent=e.b2b[n].inv[D].diff_percent),h.rt=e.b2b[n].inv[D].itms[T].itm_det.rt,h.txval=e.b2b[n].inv[D].itms[T].itm_det.txval,h.iamt=e.b2b[n].inv[D].itms[T].itm_det.iamt,h.camt=e.b2b[n].inv[D].itms[T].itm_det.camt,h.samt=e.b2b[n].inv[D].itms[T].itm_det.samt,h.csamt=e.b2b[n].inv[D].itms[T].itm_det.csamt,h.cfs=e.b2b[n].cfs,h.fldtr1=e.b2b[n].fldtr1,h.flprdr1=e.b2b[n].flprdr1,h.cfs3b=e.b2b[n].cfs3b,h.atyp=e.b2b[n].inv[D].atyp,h.aspd=e.b2b[n].inv[D].aspd,h.dtcancel=e.b2b[n].dtcancel,"B2B"==p&&(h.srctyp=e.b2b[n].inv[D].srctyp,h.irn=e.b2b[n].inv[D].irn,h.irngendate=e.b2b[n].inv[D].irngendate),o.push(h)}}else if("CDN"==p||"CDNA"==p){let e=JSON.parse(r);if(null!=e&&null==e.cdn&&null!=e.cdna&&(e.cdn=e.cdna),null!=e&&null!=e.cdn&&e.cdn.length>0)for(let n=0;n<e.cdn.length;n++)if(null!=e.cdn[n].nt&&e.cdn[n].nt.length>0)for(let D=0;D<e.cdn[n].nt.length;D++)if(null!=e.cdn[n].nt[D].itms&&e.cdn[n].nt[D].itms.length>0)for(let T=0;T<e.cdn[n].nt[D].itms.length;T++){let h={};"CDNA"==p&&(h.ontty=e.cdn[n].nt[D].ntty,h.ont_num=e.cdn[n].nt[D].ont_num,h.ont_dt=e.cdn[n].nt[D].ont_dt),h.chksum=e.cdn[n].nt[D].chksum,h.ctin=e.cdn[n].ctin,h.ntty=e.cdn[n].nt[D].ntty,h.nt_num=e.cdn[n].nt[D].nt_num,h.inv_typ=e.cdn[n].nt[D].inv_typ,h.nt_dt=e.cdn[n].nt[D].nt_dt,h.p_gst=e.cdn[n].nt[D].p_gst,h.d_flag=e.cdn[n].nt[D].d_flag,h.inum=e.cdn[n].nt[D].inum,h.idt=e.cdn[n].nt[D].idt,h.val=e.cdn[n].nt[D].val,h.pos=e.cdn[n].nt[D].pos,h.rchrg=e.cdn[n].nt[D].rchrg,null!=e.cdn[n].nt[D].diff_percent&&(h.diff_percent=e.cdn[n].nt[D].diff_percent),h.rt=e.cdn[n].nt[D].itms[T].itm_det.rt,h.txval=e.cdn[n].nt[D].itms[T].itm_det.txval,h.iamt=e.cdn[n].nt[D].itms[T].itm_det.iamt,h.camt=e.cdn[n].nt[D].itms[T].itm_det.camt,h.samt=e.cdn[n].nt[D].itms[T].itm_det.samt,h.csamt=e.cdn[n].nt[D].itms[T].itm_det.csamt,h.cfs=e.cdn[n].cfs,h.fldtr1=e.cdn[n].fldtr1,h.flprdr1=e.cdn[n].flprdr1,h.cfs3b=e.cdn[n].cfs3b,h.aspd=e.cdn[n].nt[D].aspd,h.atyp=e.cdn[n].nt[D].atyp,h.dtcancel=e.cdn[n].dtcancel,"CDN"==p&&(h.srctyp=e.cdn[n].nt[D].srctyp,h.irn=e.cdn[n].nt[D].irn,h.irngendate=e.cdn[n].nt[D].irngendate,h.cflag=e.cdn[n].nt[D].cflag,h.updby=e.cdn[n].nt[D].updby),o.push(h)}}else if("ISD"==p||"ISDA"==p){let e=JSON.parse(r);if(null!=e&&null==e.isd&&null!=e.isda&&(e.isd=e.isda),null!=e&&null!=e.isd&&e.isd.length>0)for(let n=0;n<e.isd.length;n++)if(null!=e.isd[n].doclist&&e.isd[n].doclist.length>0)for(let D=0;D<e.isd[n].doclist.length;D++){let T={};"ISDA"==p&&(T.oisd_docty=e.isd[n].doclist[D].isd_docty,T.odocnum=e.isd[n].doclist[D].odocnum,T.odocdt=e.isd[n].doclist[D].odocdt),T.itc_elg=e.isd[n].doclist[D].itc_elg,T.chksum=e.isd[n].doclist[D].chksum,T.ctin=e.isd[n].ctin,T.isd_docty=e.isd[n].doclist[D].isd_docty,T.docnum=e.isd[n].doclist[D].docnum,T.docdt=e.isd[n].doclist[D].docdt,T.iamt=e.isd[n].doclist[D].iamt,T.camt=e.isd[n].doclist[D].camt,T.samt=e.isd[n].doclist[D].samt,T.cess=e.isd[n].doclist[D].cess,T.cfs=e.isd[n].cfs,T.aspd=e.isd[n].doclist[D].aspd,T.atyp=e.isd[n].doclist[D].atyp,o.push(T)}}else if("TDS"==p||"TDSA"==p){let e=JSON.parse(r);if(null!=e&&null==e.tds&&null!=e.tdsa&&(e.tds=e.tdsa),null!=e.tds&&e.tds.length>0)for(let n=0;n<e.tds.length;n++){let D={};"TDSA"==p&&(D.ogstin_ded=e.tds[n].ogstin_ded,D.omonth=e.tds[n].omonth,D.oamt_ded=e.tds[n].oamt_ded),D.gstin_ded=e.tds[n].gstin_ded,D.amt_ded=e.tds[n].amt_ded,D.iamt=e.tds[n].iamt,D.camt=e.tds[n].camt,D.samt=e.tds[n].samt,o.push(D)}}else if("TCS"==p){let e=JSON.parse(r);if(null!=e&&null!=e.tcs_data&&e.tcs_data.length>0)for(let n=0;n<e.tcs_data.length;n++){let D={};D.chksum=e.tcs_data[n].chksum,D.eitn=e.tcs_data[n].eitn,D.sup_val=e.tcs_data[n].sup_val,D.tx_val=e.tcs_data[n].tx_val,D.iamt=e.tcs_data[n].iamt,D.camt=e.tcs_data[n].camt,D.samt=e.tcs_data[n].samt,D.csamt=e.tcs_data[n].csamt,o.push(D)}}else if("IMPG"==p||"IMPGSEZ"==p){let e=JSON.parse(r);if(null!=e&&null==e.impg&&null!=e.impgsez&&(e.impg=e.impgsez),null!=e&&null!=e.impg&&e.impg.length>0)for(let n=0;n<e.impg.length;n++){let D={};"IMPGSEZ"==p&&(D.sgstin=e.impg[n].sgstin,D.tdname=e.impg[n].tdname),D.refdt=e.impg[n].refdt,D.portcd=e.impg[n].portcd,D.benum=e.impg[n].benum,D.bedt=e.impg[n].bedt,D.txval=e.impg[n].txval,D.iamt=e.impg[n].iamt,D.csamt=e.impg[n].csamt,D.amd=e.impg[n].amd,o.push(D)}}return o})}GSTR1Obj(o,i){if(null!=this.lst&&this.lst.length>0){let a=new mt;a.gstin=o,a.fp=i,a.hash="hash",y.d.SessionManager.config.GSTVersion&&(a.version=y.d.SessionManager.config.GSTVersion);let p=0;for(let u=0;u<this.lst.length;u++){let s={Key:this.lst.keys[u],Value:this.lst.values[u]},t=s.Value.Table;if(null!=t&&t.length>0)if("b2b"==s.Key){let m=t.ToTable(!0,["RecipientGSTIN"]);a.b2b=new Array;for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].RecipientGSTIN))continue;let e=new z;e.ctin=m[r].RecipientGSTIN.toString().TrimEnd(" ");let n=t.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","ReverseCharge","InvType","ApplicableTaxRate","ECommGSTIN"]).filter(D=>D.RecipientGSTIN==m[r].RecipientGSTIN.toString().TrimEnd(" "));for(let D=0;D<n.length;D++){let T=new q;C.J0.IsNum(n[D].InvValue)&&(T.val=C.J0.Round(C.J0.Double(n[D].InvValue),2)),T.pos=C.J0.String(n[D].PoS).Trim().substr(0,2),T.idt=C.J0.ParseDate(n[D].DocDate).ToString("dd-MM-yyyy"),T.rchrg=""==C.J0.String(n[D].ReverseCharge)?"N":C.J0.String(n[D].ReverseCharge),T.inum=C.J0.String(n[D].VoucherNo).TrimEnd(" "),T.inv_typ="custombondedwarehouse"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"DE":"R",p=C.J0.Double(n[D].ApplicableTaxRate),C.J0.IsNum(n[D].ApplicableTaxRate)&&0!=p&&(T.diff_percent=C.J0.Round(p,2)),C.J0.IsNullOrWhiteSpace(n[D].ECommGSTIN)||(T.etin=n[D].ECommGSTIN.toString().TrimEnd(" "));let h=t.filter(d=>d.VoucherNo==C.J0.String(n[D].VoucherNo).TrimEnd(" "));for(let d=0;d<h.length;d++){let I=new X;I.num=d+1;let c=new G;C.J0.IsNum(h[d].Rate)&&(c.rt=parseInt(h[d].Rate),I.num=100*c.rt+(d+1)),C.J0.IsNum(h[d].TaxableValue)&&(c.txval=C.J0.Round(C.J0.Double(h[d].TaxableValue),2)),p=c.txval/100*c.rt,T.pos==o.substr(0,2)?(c.camt=C.J0.Round(p/2,2),c.samt=C.J0.Round(p/2,2)):c.iamt=C.J0.Round(p,2),C.J0.IsNum(h[d].CessAmt)&&(c.csamt=C.J0.Round(C.J0.Double(h[d].CessAmt),2)),I.itm_det=c,T.itms.push(I)}e.inv.push(T)}a.b2b.push(e)}}else if("b2cl"==s.Key){let m=t.ToTable(!0,["PoS"]);a.b2cl=new Array;for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].PoS))continue;let e=new tt;e.pos=m[r].PoS.toString().Trim().substr(0,2);let n=t.ToTable(!0,["PoS","VoucherNo","DocDate","InvValue","ApplicableTaxRate","ECommGSTIN"]).filter(D=>D.PoS==m[r].PoS.toString().Trim());for(let D=0;D<n.length;D++){let T=new dt;T.val=parseFloat(n[D].InvValue),T.idt=C.J0.ParseDate(n[D].DocDate).ToString("dd-MM-yyyy"),T.inum=C.J0.String(n[D].VoucherNo).TrimEnd(" "),C.J0.IsNullOrWhiteSpace(n[D].InvType)||(T.inv_typ="custombondedwarehouse"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"DE":"R"),p=C.J0.Double(n[D].ApplicableTaxRate),C.J0.IsNum(n[D].ApplicableTaxRate)&&0!=p&&(T.diff_percent=C.J0.Round(p,2)),C.J0.IsNullOrWhiteSpace(n[D].ECommGSTIN)||(T.etin=n[D].ECommGSTIN.toString().TrimEnd(" "));let h=t.filter(d=>d.VoucherNo==C.J0.String(n[D].VoucherNo).TrimEnd(" "));for(let d=0;d<h.length;d++){let I=new X;I.num=d+1;let c=new G;C.J0.IsNum(h[d].Rate)&&(c.rt=parseInt(h[d].Rate),I.num=100*c.rt+(d+1)),C.J0.IsNum(h[d].TaxableValue)&&(c.txval=C.J0.Round(C.J0.Double(h[d].TaxableValue),2)),p=c.txval/100*c.rt,e.pos==o.substr(0,2)?(c.camt=C.J0.Round(p/2,2),c.samt=C.J0.Round(p/2,2)):c.iamt=C.J0.Round(p,2),C.J0.IsNum(h[d].CessAmt)&&(c.csamt=C.J0.Round(C.J0.Double(h[d].CessAmt),2)),I.itm_det=c,T.itms.push(I)}e.inv.push(T)}a.b2cl.push(e)}}else if("b2cs"==s.Key){a.b2cs=new Array;for(let m=0;m<t.length;m++){if(C.J0.IsNullOrWhiteSpace(t[m].Type))continue;let r=new et;r.sply_ty=C.J0.String(t[m].PoS).Trim().substr(0,2)==o.substr(0,2)?"INTRA":"INTER",r.typ=t[m].Type.toString().TrimEnd(" "),r.pos=C.J0.String(t[m].PoS).Trim().substr(0,2),C.J0.IsNum(t[m].Rate)&&(r.rt=parseInt(t[m].Rate)),C.J0.IsNum(t[m].TaxableValue)&&(r.txval=C.J0.Round(C.J0.Double(t[m].TaxableValue),2)),p=C.J0.Double(t[m].ApplicableTaxRate),C.J0.IsNum(t[m].ApplicableTaxRate)&&0!=p&&(r.diff_percent=C.J0.Round(C.J0.Double(t[m].ApplicableTaxRate),2)),C.J0.IsNullOrWhiteSpace(t[m].ECommGSTIN)||(r.etin=t[m].ECommGSTIN.toString()),p=r.txval/100*r.rt,r.pos==o.substr(0,2)?(r.camt=C.J0.Round(p/2,2),r.samt=C.J0.Round(p/2,2)):r.iamt=C.J0.Round(p,2),C.J0.IsNum(t[m].CessAmt)&&(r.csamt=C.J0.Round(C.J0.Double(t[m].CessAmt),2)),a.b2cs.push(r)}}else if("cdnr"==s.Key){let m=t.ToTable(!0,["RecipientGSTIN"]);a.cdnr=new Array;for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].RecipientGSTIN))continue;let e=new ot;e.ctin=m[r].RecipientGSTIN.toString().TrimEnd(" ");let n=t.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","DocumentType","InvType","ReverseCharge","ApplicableTaxRate"]).filter(D=>D.RecipientGSTIN&&D.RecipientGSTIN==m[r].RecipientGSTIN.toString().TrimEnd(" ")&&""!=D.RecipientGSTIN);for(let D=0;D<n.length;D++){let T=new at;T.ntty=C.J0.String(n[D].DocumentType).TrimEnd(" "),T.nt_num=C.J0.String(n[D].VoucherNo).TrimEnd(" "),T.pos=C.J0.String(n[D].PoS).Trim().substr(0,2),T.nt_dt=C.J0.ParseDate(n[D].DocDate).ToString("dd-MM-yyyy"),T.rchrg=""==C.J0.String(n[D].ReverseCharge)?"N":C.J0.String(n[D].ReverseCharge),T.inv_typ="custombondedwarehouse"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"DE":"R",C.J0.IsNum(n[D].InvValue)&&(T.val=C.J0.Round(C.J0.Double(n[D].InvValue),2)),p=C.J0.Double(n[D].ApplicableTaxRate),C.J0.IsNum(n[D].ApplicableTaxRate)&&0!=p&&(T.diff_percent=C.J0.Round(p,2)),C.J0.IsNullOrWhiteSpace(n[D].ECommGSTIN)||(T.etin=n[D].ECommGSTIN.toString().TrimEnd(" "));let h=t.filter(d=>d.VoucherNo==C.J0.String(n[D].VoucherNo).TrimEnd(" "));for(let d=0;d<h.length;d++){let I=new X;I.num=d+1;let c=new G;C.J0.IsNum(h[d].Rate)&&(c.rt=parseInt(h[d].Rate),I.num=100*c.rt+(d+1)),C.J0.IsNum(h[d].TaxableValue)&&(c.txval=C.J0.Round(C.J0.Double(h[d].TaxableValue),2)),p=c.txval/100*c.rt,C.J0.String(n[D].PoS).Trim().substr(0,2)==o.substr(0,2)?(c.camt=C.J0.Round(p/2,2),c.samt=C.J0.Round(p/2,2)):c.iamt=C.J0.Round(p,2),C.J0.IsNum(h[d].CessAmt)&&(c.csamt=C.J0.Round(C.J0.Double(h[d].CessAmt),2)),I.itm_det=c,T.itms.push(I)}e.nt.push(T)}a.cdnr.push(e)}}else if("cdnur"==s.Key){let m=t.ToTable(!0,["URType","VoucherNo","DocDate","InvValue","PoS","DocumentType","ApplicableTaxRate"]);a.cdnur=new Array;for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].URType))continue;let e=new it;e.typ=m[r].URType.toString().TrimEnd(" "),e.ntty=C.J0.String(m[r].DocumentType).TrimEnd(" "),e.nt_num=C.J0.String(m[r].VoucherNo).TrimEnd(" "),e.nt_dt=C.J0.ParseDate(m[r].DocDate).ToString("dd-MM-yyyy"),C.J0.IsNum(m[r].InvValue)&&(e.val=C.J0.Round(C.J0.Double(m[r].InvValue),2)),p=C.J0.Double(m[r].ApplicableTaxRate),C.J0.IsNum(m[r].ApplicableTaxRate)&&0!=p&&(e.diff_percent=C.J0.Round(p,2));let n=t.filter(D=>D.VoucherNo==C.J0.String(m[r].VoucherNo).TrimEnd(" "));for(let D=0;D<n.length;D++){let T=new X;T.num=D+1;let h=new G;C.J0.IsNum(n[D].Rate)&&(h.rt=parseInt(n[D].Rate),T.num=100*h.rt+(D+1)),C.J0.IsNum(n[D].TaxableValue)&&(h.txval=C.J0.Round(C.J0.Double(n[D].TaxableValue),2)),p=h.txval/100*h.rt,C.J0.String(m[r].PoS).Trim().substr(0,2)==o.substr(0,2)?(h.camt=C.J0.Round(p/2,2),h.samt=C.J0.Round(p/2,2)):h.iamt=C.J0.Round(p,2),C.J0.IsNum(n[D].CessAmt)&&(h.csamt=C.J0.Round(C.J0.Double(n[D].CessAmt),2)),T.itm_det=h,e.itms.push(T)}a.cdnur.push(e)}}else if("exp"==s.Key){let m=t.ToTable(!0,["ExportType"]);a.exp=new Array;for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].ExportType))continue;let e=new nt;e.exp_typ=m[r].ExportType.toString().TrimEnd(" ");let n=t.filter(D=>D.ExportType==m[r].ExportType.toString().TrimEnd(" "));for(let D=0;D<n.length;D++){let T=new It;C.J0.IsNum(n[D].InvValue)&&(T.val=C.J0.Round(C.J0.Double(n[D].InvValue),2)),T.idt=C.J0.ParseDate(n[D].DocDate).ToString("dd-MM-yyyy"),T.inum=C.J0.String(n[D].VoucherNo).TrimEnd(" "),C.J0.IsNullOrWhiteSpace(n[D].PortCode)||(T.sbpcode=n[D].PortCode.toString().TrimEnd(" ")),C.J0.IsNullOrWhiteSpace(n[D].ShipBillNo)||(T.sbnum=n[D].ShipBillNo.toString().TrimEnd(" ")),C.J0.IsNullOrWhiteSpace(n[D].ShipBillDate)||(T.sbdt=C.J0.ParseDate(n[D].ShipBillDate).ToString("dd-MM-yyyy"));let h=t.filter(d=>d.VoucherNo==C.J0.String(n[D].VoucherNo).TrimEnd(" "));for(let d=0;d<h.length;d++){let I=new G;C.J0.IsNum(h[d].Rate)&&(I.rt=parseInt(h[d].Rate)),C.J0.IsNum(h[d].TaxableValue)&&(I.txval=C.J0.Round(C.J0.Double(h[d].TaxableValue),2)),p=I.txval/100*I.rt,I.iamt=C.J0.Round(p,2),C.J0.IsNum(h[d].CessAmt)&&(I.csamt=C.J0.Round(C.J0.Double(h[d].CessAmt),2)),T.itms.push(I)}e.inv.push(T)}a.exp.push(e)}}else if("at"==s.Key||"atadj"==s.Key){let m=t.ToTable(!0,["PoS","ApplicableTaxRate"]);"at"==s.Key?a.at=new Array:"atadj"==s.Key&&(a.txpd=new Array);for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].PoS))continue;let e=new lt;e.pos=m[r].PoS.toString().Trim().substr(0,2),e.sply_ty=m[r].PoS.toString().Trim().substr(0,2)==o.substr(0,2)?"INTRA":"INTER",p=C.J0.Double(m[r].ApplicableTaxRate),C.J0.IsNum(m[r].ApplicableTaxRate)&&0!=p&&(e.diff_percent=C.J0.Round(p,2));let n=t.filter(D=>D.PoS==m[r].PoS.toString().Trim());for(let D=0;D<n.length;D++){let T=new ht;C.J0.IsNum(n[D].Rate)&&(T.rt=parseInt(n[D].Rate)),"at"==s.Key&&C.J0.IsNum(n[D].AdvReceived)?T.ad_amt=C.J0.Round(C.J0.Double(n[D].AdvReceived),2):"atadj"==s.Key&&C.J0.IsNum(n[D].AdvAdjusted)&&(T.ad_amt=C.J0.Round(C.J0.Double(n[D].AdvAdjusted),2)),p=T.ad_amt/100*T.rt,e.pos==o.substr(0,2)?(T.camt=C.J0.Round(p/2,2),T.samt=C.J0.Round(p/2,2)):T.iamt=C.J0.Round(p,2),C.J0.IsNum(n[D].CessAmt)&&(T.csamt=C.J0.Round(C.J0.Double(n[D].CessAmt),2)),e.itms.push(T)}"at"==s.Key?a.at.push(e):"atadj"==s.Key&&a.txpd.push(e)}}else if("exemp"==s.Key){let m=new Ct;for(let r=0;r<t.length;r++){if(C.J0.IsNullOrWhiteSpace(t[r].Description))continue;let e=new ct;"interstatesuppliestoregisteredpersons"==C.J0.String(t[r].Description).Replace(" ","").Replace("-","").toLowerCase()?e.sply_ty="INTRB2B":"interstatesuppliestounregisteredpersons"==C.J0.String(t[r].Description).Replace(" ","").Replace("-","").toLowerCase()?e.sply_ty="INTRB2C":"intrastatesuppliestoregisteredpersons"==C.J0.String(t[r].Description).Replace(" ","").Replace("-","").toLowerCase()?e.sply_ty="INTRAB2B":"intrastatesuppliestounregisteredpersons"==C.J0.String(t[r].Description).Replace(" ","").Replace("-","").toLowerCase()&&(e.sply_ty="INTRAB2C"),C.J0.IsNum(t[r].Exempted)&&(e.expt_amt=C.J0.Round(C.J0.Double(t[r].Exempted),2)),C.J0.IsNum(t[r].NilRated)&&(e.nil_amt=C.J0.Round(C.J0.Double(t[r].NilRated),2)),C.J0.IsNum(t[r].NonGST)&&(e.ngsup_amt=C.J0.Round(C.J0.Double(t[r].NonGST),2)),m.inv.push(e)}a.nil=m}else if("hsn"==s.Key){let m=new st;for(let r=0;r<t.length;r++){if(C.J0.IsNullOrWhiteSpace(t[r].HSN))continue;let e=new At;e.num=r+1,e.hsn_sc=C.J0.String(t[r].HSN).TrimEnd(" "),e.uqc=C.J0.StringIsNullOrEmpty(t[r].PRType)||"services"!=t[r].PRType.toString().TrimEnd(" ").toLowerCase()?t[r].UQC.toString().Replace(" ","").substr(0,3).toUpperCase():"NA","NA"==e.uqc?e.qty=0:C.J0.IsNum(t[r].TotalQty)&&(e.qty=C.J0.Round(C.J0.Double(t[r].TotalQty),2)),C.J0.IsNum(t[r].Rate)&&(e.rt=parseInt(t[r].Rate)),C.J0.IsNum(t[r].TaxableValue)&&(e.txval=C.J0.Round(C.J0.Double(t[r].TaxableValue),2)),!C.J0.IsNullOrWhiteSpace(t[r].Description)&&t[r].Description.toString().TrimEnd(" ").length<32&&(e.desc=t[r].Description.toString().TrimEnd(" ")),C.J0.IsNum(t[r].IntTaxAmt)&&(e.iamt=C.J0.Round(C.J0.Double(t[r].IntTaxAmt),2)),C.J0.IsNum(t[r].CTaxAmt)&&(e.camt=C.J0.Round(C.J0.Double(t[r].CTaxAmt),2)),C.J0.IsNum(t[r].STaxAmt)&&(e.samt=C.J0.Round(C.J0.Double(t[r].STaxAmt),2)),C.J0.IsNum(t[r].CessAmt)&&(e.csamt=C.J0.Round(C.J0.Double(t[r].CessAmt),2)),m.data.push(e)}a.hsn=m}else if("docs"==s.Key&&t.filter(m=>""!=m.NatureofDocument).length>0){let r=t.filter(n=>""!=n.NatureofDocument).ToTable(!0,["NatureofDocument"]),e=new pt;for(let n=0;n<r.length;n++){let D=new yt;D.doc_num=n+1,C.J0.IsNullOrWhiteSpace(r[n].NatureofDocument)||(D.doc_typ=r[n].NatureofDocument.toString().TrimEnd(" "));let T=t.filter(h=>h.NatureofDocument==r[n].NatureofDocument.toString().TrimEnd(" "));for(let h=0;h<T.length;h++){let d=new bt;d.num=h+1,d.from=C.J0.String(T[h].SrNoFrom).TrimEnd(" "),d.to=C.J0.String(T[h].SrNoTo).TrimEnd(" "),d.totnum=parseInt(T[h].TotalNumber),d.cancel=parseInt(T[h].Cancelled),d.net_issue=d.totnum-d.cancel,D.docs.push(d)}e.doc_det.push(D)}a.doc_issue=e}}return a}return null}GSTR3BObj(o,i){if(null!=this.lst&&this.lst.length>0){let a=new Ut;a.gstin=o,a.ret_period=i;for(let u=0;u<this.lst.length;u++){let s={Key:this.lst.keys[u],Value:this.lst.values[u]},t=s.Value.Table;if(null!=t&&t.length>0)if("GSTR3_GSTR3B_Outward"==s.Key){let m=new vt;for(let r=0;r<t.length;r++)if(null!=t[r].Description&&(t[r].Description.toString().Contains("(a)")||t[r].Description.toString().Contains("(d)"))){let e=new Gt;C.J0.IsNum(t[r].TaxableValue)&&(e.txval=C.J0.Round(C.J0.Double(t[r].TaxableValue),2)),C.J0.IsNum(t[r].CTaxAmt)&&(e.camt=C.J0.Round(C.J0.Double(t[r].CTaxAmt),2)),C.J0.IsNum(t[r].STaxAmt)&&(e.samt=C.J0.Round(C.J0.Double(t[r].STaxAmt),2)),C.J0.IsNum(t[r].IntTaxAmt)&&(e.iamt=C.J0.Round(C.J0.Double(t[r].IntTaxAmt),2)),C.J0.IsNum(t[r].CessAmt)&&(e.csamt=C.J0.Round(C.J0.Double(t[r].CessAmt),2)),t[r].Description.toString().Contains("(a)")?m.osup_det=e:t[r].Description.toString().Contains("(d)")&&(m.isup_rev=e)}else if(null!=t[r].Description&&t[r].Description.toString().Contains("(b)")){let e=new St;C.J0.IsNum(t[r].TaxableValue)&&(e.txval=C.J0.Round(C.J0.Double(t[r].TaxableValue),2)),C.J0.IsNum(t[r].IntTaxAmt)&&(e.iamt=C.J0.Round(C.J0.Double(t[r].IntTaxAmt),2)),C.J0.IsNum(t[r].CessAmt)&&(e.csamt=C.J0.Round(C.J0.Double(t[r].CessAmt),2)),m.osup_zero=e}else if(null!=t[r].Description&&(t[r].Description.toString().Contains("(c)")||t[r].Description.toString().Contains("(e)"))){let e=new rt;C.J0.IsNum(t[r].TaxableValue)&&(e.txval=C.J0.Round(C.J0.Double(t[r].TaxableValue),2)),t[r].Description.toString().Contains("(c)")?m.osup_nil_exmp=e:t[r].Description.toString().Contains("(e)")&&(m.osup_nongst=e)}a.sup_details=m}else if("GSTR3_GSTR3B_OutwardDetail"==s.Key){let m=new Lt;m.comp_details=new Array,m.uin_details=new Array,m.unreg_details=new Array;for(let r=0;r<t.length;r++)if(!C.J0.IsEmpty(t[r].PoS)){let e=new Tt;e.pos=t[r].PoS.toString(),C.J0.IsNum(t[r].TaxableValueUnregistered)&&(e.txval=C.J0.Round(C.J0.Double(t[r].TaxableValueUnregistered),2)),C.J0.IsNum(t[r].IntTaxAmtUnregistered)&&(e.iamt=C.J0.Round(C.J0.Double(t[r].IntTaxAmtUnregistered),2)),m.unreg_details.push(e),e=new Tt,e.pos=t[r].PoS.toString(),C.J0.IsNum(t[r].TaxableValueComposition)&&(e.txval=C.J0.Round(C.J0.Double(t[r].TaxableValueComposition),2)),C.J0.IsNum(t[r].IntTaxAmtComposition)&&(e.iamt=C.J0.Round(C.J0.Double(t[r].IntTaxAmtComposition),2)),m.comp_details.push(e),e=new Tt,e.pos=t[r].PoS.toString(),C.J0.IsNum(t[r].TaxableValueUINholders)&&(e.txval=C.J0.Round(C.J0.Double(t[r].TaxableValueUINholders),2)),C.J0.IsNum(t[r].IntTaxAmtUINholders)&&(e.iamt=C.J0.Round(C.J0.Double(t[r].IntTaxAmtUINholders),2)),m.uin_details.push(e)}a.inter_sup=m}else if("GSTR3_GSTR3B_EligibleITC"==s.Key){let m=new _t,r=!0;m.itc_avl=new Array,m.itc_rev=new Array,m.itc_inelg=new Array;for(let e=0;e<t.length;e++)if(!C.J0.IsEmpty(t[e].Details))if(t[e].Details.toString().Contains("(1)\xa0Import of goods")||t[e].Details.toString().Contains("(2)\xa0Import of services")||t[e].Details.toString().Contains("(3) Inward supplies liable to reverse charge(other than 1 &2 above)")||t[e].Details.toString().Contains("(4) Inward supplies from ISD")||t[e].Details.toString().Contains("(5) All other ITC")||t[e].Details.toString().Contains("(1)\xa0As per Rule 42 & 43 of SGST/CGST rules")||t[e].Details.toString().Contains("(2) Others")||t[e].Details.toString().Contains("(1) As per section 17(5) of CGST/SGST Act")){let n=new Pt;t[e].Details.toString().Contains("(1)\xa0Import of goods")?n.ty="IMPG":t[e].Details.toString().Contains("(2)\xa0Import of services")?n.ty="IMPS":t[e].Details.toString().Contains("(3) Inward supplies liable to reverse charge(other than 1 &2 above)")?n.ty="ISRC":t[e].Details.toString().Contains("(4) Inward supplies from ISD")?n.ty="ISD":t[e].Details.toString().Contains("(5) All other ITC")||t[e].Details.toString().Contains("(2) Others")?n.ty="OTH":(t[e].Details.toString().Contains("(1)\xa0As per Rule 42 & 43 of SGST/CGST rules")||t[e].Details.toString().Contains("(1) As per section 17(5) of CGST/SGST Act"))&&(n.ty="RUL"),C.J0.IsNum(t[e].CTaxAmt)&&(n.camt=C.J0.Round(C.J0.Double(t[e].CTaxAmt),2)),C.J0.IsNum(t[e].STaxAmt)&&(n.samt=C.J0.Round(C.J0.Double(t[e].STaxAmt),2)),C.J0.IsNum(t[e].IntTaxAmt)&&(n.iamt=C.J0.Round(C.J0.Double(t[e].IntTaxAmt),2)),C.J0.IsNum(t[e].CessAmt)&&(n.csamt=C.J0.Round(C.J0.Double(t[e].CessAmt),2)),t[e].Details.toString().Contains("(1)\xa0As per Rule 42 & 43 of SGST/CGST rules")||t[e].Details.toString().Contains("(2) Others")&&r?(t[e].Details.toString().Contains("(2) Others")&&(r=!1),m.itc_rev.push(n)):t[e].Details.toString().Contains("(1) As per section 17(5) of CGST/SGST Act")||t[e].Details.toString().Contains("(2) Others")&&!r?m.itc_inelg.push(n):m.itc_avl.push(n)}else if(t[e].Details.toString().Contains("(C) Net ITC Available (A)-(B)")){let n=new K;C.J0.IsNum(t[e].CTaxAmt)&&(n.camt=C.J0.Round(C.J0.Double(t[e].CTaxAmt),2)),C.J0.IsNum(t[e].STaxAmt)&&(n.samt=C.J0.Round(C.J0.Double(t[e].STaxAmt),2)),C.J0.IsNum(t[e].IntTaxAmt)&&(n.iamt=C.J0.Round(C.J0.Double(t[e].IntTaxAmt),2)),C.J0.IsNum(t[e].CessAmt)&&(n.csamt=C.J0.Round(C.J0.Double(t[e].CessAmt),2)),m.itc_net=n}a.itc_elg=m}else if("GSTR3_GSTR3B_5"==s.Key){let m=new wt;m.isup_details=new Array;for(let r=0;r<t.length;r++)if("Total"!=C.J0.String(t[r].Natureofsupplies)){let e=new Xt;e.ty=C.J0.String(t[r].Natureofsupplies).Replace(" ","").toUpperCase().Contains("NONGST")?"NONGST":"GST",C.J0.IsNum(t[r].InterState)&&(e.inter=C.J0.Round(C.J0.Double(t[r].InterState),2)),C.J0.IsNum(t[r].IntraState)&&(e.intra=C.J0.Round(C.J0.Double(t[r].IntraState),2)),m.isup_details.push(e)}a.inward_sup=m}else if("GSTR3_GSTR3B_5_1"==s.Key){let m=new jt;for(let r=0;r<t.length;r++){let e=new K;C.J0.IsNum(t[r].CTaxAmt)&&(e.camt=C.J0.Round(C.J0.Double(t[r].CTaxAmt),2)),C.J0.IsNum(t[r].STaxAmt)&&(e.samt=C.J0.Round(C.J0.Double(t[r].STaxAmt),2)),C.J0.IsNum(t[r].IntTaxAmt)&&(e.iamt=C.J0.Round(C.J0.Double(t[r].IntTaxAmt),2)),C.J0.IsNum(t[r].CessAmt)&&(e.csamt=C.J0.Round(C.J0.Double(t[r].CessAmt),2)),m.intr_details=e}a.intr_ltfee=m}}return a}return null}ANX1Obj(o,i){if(null!=this.lst&&this.lst.length>0){let a=new mt;a.gstin=o,a.fp=i;let p=0;for(let u=0;u<this.lst.length;u++){let s={Key:this.lst.keys[u],Value:this.lst.values[u]},t=s.Value.Table;if(null!=t&&t.length>0)if("b2b"==s.Key){let m=t.ToTable(!0,["RecipientGSTIN"]);a.b2b=new Array;for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].RecipientGSTIN))continue;let e=new z;e.ctin=m[r].RecipientGSTIN.toString().TrimEnd(" ");let n=t.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","ReverseCharge","InvType","ApplicableTaxRate","ECommGSTIN"]).filter(D=>D.RecipientGSTIN==m[r].RecipientGSTIN.toString().TrimEnd(" "));for(let D=0;D<n.length;D++){let T=new q;C.J0.IsNum(n[D].InvValue)&&(T.val=C.J0.Round(C.J0.Double(n[D].InvValue),2)),T.pos=C.J0.String(n[D].PoS),T.idt=C.J0.ParseDate(n[D].DocDate).ToString("dd-MM-yyyy"),T.rchrg=""==C.J0.String(n[D].ReverseCharge)?"N":C.J0.String(n[D].ReverseCharge),T.inum=C.J0.String(n[D].VoucherNo).TrimEnd(" "),T.inv_typ="custombondedwarehouse"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"DE":"R",p=C.J0.Double(n[D].ApplicableTaxRate),C.J0.IsNum(n[D].ApplicableTaxRate)&&0!=p&&(T.diff_percent=C.J0.Round(C.J0.Double(n[D].ApplicableTaxRate),2)),C.J0.IsNullOrWhiteSpace(n[D].ECommGSTIN)||(T.etin=n[D].ECommGSTIN.toString().TrimEnd(" "));let h=t.filter(d=>d.VoucherNo==C.J0.String(n[D].VoucherNo).TrimEnd(" "));for(let d=0;d<h.length;d++){let I=new X;I.num=d+1;let c=new G;C.J0.IsNum(h[d].Rate)&&(c.rt=parseInt(h[d].Rate)),C.J0.IsNum(h[d].TaxableValue)&&(c.txval=C.J0.Round(C.J0.Double(h[d].TaxableValue),2)),p=c.txval/100*c.rt,T.pos==o.substr(0,2)?(c.camt=C.J0.Round(p/2,2),c.samt=C.J0.Round(p/2,2)):c.iamt=C.J0.Round(p,2),C.J0.IsNum(h[d].CessAmt)&&(c.csamt=C.J0.Round(C.J0.Double(h[d].CessAmt),2)),I.itm_det=c,T.itms.push(I)}e.inv.push(T)}a.b2b.push(e)}}else if("b2cl"==s.Key){let m=t.ToTable(!0,["PoS"]);a.b2cl=new Array;for(let r=0;r<m.length;r++){if(C.J0.IsEmpty(m[r].PoS))continue;let e=new tt;e.pos=m[r].PoS.toString().TrimEnd(" ");let n=t.ToTable(!0,["PoS","VoucherNo","DocDate","InvValue","ApplicableTaxRate","ECommGSTIN"]).filter(D=>D.PoS==m[r].PoS.toString().TrimEnd(" "));for(let D=0;D<n.length;D++){let T=new dt;T.val=parseFloat(n[D].InvValue),T.idt=C.J0.ParseDate(n[D].DocDate).ToString("dd-MM-yyyy"),T.inum=C.J0.String(n[D].VoucherNo).TrimEnd(" "),C.J0.IsNullOrWhiteSpace(n[D].InvType)||(T.inv_typ="custombondedwarehouse"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"CBW":"sezsupplieswithpayment"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"SEWP":"sezsupplieswithoutpayment"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"SEWOP":"deemedexp"==C.J0.String(n[D].InvType).toLowerCase().Replace(" ","")?"DE":"R"),p=C.J0.Double(n[D].ApplicableTaxRate),C.J0.IsNum(n[D].ApplicableTaxRate)&&0!=p&&(T.diff_percent=C.J0.Round(C.J0.Double(n[D].ApplicableTaxRate),2)),C.J0.IsNullOrWhiteSpace(n[D].ECommGSTIN)||(T.etin=n[D].ECommGSTIN.toString().TrimEnd(" "));let h=t.filter(d=>d.VoucherNo==C.J0.String(n[D].VoucherNo).TrimEnd(" "));for(let d=0;d<h.length;d++){let I=new X;I.num=d+1;let c=new G;C.J0.IsNum(h[d].Rate)&&(c.rt=parseInt(h[d].Rate)),C.J0.IsNum(h[d].TaxableValue)&&(c.txval=C.J0.Round(C.J0.Double(h[d].TaxableValue),2)),p=c.txval/100*c.rt,e.pos==o.substr(0,2)?(c.camt=C.J0.Round(p/2,2),c.samt=C.J0.Round(p/2,2)):c.iamt=C.J0.Round(p,2),C.J0.IsNum(h[d].CessAmt)&&(c.csamt=C.J0.Round(C.J0.Double(h[d].CessAmt),2)),I.itm_det=c,T.itms.push(I)}e.inv.push(T)}a.b2cl.push(e)}}else if("b2cs"==s.Key){a.b2cs=new Array;for(let m=0;m<t.length;m++){if(C.J0.IsNullOrWhiteSpace(t[m].Type))continue;let r=new et;r.sply_ty=C.J0.String(t[m].PoS).TrimEnd(" ")==o.substr(0,2)?"INTRA":"INTER",r.typ=t[m].Type.toString().TrimEnd(" "),r.pos=C.J0.String(t[m].PoS).TrimEnd(" "),C.J0.IsNum(t[m].Rate)&&(r.rt=parseInt(t[m].Rate)),C.J0.IsNum(t[m].TaxableValue)&&(r.txval=C.J0.Round(C.J0.Double(t[m].TaxableValue),2)),p=C.J0.Double(t[m].ApplicableTaxRate),C.J0.IsNum(t[m].ApplicableTaxRate)&&0!=p&&(r.diff_percent=C.J0.Round(p,2)),C.J0.StringIsNullOrEmpty(t[m].ECommGSTIN)||(r.etin=t[m].ECommGSTIN.toString()),p=r.txval/100*r.rt,r.pos==o.substr(0,2)?(r.camt=C.J0.Round(p/2,2),r.samt=C.J0.Round(p/2,2)):r.iamt=C.J0.Round(p,2),C.J0.IsNum(t[m].CessAmt)&&(r.csamt=C.J0.Round(C.J0.Double(t[m].CessAmt),2)),a.b2cs.push(r)}}else if("cdnr"==s.Key){let m=t.ToTable(!0,["RecipientGSTIN"]);a.cdnr=new Array;for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].RecipientGSTIN))continue;let e=new ot;e.ctin=m[r].RecipientGSTIN.toString().TrimEnd(" ");let n=t.ToTable(!0,["RecipientGSTIN","VoucherNo","DocDate","InvValue","PoS","DocumentType","ApplicableTaxRate"]).filter(D=>D.RecipientGSTIN&&D.RecipientGSTIN==m[r].RecipientGSTIN.toString().TrimEnd(" ")&&""!=D.RecipientGSTIN);for(let D=0;D<n.length;D++){let T=new at;T.ntty=C.J0.String(n[D].DocumentType).TrimEnd(" "),T.nt_num=C.J0.String(n[D].VoucherNo).TrimEnd(" "),T.nt_dt=C.J0.ParseDate(n[D].DocDate).ToString("dd-MM-yyyy"),C.J0.IsNum(n[D].InvValue)&&(T.val=C.J0.Round(C.J0.Double(n[D].InvValue),2)),p=C.J0.Double(n[D].ApplicableTaxRate),C.J0.IsNum(n[D].ApplicableTaxRate)&&0!=p&&(T.diff_percent=C.J0.Round(C.J0.Double(p),2)),C.J0.IsNullOrWhiteSpace(n[D].ECommGSTIN)||(T.etin=n[D].ECommGSTIN.toString().TrimEnd(" "));let h=t.filter(d=>d.VoucherNo==C.J0.String(n[D].VoucherNo).TrimEnd(" "));for(let d=0;d<h.length;d++){let I=new X;I.num=d+1;let c=new G;C.J0.IsNum(h[d].Rate)&&(c.rt=parseInt(h[d].Rate)),C.J0.IsNum(h[d].TaxableValue)&&(c.txval=C.J0.Round(C.J0.Double(h[d].TaxableValue),2)),p=c.txval/100*c.rt,C.J0.String(n[D].PoS)==o.substr(0,2)?(c.camt=C.J0.Round(p/2,2),c.samt=C.J0.Round(p/2,2)):c.iamt=C.J0.Round(p,2),C.J0.IsNum(h[d].CessAmt)&&(c.csamt=C.J0.Round(C.J0.Double(h[d].CessAmt),2)),I.itm_det=c,T.itms.push(I)}e.nt.push(T)}a.cdnr.push(e)}}else if("cdnur"==s.Key){let m=t.ToTable(!0,["URType","VoucherNo","DocDate","InvValue","PoS","DocumentType","ApplicableTaxRate"]);a.cdnur=new Array;for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].URType))continue;let e=new it;e.typ=m[r].URType.toString().TrimEnd(" "),e.ntty=C.J0.String(m[r].DocumentType).TrimEnd(" "),e.nt_num=C.J0.String(m[r].VoucherNo).TrimEnd(" "),e.nt_dt=C.J0.ParseDate(m[r].DocDate).ToString("dd-MM-yyyy"),C.J0.IsNum(m[r].InvValue)&&(e.val=C.J0.Round(C.J0.Double(m[r].InvValue),2)),p=C.J0.Double(m[r].ApplicableTaxRate),C.J0.IsNum(m[r].ApplicableTaxRate)&&0!=p&&(e.diff_percent=C.J0.Round(p,2));let n=t.filter(D=>D.VoucherNo==C.J0.String(m[r].VoucherNo).TrimEnd(" "));for(let D=0;D<n.length;D++){let T=new X;T.num=D+1;let h=new G;C.J0.IsNum(n[D].Rate)&&(h.rt=parseInt(n[D].Rate)),C.J0.IsNum(n[D].TaxableValue)&&(h.txval=C.J0.Round(C.J0.Double(n[D].TaxableValue),2)),p=h.txval/100*h.rt,C.J0.String(m[r].PoS)==o.substr(0,2)?(h.camt=C.J0.Round(p/2,2),h.samt=C.J0.Round(p/2,2)):h.iamt=C.J0.Round(p,2),C.J0.IsNum(n[D].CessAmt)&&(h.csamt=C.J0.Round(C.J0.Double(n[D].CessAmt),2)),T.itm_det=h,e.itms.push(T)}a.cdnur.push(e)}}else if("exp"==s.Key){let m=t.ToTable(!0,["ExportType"]);a.exp=new Array;for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].ExportType))continue;let e=new nt;e.exp_typ=m[r].ExportType.toString().TrimEnd(" ");let n=t.filter(D=>D.ExportType==m[r].ExportType.toString().TrimEnd(" "));for(let D=0;D<n.length;D++){let T=new It;C.J0.IsNum(n[D].InvValue)&&(T.val=C.J0.Round(C.J0.Double(n[D].InvValue),2)),T.idt=C.J0.ParseDate(n[D].DocDate).ToString("dd-MM-yyyy"),T.inum=C.J0.String(n[D].VoucherNo).TrimEnd(" "),C.J0.IsNullOrWhiteSpace(n[D].PortCode)||(T.sbpcode=n[D].PortCode.toString().TrimEnd(" ")),C.J0.IsNullOrWhiteSpace(n[D].ShipBillNo)||(T.sbnum=n[D].ShipBillNo.toString().TrimEnd(" ")),C.J0.IsNullOrWhiteSpace(n[D].ShipBillDate)||(T.sbdt=C.J0.ParseDate(n[D].ShipBillDate).ToString("dd-MM-yyyy"));let h=t.filter(d=>d.VoucherNo==C.J0.String(n[D].VoucherNo).TrimEnd(" "));for(let d=0;d<h.length;d++){let I=new G;C.J0.IsNum(h[d].Rate)&&(I.rt=parseInt(h[d].Rate)),C.J0.IsNum(h[d].TaxableValue)&&(I.txval=C.J0.Round(C.J0.Double(h[d].TaxableValue),2)),p=I.txval/100*I.rt,I.iamt=C.J0.Round(p,2),C.J0.IsNum(h[d].CessAmt)&&(I.csamt=C.J0.Round(C.J0.Double(h[d].CessAmt),2)),T.itms.push(I)}e.inv.push(T)}a.exp.push(e)}}else if("at"==s.Key||"atadj"==s.Key){let m=t.ToTable(!0,["PoS","ApplicableTaxRate"]);"at"==s.Key?a.at=new Array:"atadj"==s.Key&&(a.txpd=new Array);for(let r=0;r<m.length;r++){if(C.J0.IsNullOrWhiteSpace(m[r].PoS))continue;let e=new lt;e.pos=m[r].PoS.toString().TrimEnd(" "),e.sply_ty=C.J0.String(m[r].PoS).TrimEnd(" ")==o.substr(0,2)?"INTRA":"INTER",p=C.J0.Double(m[r].ApplicableTaxRate),C.J0.IsNum(m[r].ApplicableTaxRate)&&0!=p&&(e.diff_percent=C.J0.Round(C.J0.Double(p),2));let n=t.filter(D=>D.PoS==C.J0.String(m[r].PoS).TrimEnd(" "));for(let D=0;D<n.length;D++){let T=new ht;C.J0.IsNum(n[D].Rate)&&(T.rt=parseInt(n[D].Rate)),"at"==s.Key&&C.J0.IsNum(n[D].AdvReceived)?T.ad_amt=C.J0.Round(C.J0.Double(n[D].AdvReceived),2):"atadj"==s.Key&&C.J0.IsNum(n[D].AdvAdjusted)&&(T.ad_amt=C.J0.Round(C.J0.Double(n[D].AdvAdjusted),2)),p=T.ad_amt/100*T.rt,e.pos==o.substr(0,2)?(T.camt=C.J0.Round(p/2,2),T.samt=C.J0.Round(p/2,2)):T.iamt=C.J0.Round(p,2),C.J0.IsNum(n[D].CessAmt)&&(T.csamt=C.J0.Round(C.J0.Double(n[D].CessAmt),2)),e.itms.push(T)}"at"==s.Key?a.at.push(e):"atadj"==s.Key&&a.txpd.push(e)}}else if("exemp"==s.Key){let m=new Ct;for(let r=0;r<t.length;r++){if(C.J0.IsNullOrWhiteSpace(t[r].Description))continue;let e=new ct;"interstatesuppliestoregisteredpersons"==t[r].Description.toString().Replace(" ","").Replace("-","").toLowerCase()?e.sply_ty="INTRB2B":"interstatesuppliestounregisteredpersons"==t[r].Description.toString().Replace(" ","").Replace("-","").toLowerCase()?e.sply_ty="INTRB2C":"intrastatesuppliestoregisteredpersons"==t[r].Description.toString().Replace(" ","").Replace("-","").toLowerCase()?e.sply_ty="INTRAB2B":"intrastatesuppliestounregisteredpersons"==t[r].Description.toString().Replace(" ","").Replace("-","").toLowerCase()&&(e.sply_ty="INTRAB2C"),C.J0.IsNum(t[r].Exempted)&&(e.expt_amt=C.J0.Round(C.J0.Double(t[r].Exempted),2)),C.J0.IsNum(t[r].NilRated)&&(e.nil_amt=C.J0.Round(C.J0.Double(t[r].NilRated),2)),C.J0.IsNum(t[r].NonGST)&&(e.ngsup_amt=C.J0.Round(C.J0.Double(t[r].NonGST),2)),m.inv.push(e)}a.nil=m}else if("hsn"==s.Key){let m=new st;for(let r=0;r<t.length;r++){if(C.J0.IsNullOrWhiteSpace(t[r].HSN))continue;let e=new At;e.num=r+1,e.hsn_sc=t[r].HSN.toString().TrimEnd(" "),e.uqc=C.J0.String(t[r].UQC).Replace(" ","").substr(0,3).toUpperCase(),C.J0.IsNum(t[r].TotalQty)&&(e.qty=C.J0.Round(C.J0.Double(t[r].TotalQty),2)),C.J0.IsNum(t[r].TotalValue)&&(e.val=C.J0.Round(C.J0.Double(t[r].TotalValue),2)),C.J0.IsNum(t[r].TaxableValue)&&(e.txval=C.J0.Round(C.J0.Double(t[r].TaxableValue),2)),C.J0.IsNullOrWhiteSpace(t[r].Description)||(e.desc=t[r].Description.toString().TrimEnd(" ")),C.J0.IsNum(t[r].IntTaxAmt)&&(e.iamt=C.J0.Round(C.J0.Double(t[r].IntTaxAmt),2)),C.J0.IsNum(t[r].CTaxAmt)&&(e.camt=C.J0.Round(C.J0.Double(t[r].CTaxAmt),2)),C.J0.IsNum(t[r].STaxAmt)&&(e.samt=C.J0.Round(C.J0.Double(t[r].STaxAmt),2)),C.J0.IsNum(t[r].CessAmt)&&(e.csamt=C.J0.Round(C.J0.Double(t[r].CessAmt),2)),m.data.push(e)}a.hsn=m}else if("docs"==s.Key&&t.filter(m=>""!=m.NatureofDocument).length>0){let m=t.filter(e=>""!=e.NatureofDocument),r=new pt;for(let e=0;e<m.length;e++){let n=new yt;n.doc_num=e+1,C.J0.IsNullOrWhiteSpace(m[e].NatureofDocument)||(n.doc_typ=m[e].NatureofDocument.toString().TrimEnd(" "));let D=t.filter(T=>T.NatureofDocument==C.J0.String(m[e].NatureofDocument).TrimEnd(" "));for(let T=0;T<D.length;T++){let h=new bt;h.num=T+1,h.from=C.J0.String(D[T].SrNoFrom).TrimEnd(" "),h.to=C.J0.String(D[T].SrNoTo).TrimEnd(" "),h.totnum=parseInt(D[T].TotalNumber),h.cancel=parseInt(D[T].Cancelled),h.net_issue=h.totnum-h.cancel,n.docs.push(h)}r.doc_det.push(n)}a.doc_issue=r}}return a}return null}}class xt{constructor(){this.gstin=null,this.ret_period=null}}class mt{constructor(){this.gstin=null,this.fp=null,this.version=null,this.hash=null}}class X{}class G{}class z{constructor(){this.ctin=null,this.inv=new Array}}class q{constructor(){this.inv_typ=null,this.pos=null,this.idt=null,this.rchrg=null,this.inum=null,this.etin=null,this.itms=new Array}}class tt{constructor(){this.pos=null,this.inv=new Array}}class dt{constructor(){this.inv_typ=null,this.idt=null,this.inum=null,this.etin=null,this.itms=new Array}}class et extends G{constructor(){super(...arguments),this.sply_ty=null,this.typ=null,this.pos=null,this.etin=null}}class ot{constructor(){this.ctin=null,this.nt=new Array}}class at{constructor(){this.ntty=null,this.nt_num=null,this.nt_dt=null,this.inum=null,this.idt=null,this.rchrg=null,this.inv_typ=null,this.p_gst=null,this.etin=null,this.pos=null,this.itms=new Array}}class it{constructor(){this.typ=null,this.ntty=null,this.nt_num=null,this.nt_dt=null,this.itms=new Array}}class nt{constructor(){this.exp_typ=null,this.inv=new Array}}class It{constructor(){this.idt=null,this.inum=null,this.sbpcode=null,this.sbnum=null,this.sbdt=null,this.itms=new Array}}class lt{constructor(){this.pos=null,this.sply_ty=null,this.itms=new Array}}class ht{}class Ct{constructor(){this.inv=new Array}}class ct{constructor(){this.sply_ty=null}}class st{constructor(){this.data=new Array}}class At{constructor(){this.hsn_sc=null,this.uqc=null,this.desc=null}}class pt{constructor(){this.doc_det=new Array}}class yt{constructor(){this.doc_typ=null,this.docs=new Array}}class bt{constructor(){this.from=null,this.to=null}}class Ut{constructor(){this.gstin=null,this.ret_period=null}}class K{}class Gt extends K{}class rt{}class St extends rt{}class vt{}class Lt{}class Tt extends rt{constructor(){super(...arguments),this.pos=null}}class _t{}class Pt extends K{constructor(){super(...arguments),this.ty=null}}class wt{}class Xt{constructor(){this.ty=null}}class jt{}class Bt{constructor(){this.dtReturnDate=new F.Lc,this.dtToDate=new F.Lc,this.chkToDate=new B.c,this.tabMainVisibile=!1,this.txtUserName=new V.Dw,this.txtGSTIN=new V.Dw,this.txtOTP=new V.Dw,this.txtUserName.Label="UserName :",this.txtUserName.LblWidth="90",this.txtGSTIN.Label="GSTIN :",this.txtGSTIN.LblWidth="70",this.txtOTP.Label="OTP :",this.txtOTP.LblWidth="60",this.txtUserName.Text=y.d.SessionManager.config.username,this.txtGSTIN.Text=y.d.SessionManager.config.gstin,this.txtOTP.Text=y.d.SessionManager.config.otp,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(o){if(this.ViewModel.DisplayMessage="","GetData"==o){this.tabMainVisibile=!0;let i=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),a=null;this.dtToDate.Visible&&(i=this.dtReturnDate.Date,a=this.dtToDate.Date);for(let p=0;p<this.ViewModel.lstGridViewModel.length;p++){let u={Key:this.ViewModel.lstGridViewModel.keys[p],Value:this.ViewModel.lstGridViewModel.values[p]},s=M.SetQueryWhere(this.ViewModel.lstGSTReport[u.Key].objReport.QUERY,u.Key,i,a);console.log(u.Key+" Query :\r\n"+s);let t=y.d.report.ReportDataSet("RPT022",!1,s);if(null!=t&&t.Tables.length>0){if(t.Columns[0].Contains("ErrorMessage"))return void(this.ViewModel.DisplayMessage=t.Tables[0][0].ErrorMessage.toString());let m=new Array;M.ResetData(u.Key,t,i,a,m);let r=new Array;for(let e=1;e<this.ViewModel.lstGSTReport[u.Key].ReportGrid.Columns.length;e++){let n=this.ViewModel.lstGSTReport[u.Key].ReportGrid.Columns[e];if(0==n.CurrID)continue;let D=new v.O7;D.ID=n.ID,D.Header=n.Header,D.Width=n.Width,D.ReadOnly=!0,D.DisplayMember=m.Contains(n.ID)?n.ID+"_Key":n.ID;let T=this.ViewModel.lstGSTReport[u.Key].Columns.find(h=>h.ID==n.ID);D.DataType=T.DType,"FLOAT"==D.DataType&&(D.DecimalPoints=C.J0.IsEmpty(T.Decimals)?"2":T.Decimals,"SUM"==T.Agg&&(D.ShowTotal=!0,D.IsCalculated=1)),r.push(D)}t.Tables[0].forEach(e=>{e.id=u.Value.rowid}),u.Value.Table=t.Tables[0],u.Value.Columns=r,u.Value.RefreshColumns(),u.Value.UpdateTotals()}}}else if("Export"==o)this.tabMainVisibile||(this.ViewModel.DisplayMessage="First Load Report");else if("ExportNew"==o)this.tabMainVisibile?this.ViewModel.Status="":this.ViewModel.DisplayMessage="First Load Report";else if("RETSAVE"==o||"Json"==o)if(this.tabMainVisibile){if(C.J0.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");let i=new Q(this.ViewModel.lstGridViewModel);if("RETSAVE"==o){if(C.J0.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");this.ViewModel.DisplayMessage=i.UploadingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR1",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text)}else"Json"==o&&(this.ViewModel.DisplayMessage=i.GenerateJSON(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR1",this.txtGSTIN.Text))}else this.ViewModel.DisplayMessage="First Load Report";else if("RETSUBMIT"==o){if(C.J0.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");if(C.J0.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");let i=new Q(this.ViewModel.lstGridViewModel);this.ViewModel.DisplayMessage=i.SubmitingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR1",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text,o)}}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let o=Date.Today();this.dtReturnDate.Date=new Date(o.getFullYear(),o.getMonth(),1),this.dtToDate.Date=new Date(o.getFullYear(),o.getMonth(),o.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}function Jt(A,o){if(1&A&&(l.j41(0,"div",7),l.EFF(1,"\n                "),l.eu8(2,4),l.EFF(3,"\n            "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.dtToDate)("group",i.form)}}function kt(A,o){if(1&A&&(l.j41(0,"div",7),l.EFF(1,"\n                "),l.eu8(2,4),l.EFF(3,"\n            "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.txtGSTIN)("group",i.form)}}function Kt(A,o){if(1&A&&(l.j41(0,"div",7),l.EFF(1,"\n                "),l.eu8(2,4),l.EFF(3,"\n            "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.txtUserName)("group",i.form)}}function Ht(A,o){if(1&A&&(l.j41(0,"div",7),l.EFF(1,"\n                "),l.eu8(2,4),l.EFF(3,"\n            "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.txtOTP)("group",i.form)}}function Yt(A,o){if(1&A&&(l.j41(0,"div",16),l.EFF(1,"\n                        "),l.eu8(2,4),l.EFF(3,"\n                    "),l.k0s()),2&A){const i=l.XpG().$implicit,a=l.XpG();l.R7$(2),l.Y8G("obj",a.obj.lstGridViewModel[i.Name])("group",a.form)}}function Qt(A,o){if(1&A){const i=l.RV6();l.qex(0),l.EFF(1,"\n                "),l.j41(2,"tab",14),l.bIt("selectTab",function(){const p=l.eBV(i).$implicit;return l.Njj(p.IsAccordionOpen=!0)}),l.EFF(3,"\n                    "),l.DNE(4,Yt,4,2,"div",15),l.EFF(5,"\n                "),l.k0s(),l.EFF(6,"\n              "),l.bVm()}if(2&A){const i=o.$implicit,a=l.XpG();l.R7$(2),l.Y8G("heading",i.Header)("removable",!1),l.R7$(2),l.Y8G("ngIf",a.obj.lstGridViewModel[i.Name].Columns.length>0)}}let $t=(()=>{class A extends Bt{constructor(){super(),this.form=new P.gE({})}ngOnInit(){this.params?.obj&&(this.obj=this.params?.obj),this.ViewModel=this.params?.obj,0!=this.obj.lstGridViewModel.length&&(this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),y.d.page.removeTab(this.obj)))}LoadData(){for(let i=0;i<this.obj.lstGridViewModel.keys.length;i++){let a=this.obj.lstGridViewModel.keys[i],p=new J;if(p.ReportBuilder_2(this.obj.dicReportID[a],a),this.obj.lstGSTReport.push(a,p),p.cmbReport_SelectionChanged(null,null),p.GetReportConfiguration(),p.DisplayMessage.length>0)return void(this.obj.DisplayMessage=p.DisplayMessage);if(p.objReport.QUERY=p.GetQuery(!0),0==p.objReport.QUERY.length)return void(this.obj.DisplayMessage="Select Documents")}}static{this.\u0275fac=function(a){return new(a||A)}}static{this.\u0275cmp=l.VBU({type:A,selectors:[["app-gstr1"]],standalone:!1,features:[l.Vt3],decls:63,vars:9,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"form-group","col-xl-6","col-md-6","col-sm-6","col-xs-12","PACTControl",2,"display","block"],[1,"primary-btn-wicon",2,"width","70px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"selectTab","heading","removable"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(a,p){1&a&&(l.j41(0,"div",0),l.EFF(1,"\n    "),l.j41(2,"div",1),l.EFF(3,"\n        "),l.j41(4,"label",2),l.EFF(5,"GSTR-1"),l.k0s(),l.EFF(6,"\n        "),l.j41(7,"div",3),l.EFF(8,"\n            "),l.eu8(9,4),l.EFF(10,"\n        "),l.k0s(),l.EFF(11,"\n    "),l.k0s(),l.EFF(12,"\n    "),l.j41(13,"div",5),l.EFF(14,"\n        "),l.j41(15,"div",6),l.EFF(16,"\n            "),l.j41(17,"div",7),l.EFF(18,"\n                "),l.eu8(19,4),l.EFF(20,"\n            "),l.k0s(),l.EFF(21,"\n            "),l.DNE(22,Jt,4,2,"div",8),l.EFF(23,"\n            "),l.j41(24,"div",9),l.EFF(25,"\n                "),l.j41(26,"button",10),l.bIt("click",function(){return p.Button_Click("GetData")}),l.EFF(27,"Get Data"),l.k0s(),l.EFF(28,"\n                "),l.j41(29,"button",10),l.bIt("click",function(){return p.Button_Click("Export")}),l.EFF(30,"Export"),l.k0s(),l.EFF(31,"\n                "),l.EFF(32,"\n                "),l.j41(33,"button",10),l.bIt("click",function(){return p.Button_Click("Json")}),l.EFF(34,"Json"),l.k0s(),l.EFF(35,"\n                "),l.j41(36,"button",10),l.bIt("click",function(){return p.Button_Click("RETSAVE")}),l.EFF(37,"Upload"),l.k0s(),l.EFF(38,"\n                "),l.j41(39,"button",10),l.bIt("click",function(){return p.Button_Click("RETSUBMIT")}),l.EFF(40,"Submit"),l.k0s(),l.EFF(41,"\n                "),l.EFF(42,"\n            "),l.k0s(),l.EFF(43,"\n        "),l.k0s(),l.EFF(44,"\n        "),l.j41(45,"div",6),l.EFF(46,"\n            "),l.DNE(47,kt,4,2,"div",8),l.EFF(48,"\n            "),l.DNE(49,Kt,4,2,"div",8),l.EFF(50,"\n            "),l.DNE(51,Ht,4,2,"div",8),l.EFF(52,"\n        "),l.k0s(),l.EFF(53,"\n        \n        "),l.j41(54,"div",11),l.EFF(55,"\n            "),l.j41(56,"tabset",12),l.EFF(57,"\n               "),l.DNE(58,Qt,7,3,"ng-container",13),l.EFF(59,"\n            "),l.k0s(),l.EFF(60,"\n        "),l.k0s(),l.EFF(61,"\n    "),l.k0s(),l.EFF(62,"\n"),l.k0s()),2&a&&(l.R7$(9),l.Y8G("obj",p.chkToDate)("group",p.form),l.R7$(10),l.Y8G("obj",p.dtReturnDate)("group",p.form),l.R7$(3),l.Y8G("ngIf",p.dtToDate.Visible),l.R7$(25),l.Y8G("ngIf",p.txtGSTIN.Visible),l.R7$(2),l.Y8G("ngIf",p.txtUserName.Visible),l.R7$(2),l.Y8G("ngIf",p.txtOTP.Visible),l.R7$(7),l.Y8G("ngForOf",p.obj.Tab.Tabs))},dependencies:[x.Sq,x.bT,_.V6,_.fw,k._],encapsulation:2})}}return A})();class Zt{constructor(){this.dtReturnDate=new F.Lc,this.dtToDate=new F.Lc,this.chkToDate=new B.c,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(o){if(this.ViewModel.DisplayMessage="","Submit"==o){let i=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),a=null;this.dtToDate.Visible&&(i=this.dtReturnDate.Date,a=this.dtToDate.Date),this.ViewModel.OnSubmit(i,a)}}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let o=Date.Today();this.dtReturnDate.Date=new Date(o.getFullYear(),o.getMonth(),1),this.dtToDate.Date=new Date(o.getFullYear(),o.getMonth(),o.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}function zt(A,o){if(1&A&&(l.j41(0,"div",7),l.EFF(1,"\n                "),l.eu8(2,4),l.EFF(3,"\n            "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.dtToDate)("group",i.form)}}let qt=(()=>{class A extends Zt{constructor(){super(),this.form=new P.gE({})}ngOnInit(){this.params?.obj&&(this.obj=this.params?.obj),this.ViewModel=this.params?.obj}static{this.\u0275fac=function(a){return new(a||A)}}static{this.\u0275cmp=l.VBU({type:A,selectors:[["app-gstr1-summary"]],standalone:!1,features:[l.Vt3],decls:42,vars:10,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"primary-btn-wicon",2,"width","80px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[2,"width","100%","height","100%"]],template:function(a,p){1&a&&(l.j41(0,"div",0),l.EFF(1,"\n    "),l.j41(2,"div",1),l.EFF(3,"\n        "),l.j41(4,"label",2),l.EFF(5,"GSTR-1 Summary"),l.k0s(),l.EFF(6,"\n        "),l.j41(7,"div",3),l.EFF(8,"\n            "),l.eu8(9,4),l.EFF(10,"\n        "),l.k0s(),l.EFF(11,"\n    "),l.k0s(),l.EFF(12,"\n    "),l.j41(13,"div",5),l.EFF(14,"\n        "),l.j41(15,"div",6),l.EFF(16,"\n            "),l.j41(17,"div",7),l.EFF(18,"\n                "),l.eu8(19,4),l.EFF(20,"\n            "),l.k0s(),l.EFF(21,"\n            "),l.DNE(22,zt,4,2,"div",8),l.EFF(23,"\n            "),l.j41(24,"div",7),l.EFF(25,"\n                "),l.j41(26,"button",9),l.bIt("click",function(){return p.Button_Click("Submit")}),l.EFF(27),l.nI1(28,"translate"),l.k0s(),l.EFF(29,"\n            "),l.k0s(),l.EFF(30,"\n        "),l.k0s(),l.EFF(31,"\n        \n        "),l.j41(32,"div",10),l.EFF(33,"\n            "),l.j41(34,"div",11),l.EFF(35,"\n                "),l.eu8(36,4),l.EFF(37,"\n            "),l.k0s(),l.EFF(38,"\n        "),l.k0s(),l.EFF(39,"\n    "),l.k0s(),l.EFF(40,"\n"),l.k0s(),l.EFF(41,"\n\n")),2&a&&(l.R7$(9),l.Y8G("obj",p.chkToDate)("group",p.form),l.R7$(10),l.Y8G("obj",p.dtReturnDate)("group",p.form),l.R7$(3),l.Y8G("ngIf",p.dtToDate.Visible),l.R7$(5),l.JRh(l.bMT(28,8,"Submit")),l.R7$(9),l.Y8G("obj",p.obj.PreviewGrid)("group",p.form))},dependencies:[x.bT,k._,Z.D9],encapsulation:2})}}return A})();var j=O(62288);class te{constructor(){this.dtReturnDate=new F.Lc,this.dtToDate=new F.Lc,this.chkToDate=new B.c,this.tabMainVisibile=!1,this.txtUserName=new V.Dw,this.txtGSTIN=new V.Dw,this.txtOTP=new V.Dw,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(o){if(this.ViewModel.DisplayMessage="","GetData"==o){this.tabMainVisibile=!0;let i=null,a=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),p=null;this.dtToDate.Visible&&(a=this.dtReturnDate.Date,p=this.dtToDate.Date),this.ViewModel.dsGSTR2b2b=null,this.ViewModel.dsGSTR2b2bur=null;for(let u=0;u<this.ViewModel.lstGridViewModel.length;u++){let s={Key:this.ViewModel.lstGridViewModel.keys[u],Value:this.ViewModel.lstGridViewModel.values[u]},t=null;if("GSTR3_GSTR3B_Outward"==s.Key){let m=M.SetQueryWhere(this.ViewModel.lstGSTReport[s.Key].objReport.QUERY,s.Key,a,p);t=y.d.report.ReportDataSet("RPT022",!1,m),i={Tables:t.Tables.Copy(),Columns:t.Columns.Copy()},this.ViewModel.dtTaxTypeFilters=t.Tables[1]}else if("GSTR3_GSTR3B_OutwardDetail"==s.Key)t=i;else if("GSTR3_GSTR3B_EligibleITC"==s.Key||"GSTR3_GSTR3B_5"==s.Key||"GSTR3_GSTR3B_5_1"==s.Key){t={Tables:[],Columns:[]};let m=[];m.push({Sno:""}),t.Tables.push(m),t.Columns.push([]),t.Columns.push("Sno")}if(null!=t&&t.Tables.length>0){if(t.Columns[0].Contains("ErrorMessage"))return void(this.ViewModel.DisplayMessage=t.Tables[0][0].ErrorMessage.toString());let m=new Array;if(M.ResetData(s.Key,t,a,p,m,this.ViewModel),s.Value.Table=t.Tables[0],this.ViewModel.lstGSTReport.ContainsKey(s.Key)){let r=new Array;for(let e=1;e<this.ViewModel.lstGSTReport[s.Key].ReportGrid.Columns.length;e++){let n=this.ViewModel.lstGSTReport[s.Key].ReportGrid.Columns[e];if(0==n.CurrID)continue;let D=new v.O7;D.ID=n.ID,D.Header=n.Header,D.Width=n.Width,D.ReadOnly=!0,D.DisplayMember=m.Contains(n.ID)?n.ID+"_Key":n.ID;let T=this.ViewModel.lstGSTReport[s.Key].Columns.find(h=>h.ID==n.ID);D.DataType=T.DType,"FLOAT"==D.DataType&&(D.DecimalPoints=C.J0.IsEmpty(T.Decimals)?"2":T.Decimals,"SUM"==T.Agg&&(D.ShowTotal=!0,D.IsCalculated=1)),r.push(D)}s.Value.Columns=r,s.Value.RefreshColumns()}s.Value.refreshids(),s.Value.UpdateTotals()}}}else if("Export"==o){let a=j.Wp.json_to_sheet([{Name:"ABC",Age:22},{Name:"XYZ",Age:25}]);a["!merges"]=[{s:{r:1,c:0},e:{r:2,c:0}}],a["!cols"]=[{wpx:120},{wpx:80}];let p=j.Wp.book_new();p.SheetNames.push("Test"),p.Sheets.Test=a;let u=a[j.Wp.encode_cell({c:1,r:1})];u&&(u.z="0.00"),u.s={font:{name:"Arial",sz:20,bold:!0,color:{rgb:"88FF0055"}},fill:{color:{rgb:"88FF0055"},fgColor:{rgb:"FFFFAA00"}}},u={v:134550,s:{font:{name:"Arial",sz:20,bold:!0,color:{rgb:"88FF0055"}},fill:{color:{rgb:"88FF0055"},fgColor:{patternType:"solid",rgb:"FFFFAA00"}}}},a.A5=u;for(let t=0;t<10;t++){this.addEmptyRows(a,1);let m=j.Wp.encode_cell({c:1,r:t+3});u=a[m],u?u.v=t+1:a[m]={v:t+2}}j.Wp.sheet_add_aoa(a,[["enda",10],["b",20]],{origin:-1}),j._h(p,"test.xlsx",{bookType:"xlsx",type:"binary"})}else if("RETSAVE"==o||"Json"==o)if(this.tabMainVisibile){if(C.J0.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");let i=new Q(this.ViewModel.lstGridViewModel);if("RETSAVE"==o){if(C.J0.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");this.ViewModel.DisplayMessage=i.UploadingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR3B",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text)}else"Json"==o&&(this.ViewModel.DisplayMessage=i.GenerateJSON(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR3B",this.txtGSTIN.Text))}else this.ViewModel.DisplayMessage="First Load Report";else if("RETSUBMIT"==o){if(C.J0.IsEmpty(this.txtGSTIN.Text))return void(this.ViewModel.DisplayMessage="Enter GSTIN");if(C.J0.IsEmpty(this.txtUserName.Text))return void(this.ViewModel.DisplayMessage="Enter UserName");let i=new Q(this.ViewModel.lstGridViewModel);this.ViewModel.DisplayMessage=i.SubmitingGSTR(this.dtReturnDate.Date.iMonth().toString()+this.dtReturnDate.Date.getFullYear().toString(),"GSTR3B",this.txtUserName.Text,this.txtGSTIN.Text,this.txtOTP.Text,o)}}addEmptyRows(o,i){let a=j.Wp.decode_range(o["!ref"]);a.e.r+=i,o["!ref"]=j.Wp.encode_range(a)}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let o=Date.Today();this.dtReturnDate.Date=new Date(o.getFullYear(),o.getMonth(),1),this.dtToDate.Date=new Date(o.getFullYear(),o.getMonth(),o.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}function ee(A,o){if(1&A&&(l.j41(0,"div",7),l.EFF(1,"\n                "),l.eu8(2,4),l.EFF(3,"\n            "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.dtToDate)("group",i.form)}}function oe(A,o){if(1&A&&(l.j41(0,"div",16),l.EFF(1,"\n                        "),l.eu8(2,4),l.EFF(3,"\n                    "),l.k0s()),2&A){const i=l.XpG().$implicit,a=l.XpG();l.R7$(2),l.Y8G("obj",a.obj.lstGridViewModel[i.Name])("group",a.form)}}function ae(A,o){if(1&A){const i=l.RV6();l.qex(0),l.EFF(1,"\n                "),l.j41(2,"tab",14),l.bIt("selectTab",function(){const p=l.eBV(i).$implicit;return l.Njj(p.IsAccordionOpen=!0)}),l.EFF(3,"\n                    "),l.DNE(4,oe,4,2,"div",15),l.EFF(5,"\n                "),l.k0s(),l.EFF(6,"\n              "),l.bVm()}if(2&A){const i=o.$implicit,a=l.XpG();l.R7$(2),l.Y8G("heading",i.Header)("removable",!1),l.R7$(2),l.Y8G("ngIf",a.obj.lstGridViewModel[i.Name].Columns.length>0)}}let ie=(()=>{class A extends te{constructor(){super(),this.form=new P.gE({})}ngOnInit(){this.params?.obj&&(this.obj=this.params?.obj),this.ViewModel=this.params?.obj,0!=this.obj.lstGridViewModel.length&&(this.tabMainVisibile=!1,this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),y.d.page.removeTab(this.obj)))}LoadData(){for(let i=0;i<this.obj.lstGridViewModel.keys.length&&i<1;i++){let a=this.obj.lstGridViewModel.keys[i],p=new J;if(p.ReportBuilder_2(this.obj.dicReportID[a],a),this.obj.lstGSTReport.push(a,p),p.cmbReport_SelectionChanged(null,null),p.GetReportConfiguration(),p.DisplayMessage.length>0)return void(this.obj.DisplayMessage=p.DisplayMessage);if(p.objReport.QUERY=p.GetQuery(!0),0==p.objReport.QUERY.length&&"GSTR3_GSTR3B_OutwardInterStateDetail"!=a)return void(this.obj.DisplayMessage="Select Documents")}}static{this.\u0275fac=function(a){return new(a||A)}}static{this.\u0275cmp=l.VBU({type:A,selectors:[["app-gstr3"]],standalone:!1,features:[l.Vt3],decls:53,vars:6,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-3","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-3 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"form-group","col-xl-6","col-md-6","col-sm-12","col-xs-12","PACTControl",2,"display","block"],[1,"primary-btn-wicon",2,"width","70px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"selectTab","heading","removable"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(a,p){1&a&&(l.j41(0,"div",0),l.EFF(1,"\n    "),l.j41(2,"div",1),l.EFF(3,"\n        "),l.j41(4,"label",2),l.EFF(5,"GSTR-3"),l.k0s(),l.EFF(6,"\n        "),l.j41(7,"div",3),l.EFF(8,"\n            "),l.eu8(9,4),l.EFF(10,"\n        "),l.k0s(),l.EFF(11,"\n    "),l.k0s(),l.EFF(12,"\n    "),l.j41(13,"div",5),l.EFF(14,"\n        "),l.j41(15,"div",6),l.EFF(16,"\n            "),l.j41(17,"div",7),l.EFF(18,"\n                "),l.eu8(19,4),l.EFF(20,"\n            "),l.k0s(),l.EFF(21,"\n            "),l.DNE(22,ee,4,2,"div",8),l.EFF(23,"\n            "),l.j41(24,"div",9),l.EFF(25,"\n                "),l.j41(26,"button",10),l.bIt("click",function(){return p.Button_Click("GetData")}),l.EFF(27,"Get Data"),l.k0s(),l.EFF(28,"\n                "),l.j41(29,"button",10),l.bIt("click",function(){return p.Button_Click("Export")}),l.EFF(30,"Export"),l.k0s(),l.EFF(31,"\n                "),l.j41(32,"button",10),l.bIt("click",function(){return p.Button_Click("Json")}),l.EFF(33,"Json"),l.k0s(),l.EFF(34,"\n                "),l.j41(35,"button",10),l.bIt("click",function(){return p.Button_Click("RETSAVE")}),l.EFF(36,"Upload"),l.k0s(),l.EFF(37,"\n                "),l.j41(38,"button",10),l.bIt("click",function(){return p.Button_Click("RETSUBMIT")}),l.EFF(39,"Submit"),l.k0s(),l.EFF(40,"\n                "),l.EFF(41,"\n            "),l.k0s(),l.EFF(42,"\n        "),l.k0s(),l.EFF(43,"\n        \n        "),l.j41(44,"div",11),l.EFF(45,"\n            "),l.j41(46,"tabset",12),l.EFF(47,"\n               "),l.DNE(48,ae,7,3,"ng-container",13),l.EFF(49,"\n            "),l.k0s(),l.EFF(50,"\n        "),l.k0s(),l.EFF(51,"\n    "),l.k0s(),l.EFF(52,"\n"),l.k0s()),2&a&&(l.R7$(9),l.Y8G("obj",p.chkToDate)("group",p.form),l.R7$(10),l.Y8G("obj",p.dtReturnDate)("group",p.form),l.R7$(3),l.Y8G("ngIf",p.dtToDate.Visible),l.R7$(26),l.Y8G("ngForOf",p.obj.Tab.Tabs))},dependencies:[x.Sq,x.bT,_.V6,_.fw,k._],encapsulation:2})}}return A})();class ne extends w.g{constructor(){super(),this.GSTR1=["b2b","b2cl","b2cs","cdnr","exemp","exp","at","atadj"],this.lstGSTReport=new R.bT,this.dicReportID=new R.bT,this.PreviewGrid=new U.vv,this.PreviewGrid.Width="",this.PreviewGrid.Height=0,this.PreviewGrid.Columns=new Array;let o=new C.VB;o.LoadXml(E.ColumnsXML("GSTR1Summary",W.None));for(let a=0;a<o.DocumentElement.children.length;a++){let u=new $(o.DocumentElement.children[a]);if(u.InUse){let s=new v.O7;s.Header=u.Caption,s.DisplayMember=u.ID,s.Width=u.Width,s.ReadOnly=!0,s.DataType=u.DType,"FLOAT"==s.DataType&&(s.DecimalPoints=C.J0.IsEmpty(u.Decimals)?"2":u.Decimals,"SUM"==u.Agg&&(s.ShowTotal=!0,s.IsCalculated=1)),this.PreviewGrid.Columns.push(s)}}let i=y.d.common.GetDataTable("GST001","");for(let a=0;a<this.GSTR1.length;a++){let p=this.GSTR1[a],u=i.filter(t=>t.ReportName==p);0!=u.length&&((new U.vv).Width="",this.dicReportID.push(p,parseInt(u[0].ReportID)))}0==this.dicReportID.length?this.DisplayMessage="No GSTR1 Reports Found":this.LoadData()}LoadData(){for(let o=0;o<this.dicReportID.keys.length;o++){let i={Key:this.dicReportID.keys[o]},a=new J;if(a.ReportBuilder_2(this.dicReportID[i.Key],i.Key),a.ParentGSTType=W.GSTR1Summary,this.lstGSTReport.push(i.Key,a),a.cmbReport_SelectionChanged(null,null),a.GetReportConfiguration(),a.DisplayMessage.length>0)return void(this.DisplayMessage=a.DisplayMessage);if(a.objReport.QUERY=a.GetQuery(!0),0==a.objReport.QUERY.length)return void(this.DisplayMessage="Select Documents @ "+a.GSTType);"b2b"==a.GSTType||"b2cl"==a.GSTType||"b2cs"==a.GSTType||"cdnr"==a.GSTType?a.objReport.QUERY="select count(*) CNT,sum(InvValue) InvValue,sum(TaxableValue) TaxableValue,sum(CessAmt) CessAmt,sum(IntTaxAmt) IntTaxAmt,sum(CTaxAmt) CTaxAmt,sum(STaxAmt) STaxAmt from ("+a.objReport.QUERY+") as T":"exp"==a.GSTType?a.objReport.QUERY="select count(*) CNT,sum(InvValue) InvValue,sum(TaxableValue) TaxableValue,sum(IntTaxAmt) IntTaxAmt,sum(CTaxAmt) CTaxAmt,sum(STaxAmt) STaxAmt from ("+a.objReport.QUERY+") as T":"exemp"==a.GSTType&&(a.objReport.QUERY="select count(*) CNT,sum(NilRated) TaxableValue,sum(NilRated) InvValue from ("+a.objReport.QUERY+") as T")}}OnSubmit(o,i){this.PreviewGrid.Clear();for(let a=0;a<this.lstGSTReport.length;a++){let p={Key:this.lstGSTReport.keys[a]},u=M.SetQueryWhere(this.lstGSTReport[p.Key].objReport.QUERY,p.Key,o,i);console.log(p.Key+" Query :\r\n"+u);let s=y.d.report.ReportDataSet("RPT022",!1,u);if(null!=s&&s.Tables.length>0){if(s.Columns[0].Contains("ErrorMessage"))return void(this.DisplayMessage=s.Tables[0][0].ErrorMessage.toString());"at"==p.Key?Y.Update_at(s,!0):"atadj"==p.Key&&Y.Update_atadj(s,!0);let t=this.PreviewGrid.NewRow();t.Particulars="b2b"==p.Key?"B2B Invoices":"b2cl"==p.Key?"B2C(Large) Invoices":"b2cs"==p.Key?"B2C(Small) Invoices":"cdnr"==p.Key?"Credit/Debit Notes":"exemp"==p.Key?"Nil Rated Invoices":"exp"==p.Key?"Exports Invoices":"at"==p.Key?"Tax Liability on Advances":"atadj"==p.Key?"Setoff Tax Paid against Advances":p.Key,s.Tables[0].length>0&&this.PreviewGrid.Columns.forEach(m=>{s.Columns[0].Contains(m.DisplayMember)&&(t[m.DisplayMember]=s.Tables[0][0][m.DisplayMember])}),this.PreviewGrid.addRow(t)}}this.PreviewGrid.UpdateTotals()}}class Dt extends w.g{constructor(){super(),this.GSTR3=["GSTR3_GSTR3B_Outward"],this.lstGSTReport=new R.bT,this.lstGridViewModel=new R.bT,this.dicReportID=new R.bT,this.dsGSTR2b2b=null,this.dsGSTR2b2bur=null,this.dtTaxTypeFilters=null,this.Tab=new L.Z,M.GSTR3ViewModel=Dt;let o=y.d.common.GetDataTable("GST006","");for(let i=0;i<this.GSTR3.length;i++){let a=this.GSTR3[i],p=o.filter(t=>t.ReportName==a);if(0==p.length)continue;let u=new U.vv;u.Width="",u.Height=0,this.lstGridViewModel.push(a,u),this.dicReportID.push(a,parseInt(p[0].ReportID));let s=new L.O;s.Name=a,s.Header=a.replace("GSTR3_",""),s.Fields.push(u),this.Tab.Tabs.push(s),"GSTR3_GSTR3B_Outward"==a&&(s.Header="3.1 Details of Outward and Inward",this.AddTab("GSTR3_GSTR3B_OutwardDetail","3.2 Details of inter-state"),this.AddTab("GSTR3_GSTR3B_EligibleITC","4.Eligible ITC"),this.AddTab("GSTR3_GSTR3B_5","5.Values of exempt, Nil-rated and non-GST inward"),this.AddTab("GSTR3_GSTR3B_5_1","5.1 Interest & late fee payable"))}0==this.lstGridViewModel.length&&(this.DisplayMessage="No GSTR3 Reports Found")}AddTab(o,i){let a=new U.vv;a.Width="",a.Height=0;let p=new C.VB;p.LoadXml(E.ColumnsXML(o,W.None));let u=new Array;for(let t=0;t<p.DocumentElement.children.length;t++){let r=new $(p.DocumentElement.children[t]);r.dgColumn.DataType=r.DType,r.dgColumn.FilterCondition="",r.dgColumn.FilterColumn="",r.dgColumn.ValueMember="",r.dgColumn.DisplayMember=r.ID,r.dgColumn.ReadOnly=!0,r.dgColumn.ShowTotal=!0,"FLOAT"==r.DType&&(r.dgColumn.DecimalPoints=C.J0.IsEmpty(r.Decimals)?"2":r.Decimals,"GSTR3_GSTR3B_EligibleITC"==o||"GSTR3_GSTR3B_5"==o?r.dgColumn.ShowTotal=!1:"SUM"==r.Agg&&(r.dgColumn.ShowTotal=!0,r.dgColumn.IsCalculated=1)),u.push(r.dgColumn)}a.Columns=u,this.lstGridViewModel.push(o,a);let s=new L.O;s.Name=o,s.Header=i,s.Fields.push(a),this.Tab.Tabs.push(s)}static Update_GSTR3_GSTR3B(o,i,a,p,u){let s,t=null,m="",r=[];if("GSTR3_GSTR3B_Outward"==o){if(s={},s.Description="(a) Outward Taxable  supplies  (other than zero rated, nil rated and exempted)",i.Tables[0].length>0&&(m="",i.Tables[1].forEach(D=>{m.length>0&&(m+=" and "),m+="GSTTaxType<>'"+D.Caption.toString()+"'"}),m="(("+m+") or GSTTaxType is null) and (GSTPartyType is null or (GSTPartyType<>'Export' and GSTPartyType<>'SEZ' and GSTPartyType<>'Deemed Export' and GSTPartyType<>'Government Entity'))",s.TaxableValue=i.Tables[0].Compute("sum(TaxableValue)",m),s.IntTaxAmt=i.Tables[0].Compute("sum(IntTaxAmt)",m),s.CTaxAmt=i.Tables[0].Compute("sum(CTaxAmt)",m),s.STaxAmt=i.Tables[0].Compute("sum(STaxAmt)",m),s.CessAmt=i.Tables[0].Compute("sum(CessAmt)",m)),r.push(s),s={},s.Description="(b) Outward Taxable  supplies  (zero rated )",i.Tables[0].length>0){let D=i.Tables[1].fiter("Type='ZERO'");D.length>0&&(m="GSTTaxType='"+D[0].Caption.toString()+"' or (GSTPartyType='Export' or GSTPartyType='SEZ' or GSTPartyType='Deemed Export' or GSTPartyType='Government Entity')",s.TaxableValue=i.Tables[0].Compute("sum(TaxableValue)",m),s.IntTaxAmt=i.Tables[0].Compute("sum(IntTaxAmt)",m),s.CessAmt=i.Tables[0].Compute("sum(CessAmt)",m))}if(r.push(s),s={},s.Description="(c) Other Outward Taxable  supplies (Nil rated, exempted)",i.Tables[0].length>0){let D=i.Tables[1].filter(T=>"NIL"==T.Type||"EXEMPTED"==T.Type);D.length>1&&(m="(GSTTaxType='"+D[0].Caption.toString()+"' or GSTTaxType='"+D[1].Caption.toString()+"')",s.TaxableValue=i.Tables[0].Compute("sum(TaxableValue)",m))}r.push(s),s={},s.Description="(d) Inward supplies (liable to reverse charge) ";let e,n=y.d.common.GetDataTable("GST007","GSTR2_b2b");if(n.length>0){let D=n[0].Query.toString();D=M.SetQueryWhere(D,"GSTR3_GSTR3B_Outward",a,p),e=y.d.report.ReportDataSet("RPT022",!1,D),e.Tables[0].length>0&&(b.Add_AvailedITC("GSTR2_b2b",e),null!=u&&(u.dsGSTR2b2b=e.Copy()),e.Tables[0].length>0&&(s.TaxableValue=e.Tables[0].Compute("sum(TaxableValue)","ReverseCharge='Y' or ReverseCharge='YES'"),s.IntTaxAmt=e.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),s.CTaxAmt=e.Tables[0].Compute("sum(CTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),s.STaxAmt=e.Tables[0].Compute("sum(STaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),s.CessAmt=e.Tables[0].Compute("sum(CessAmt)","ReverseCharge='Y' or ReverseCharge='YES'")))}if(n=y.d.common.GetDataTable("GST007","GSTR2_b2bur"),n.length>0){let D=n[0].Query.toString();if(D=M.SetQueryWhere(D,"GSTR2_b2bur",a,p),e=y.d.report.ReportDataSet("RPT022",!1,D),e.Tables[0].length>0&&(b.Add_AvailedITC("GSTR2_b2bur",e),null!=u&&(u.dsGSTR2b2bur=e.Copy()),e.Tables[0].length>0)){let T=e.Tables[0].Compute("sum(TaxableValue)","ReverseCharge='Y' or ReverseCharge='YES'");null!=T&&(s.TaxableValue=null==s.TaxableValue?T:parseFloat(s.TaxableValue)+parseFloat(T)),T=e.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),null!=T&&(s.IntTaxAmt=null==s.IntTaxAmt?T:parseFloat(s.IntTaxAmt)+parseFloat(T)),T=e.Tables[0].Compute("sum(CTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),null!=T&&(s.CTaxAmt=null==s.CTaxAmt?T:parseFloat(s.CTaxAmt)+parseFloat(T)),T=e.Tables[0].Compute("sum(STaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),null!=T&&(s.STaxAmt=null==s.STaxAmt?T:parseFloat(s.STaxAmt)+parseFloat(T)),T=e.Tables[0].Compute("sum(CessAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),null!=T&&(s.CessAmt=null==s.CessAmt?T:parseFloat(s.CessAmt)+parseFloat(T))}}if(r.push(s),s={},s.Description="(e) Non-GST Outward supplies",i.Tables[0].length>0){let D=i.Tables[1].filter(T=>"NONGST"==T.Type);D.length>0&&(m="GSTTaxType='"+D[0].Caption.toString()+"'",s.TaxableValue=i.Tables[0].Compute("sum(TaxableValue)",m))}r.push(s)}else if("GSTR3_GSTR3B_OutwardDetail"==o){t=i.Tables[0].filter(n=>n.FromState!=n.ToState),t.SortBy(["Pos"]);let e=new R.bT;t.forEach(n=>{let D=n.PoS.toString();e.ContainsKey(D)||e.push(D,new Array(6).fill(0)),0==C.J0.stringCompare(n.GSTRegistrationType.toString(),"Unregistered",!0)?(null!=n.TaxableValue&&(e[D][0]+=parseFloat(n.TaxableValue)),null!=n.IntTaxAmt&&(e[D][1]+=parseFloat(n.IntTaxAmt))):0==C.J0.stringCompare(n.GSTRegistrationType.toString(),"Composition",!0)?(null!=n.TaxableValue&&(e[D][2]+=parseFloat(n.TaxableValue)),null!=n.IntTaxAmt&&(e[D][3]+=parseFloat(n.IntTaxAmt))):(0==C.J0.stringCompare(n.GSTRegistrationType.toString(),"UIN holders",!0)||0==C.J0.stringCompare(n.GSTRegistrationType.toString(),"UINholders",!0))&&(null!=n.TaxableValue&&(e[D][4]+=parseFloat(n.TaxableValue)),null!=n.IntTaxAmt&&(e[D][5]+=parseFloat(n.IntTaxAmt)))}),e.keys.forEach(n=>{let D={Key:n,Value:e[n]};0==D.Value[0]&&0==D.Value[1]&&0==D.Value[2]&&0==D.Value[3]&&0==D.Value[4]&&0==D.Value[5]||(s={},s.PoS=D.Key,s.TaxableValueUnregistered=D.Value[0],s.IntTaxAmtUnregistered=D.Value[1],s.TaxableValueComposition=D.Value[2],s.IntTaxAmtComposition=D.Value[3],s.TaxableValueUINholders=D.Value[4],s.IntTaxAmtUINholders=D.Value[5],r.push(s))})}else if("GSTR3_GSTR3B_EligibleITC"==o){let e,n=null,D=0,T=0,h=0,d=0,I=0;s={},s.Details="(A) ITC Available (Whether in full or part)",s.StyleIsBold=1,r.push(s),s={},s.Details="   (1)\xa0Import of goods";let c=y.d.common.GetDataTable("GST007","GSTR2_impg");if(c.length>0){let N=c[0].Query.toString();N=M.SetQueryWhere(N,"GSTR2_impg",a,p);let f=y.d.report.ReportDataSet("RPT022",!1,N);f.Tables[0].length>0&&(b.Add_AvailedITC("GSTR2_impg",f),f.Tables[0].length>0&&(e=f.Tables[0].Compute("sum(IntTaxAmt)",""),I=null!=e?parseFloat(e):0,s.IntTaxAmt=I,D+=I,e=f.Tables[0].Compute("sum(CessAmt)",""),I=null!=e?parseFloat(e):0,s.CessAmt=I,d+=I))}if(r.push(s),s={},s.Details="   (2)\xa0Import of services",c=y.d.common.GetDataTable("GST007","GSTR2_imps"),c.length>0){let N=c[0].Query.toString();N=M.SetQueryWhere(N,"GSTR2_imps",a,p);let f=y.d.report.ReportDataSet("RPT022",!1,N);f.Tables[0].length>0&&(b.Add_AvailedITC("GSTR2_imps",f),f.Tables[0].length>0&&(e=f.Tables[0].Compute("sum(IntTaxAmt)",""),I=null!=e?parseFloat(e):0,s.IntTaxAmt=I,D+=I,e=f.Tables[0].Compute("sum(CessAmt)",""),I=null!=e?parseFloat(e):0,s.CessAmt=I,d+=I))}if(r.push(s),s={},s.Details="   (3) Inward supplies liable to reverse charge(other than 1 &2 above)",null!=u.dsGSTR2b2b&&(e=u.dsGSTR2b2b.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),I=null!=e?parseFloat(e):0,s.IntTaxAmt=I,D+=I,e=u.dsGSTR2b2b.Tables[0].Compute("sum(ITCCTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),I=null!=e?parseFloat(e):0,s.CTaxAmt=I,T+=I,e=u.dsGSTR2b2b.Tables[0].Compute("sum(ITCSTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),I=null!=e?parseFloat(e):0,s.STaxAmt=I,h+=I,e=u.dsGSTR2b2b.Tables[0].Compute("sum(ITCCessAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),I=null!=e?parseFloat(e):0,s.CessAmt=I,d+=I),null!=u.dsGSTR2b2bur&&(e=u.dsGSTR2b2bur.Tables[0].Compute("sum(IntTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),I=null!=e?parseFloat(e):0,D+=I,null!=e&&(s.IntTaxAmt=null==s.IntTaxAmt?I:parseFloat(s.IntTaxAmt)+I),e=u.dsGSTR2b2bur.Tables[0].Compute("sum(ITCCTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),I=null!=e?parseFloat(e):0,T+=I,null!=e&&(s.CTaxAmt=null==s.CTaxAmt?I:parseFloat(s.CTaxAmt)+I),e=u.dsGSTR2b2bur.Tables[0].Compute("sum(ITCSTaxAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),I=null!=e?parseFloat(e):0,h+=I,null!=e&&(s.STaxAmt=null==s.STaxAmt?I:parseFloat(s.STaxAmt)+I),e=u.dsGSTR2b2bur.Tables[0].Compute("sum(ITCCessAmt)","ReverseCharge='Y' or ReverseCharge='YES'"),I=null!=e?parseFloat(e):0,d+=I,null!=e&&(s.CessAmt=null==s.CessAmt?I:parseFloat(s.CessAmt)+I)),r.push(s),s={},s.Details="   (4) Inward supplies from ISD",r.push(s),c=y.d.common.GetDataTable("GST007","GSTR2_cdnr"),c.length>0){let N=c[0].Query.toString();N=M.SetQueryWhere(N,"GSTR2_cdnr",a,p),n=y.d.report.ReportDataSet("RPT022",!1,N),null!=n&&n.Tables[0].length>0&&b.Add_AvailedITC("GSTR2_cdnr",n)}s={},s.Details="   (5) All other ITC",null!=u.dsGSTR2b2b&&(e=u.dsGSTR2b2b.Tables[0].Compute("sum(ITCIntTaxAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"),I=null!=e?parseFloat(e):0,s.IntTaxAmt=I,D+=I,e=u.dsGSTR2b2b.Tables[0].Compute("sum(ITCCTaxAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"),I=null!=e?parseFloat(e):0,s.CTaxAmt=I,T+=I,e=u.dsGSTR2b2b.Tables[0].Compute("sum(ITCSTaxAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"),I=null!=e?parseFloat(e):0,s.STaxAmt=I,h+=I,e=u.dsGSTR2b2b.Tables[0].Compute("sum(ITCCessAmt)","GSTRegistrationType='Regular' and (ReverseCharge is null or (ReverseCharge<>'Y' and ReverseCharge<>'YES'))"),I=null!=e?parseFloat(e):0,s.CessAmt=I,d+=I),null!=n&&n.Tables[0].length>0&&(e=n.Tables[0].Compute("sum(ITCIntTaxAmt)","DocumentType='C'"),I=null!=e?parseFloat(e):0,s.IntTaxAmt=I+(null==s.IntTaxAmt?0:parseFloat(s.IntTaxAmt)),D+=I,e=n.Tables[0].Compute("sum(ITCCTaxAmt)","DocumentType='C'"),I=null!=e?parseFloat(e):0,s.CTaxAmt=I+(null==s.CTaxAmt?0:parseFloat(s.CTaxAmt)),T+=I,e=n.Tables[0].Compute("sum(ITCSTaxAmt)","DocumentType='C'"),I=null!=e?parseFloat(e):0,s.STaxAmt=I+(null==s.STaxAmt?0:parseFloat(s.STaxAmt)),h+=I,e=n.Tables[0].Compute("sum(ITCCessAmt)","DocumentType='C'"),I=null!=e?parseFloat(e):0,s.CessAmt=I+(null==s.CessAmt?0:parseFloat(s.CessAmt)),d+=I,e=n.Tables[0].Compute("sum(ITCIntTaxAmt)","DocumentType='D'"),I=null!=e?parseFloat(e):0,s.IntTaxAmt=(null==s.IntTaxAmt?0:parseFloat(s.IntTaxAmt))-I,D-=I,e=n.Tables[0].Compute("sum(ITCCTaxAmt)","DocumentType='D'"),I=null!=e?parseFloat(e):0,s.CTaxAmt=(null==s.CTaxAmt?0:parseFloat(s.CTaxAmt))-I,T-=I,e=n.Tables[0].Compute("sum(ITCSTaxAmt)","DocumentType='D'"),I=null!=e?parseFloat(e):0,s.STaxAmt=(null==s.STaxAmt?0:parseFloat(s.STaxAmt))-I,h-=I,e=n.Tables[0].Compute("sum(ITCCessAmt)","DocumentType='D'"),I=null!=e?parseFloat(e):0,s.CessAmt=(null==s.CessAmt?0:parseFloat(s.CessAmt))-I,d-=I),r.push(s),s={},s.Details="(B) ITC Reversed",s.StyleIsBold=1,r.push(s),s={},s.Details="   (1)\xa0As per Rule 42 & 43 of SGST/CGST rules ",r.push(s),s={},s.Details="   (2) Others",r.push(s),s={},s.Details="(C) Net ITC Available (A)-(B)",s.StyleIsBold=1,s.IntTaxAmt=D,s.CTaxAmt=T,s.STaxAmt=h,s.CessAmt=d,r.push(s),s={},s.Details="(D) Ineligible ITC",s.StyleIsBold=1,r.push(s),s={},s.Details="   (1) As per section 17(5) of CGST/SGST Act",null!=u.dsGSTR2b2b&&(e=u.dsGSTR2b2b.Tables[0].Compute("sum(IntTaxAmt)-sum(ITCIntTaxAmt)","GSTRegistrationType='Regular'"),I=null!=e?parseFloat(e):0,s.IntTaxAmt=I,D+=I,e=u.dsGSTR2b2b.Tables[0].Compute("sum(CTaxAmt)-sum(ITCCTaxAmt)","GSTRegistrationType='Regular'"),I=null!=e?parseFloat(e):0,s.CTaxAmt=I,T+=I,e=u.dsGSTR2b2b.Tables[0].Compute("sum(STaxAmt)-sum(ITCSTaxAmt)","GSTRegistrationType='Regular'"),I=null!=e?parseFloat(e):0,s.STaxAmt=I,h+=I,e=u.dsGSTR2b2b.Tables[0].Compute("sum(CessAmt)-sum(ITCCessAmt)","GSTRegistrationType='Regular'"),I=null!=e?parseFloat(e):0,s.CessAmt=I,d+=I),r.push(s),s={},s.Details="   (2) Others",r.push(s),s={},s.Details="TOTAL",s.StyleIsBold=1,s.IntTaxAmt=D,s.CTaxAmt=T,s.STaxAmt=h,s.CessAmt=d,r.push(s)}else if("GSTR3_GSTR3B_5"==o){let n=0,D=0,T=0;if(s={},s.Natureofsupplies="From a supplier under composition scheme, Exempt  and Nil rated supply",s.InterState=0,s.IntraState=0,null!=u.dsGSTR2b2b){let h=u.dtTaxTypeFilters.filter(d=>"NIL"==d.Type||"EXEMPTED"==d.Type);if(h.length>1){m="GSTRegistrationType='Composition' or GSTTaxType='"+h[0].Caption.toString()+"' or GSTTaxType='"+h[1].Caption.toString()+"'",t=u.dsGSTR2b2b.Tables[0].filter(d=>"Composition"==d.GSTRegistrationType||"Exempted"==d.GSTTaxType||"Nil"==d.GSTTaxType);for(let d=0;d<t.length;d++){let I=t[d];null!=I.TaxableValue&&(T=parseFloat(I.TaxableValue),"Inter State"==I.SupplyType.toString()?(s.InterState=parseFloat(s.InterState)+T,n+=T):(s.IntraState=parseFloat(s.IntraState)+T,D+=T))}}}if(null!=u.dsGSTR2b2bur){let h=u.dtTaxTypeFilters.filter(d=>"NIL"==d.Type||"EXEMPTED"==d.Type);if(h.length>1){m="GSTRegistrationType='Composition' or GSTTaxType='"+h[0].Caption.toString()+"' or GSTTaxType='"+h[1].Caption.toString()+"'",t=u.dsGSTR2b2bur.Tables[0].filter(d=>d.strFilter);for(let d=0;d<t.length;d++){let I=t[d];null!=I.TaxableValue&&(T=parseFloat(I.TaxableValue),"Inter State"==I.SupplyType.toString()?(s.InterState=parseFloat(s.InterState)+T,n+=T):(s.IntraState=parseFloat(s.IntraState)+T,D+=T))}}}if(r.push(s),s={},s.Natureofsupplies="Non GST supply",s.InterState=0,s.IntraState=0,null!=u.dsGSTR2b2b){let h=u.dtTaxTypeFilters.filter(d=>"NONGST"==d.Type);if(h.length>0){m="GSTTaxType='"+h[0].Caption.toString()+"'",t=u.dsGSTR2b2b.Tables[0].filter(d=>d.strFilter);for(let d=0;d<t.length;d++){let I=t[d];null!=I.TaxableValue&&(T=parseFloat(I.TaxableValue),"Inter State"==I.SupplyType.toString()?(s.InterState=parseFloat(s.InterState)+T,n+=T):(s.IntraState=parseFloat(s.IntraState)+T,D+=T))}}}if(null!=u.dsGSTR2b2bur){let h=u.dtTaxTypeFilters.filter(d=>"NONGST"==d.Type);if(h.length>0){m="GSTTaxType='"+h[0].Caption.toString()+"'",t=u.dsGSTR2b2bur.Tables[0].filter(d=>d.strFilter);for(let d=0;d<t.length;d++){let I=t[d];null!=I.TaxableValue&&(T=parseFloat(I.TaxableValue),"Inter State"==I.SupplyType.toString()?(s.InterState=parseFloat(s.InterState)+T,n+=T):(s.IntraState=parseFloat(s.IntraState)+T,D+=T))}}}r.push(s),s={},s.Natureofsupplies="Total",s.StyleIsBold=1,s.InterState=n,s.IntraState=D,r.push(s)}i.Tables.Clear(),i.Tables.push(r)}}class le{constructor(){this.dtReturnDate=new F.Lc,this.dtToDate=new F.Lc,this.chkToDate=new B.c,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(o){if(this.ViewModel.DisplayMessage="","Submit"==o){let i=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),a=null;this.dtToDate.Visible&&(i=this.dtReturnDate.Date,a=this.dtToDate.Date);for(let p=0;p<this.ViewModel.lstGridViewModel.length;p++){let u={Key:this.ViewModel.lstGridViewModel.keys[p],Value:this.ViewModel.lstGridViewModel.values[p]},s=M.SetQueryWhere(this.ViewModel.lstGSTReport[u.Key].objReport.QUERY,u.Key,i,a),t=y.d.report.ReportDataSet("RPT022",!1,s);if(null!=t&&t.Tables.length>0){if(t.Columns[0].Contains("ErrorMessage"))return void(this.ViewModel.DisplayMessage=t.Tables[0][0].ErrorMessage.toString());let m=new Array;M.ResetData(u.Key,t,i,a,m);let r=new Array;for(let e=1;e<this.ViewModel.lstGSTReport[u.Key].ReportGrid.Columns.length;e++){let n=this.ViewModel.lstGSTReport[u.Key].ReportGrid.Columns[e];if(0==n.CurrID)continue;let D=new v.O7;D.ID=n.ID,D.Header=n.Header,D.Width=n.Width,D.ReadOnly=!0,D.DisplayMember=m.Contains(n.ID)?n.ID+"_Key":n.ID;let T=this.ViewModel.lstGSTReport[u.Key].Columns.find(h=>h.ID==n.ID);D.DataType=T.DType,"FLOAT"==D.DataType&&(D.DecimalPoints=C.J0.IsEmpty(T.Decimals)?"2":T.Decimals,"SUM"==T.Agg&&(D.ShowTotal=!0,D.IsCalculated=1)),r.push(D)}t.Tables[0].forEach(e=>{e.id=u.Value.rowid}),u.Value.Table=t.Tables[0],u.Value.Columns=r,u.Value.RefreshColumns(),u.Value.UpdateTotals()}}}}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let o=Date.Today();this.dtReturnDate.Date=new Date(o.getFullYear(),o.getMonth(),1),this.dtToDate.Date=new Date(o.getFullYear(),o.getMonth(),o.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}function Ce(A,o){if(1&A&&(l.j41(0,"div",7),l.EFF(1,"\n                "),l.eu8(2,4),l.EFF(3,"\n            "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.dtToDate)("group",i.form)}}function se(A,o){if(1&A&&(l.j41(0,"div",15),l.EFF(1,"\n                        "),l.eu8(2,4),l.EFF(3,"\n                    "),l.k0s()),2&A){const i=l.XpG().$implicit,a=l.XpG();l.R7$(2),l.Y8G("obj",a.obj.lstGridViewModel[i.Name])("group",a.form)}}function pe(A,o){if(1&A){const i=l.RV6();l.qex(0),l.EFF(1,"\n                "),l.j41(2,"tab",13),l.bIt("selectTab",function(){const p=l.eBV(i).$implicit;return l.Njj(p.IsAccordionOpen=!0)}),l.EFF(3,"\n                    "),l.DNE(4,se,4,2,"div",14),l.EFF(5,"\n                "),l.k0s(),l.EFF(6,"\n              "),l.bVm()}if(2&A){const i=o.$implicit,a=l.XpG();l.R7$(2),l.Y8G("heading",i.Header)("removable",!1),l.R7$(2),l.Y8G("ngIf",a.obj.lstGridViewModel[i.Name].Columns.length>0)}}let re=(()=>{class A extends le{constructor(){super(),this.form=new P.gE({})}ngOnInit(){this.params?.obj&&(this.obj=this.params?.obj),this.ViewModel=this.params?.obj,0!=this.obj.lstGridViewModel.length&&(this.LoadData(),this.obj.DisplayMessage.length>0&&(alert(this.obj.DisplayMessage),y.d.page.removeTab(this.obj)))}LoadData(){for(let i=0;i<this.obj.lstGridViewModel.keys.length;i++){let a=this.obj.lstGridViewModel.keys[i],p=new J;if(p.ReportBuilder_2(this.obj.dicReportID[a],a),this.obj.lstGSTReport.push(a,p),p.cmbReport_SelectionChanged(null,null),p.GetReportConfiguration(),p.DisplayMessage.length>0)return void(this.obj.DisplayMessage=a+" :: "+p.DisplayMessage);if(p.objReport.QUERY=p.GetQuery(!0),0==p.objReport.QUERY.length)return void(this.obj.DisplayMessage=a+" :: Select Documents")}}static{this.\u0275fac=function(a){return new(a||A)}}static{this.\u0275cmp=l.VBU({type:A,selectors:[["app-anx1"]],standalone:!1,features:[l.Vt3],decls:41,vars:9,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],[2,"width","140px","padding-left","20px"],["FieldDirective","",3,"obj","group"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-4","col-sm-6","col-xs-12","PACTControl"],["class","form-group col-xl-3 col-md-4 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"primary-btn-wicon",2,"width","80px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],[1,"",2,"width","calc(100% - 30px)"],[4,"ngFor","ngForOf"],[3,"selectTab","heading","removable"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(a,p){1&a&&(l.j41(0,"div",0),l.EFF(1,"\n    "),l.j41(2,"div",1),l.EFF(3,"\n        "),l.j41(4,"label",2),l.EFF(5,"ANX-1"),l.k0s(),l.EFF(6,"\n        "),l.j41(7,"div",3),l.EFF(8,"\n            "),l.eu8(9,4),l.EFF(10,"\n        "),l.k0s(),l.EFF(11,"\n    "),l.k0s(),l.EFF(12,"\n    "),l.j41(13,"div",5),l.EFF(14,"\n        "),l.j41(15,"div",6),l.EFF(16,"\n            "),l.j41(17,"div",7),l.EFF(18,"\n                "),l.eu8(19,4),l.EFF(20,"\n            "),l.k0s(),l.EFF(21,"\n            "),l.DNE(22,Ce,4,2,"div",8),l.EFF(23,"\n            "),l.j41(24,"div",7),l.EFF(25,"\n                "),l.j41(26,"button",9),l.bIt("click",function(){return p.Button_Click("Submit")}),l.EFF(27),l.nI1(28,"translate"),l.k0s(),l.EFF(29,"\n            "),l.k0s(),l.EFF(30,"\n        "),l.k0s(),l.EFF(31,"\n        \n        "),l.j41(32,"div",10),l.EFF(33,"\n            "),l.j41(34,"tabset",11),l.EFF(35,"\n               "),l.DNE(36,pe,7,3,"ng-container",12),l.EFF(37,"\n            "),l.k0s(),l.EFF(38,"\n        "),l.k0s(),l.EFF(39,"\n    "),l.k0s(),l.EFF(40,"\n"),l.k0s()),2&a&&(l.R7$(9),l.Y8G("obj",p.chkToDate)("group",p.form),l.R7$(10),l.Y8G("obj",p.dtReturnDate)("group",p.form),l.R7$(3),l.Y8G("ngIf",p.dtToDate.Visible),l.R7$(5),l.JRh(l.bMT(28,7,"Submit")),l.R7$(9),l.Y8G("ngForOf",p.obj.Tab.Tabs))},dependencies:[x.Sq,x.bT,_.V6,_.fw,k._,Z.D9],encapsulation:2})}}return A})();class Te extends w.g{constructor(){super(),this.ANX1=["ANX1_B2C","ANX1_B2B","ANX1_EXP","ANX1_SEZ","ANX1_DE","ANX1_REV","ANX1_IMPS","ANX1_IMPG","ANX1_IMPGSEZ","ANX1_ECOM"],this.lstGSTReport=new R.bT,this.lstGridViewModel=new R.bT,this.dicReportID=new R.bT,this.Tab=new L.Z;let o=y.d.common.GetDataTable("GST008","");for(let i=0;i<this.ANX1.length;i++){let a=this.ANX1[i],p=o.filter(t=>t.ReportName==a);if(0==p.length)continue;let u=new U.vv;u.Width="",u.Height=0,u.HeaderHeight=36,this.lstGridViewModel.push(a,u),this.dicReportID.push(a,parseInt(p[0].ReportID));let s=new L.O;s.Name=a,s.Header=a.replace("ANX1_",""),s.Fields.push(u),this.Tab.Tabs.push(s)}0==this.lstGridViewModel.length&&(this.DisplayMessage="No ANX1 Reports Found")}static Add_AvailedITC(o,i){let a=!0,p="BillDate",u="BillNo";"ANX1_b2bur"==o||"ANX1_cdnr"==o||"ANX1_cdnur"==o?(p="DocDate",u="VoucherNo"):("ANX1_imps"==o||"ANX1_impg"==o)&&(a=!1),i.Tables[0].Columns.push("ITCIntTaxAmt"),i.Tables[0].Columns.push("ITCCessAmt"),a&&(i.Tables[0].Columns.push("ITCCTaxAmt"),i.Tables[0].Columns.push("ITCSTaxAmt"));let s,t,m,c,N,r=null,e=null,n=0,D=-1235,T=0,h=0,d=0,I=0;for(let f=i.Tables[0].length-1;f>=0;f--)c=i.Tables[0][f],s=c[p].toString(),t=c[u].toString(),m=c.ITCEligible.toString(),n=null==c.Rate?0:parseFloat(c.Rate),r==s&&e==t&&D==n?(N=i.Tables[0][f+1],null!=c.TaxableValue&&(N.TaxableValue=parseFloat(N.TaxableValue)+parseFloat(c.TaxableValue)),null!=c.IntTaxAmt&&(N.IntTaxAmt=parseFloat(N.IntTaxAmt)+parseFloat(c.IntTaxAmt)),null!=c.CessAmt&&(N.CessAmt=parseFloat(N.CessAmt)+parseFloat(c.CessAmt)),a&&(null!=c.CTaxAmt&&(N.CTaxAmt=parseFloat(N.CTaxAmt)+parseFloat(c.CTaxAmt)),null!=c.STaxAmt&&(N.STaxAmt=parseFloat(N.STaxAmt)+parseFloat(c.STaxAmt))),"Ineligible"!=m&&(N.ITCEligible=c.ITCEligible,null!=c.IntTaxAmt&&(T+=parseFloat(c.IntTaxAmt),N.ITCIntTaxAmt=T),null!=c.CessAmt&&(I+=parseFloat(c.CessAmt),N.ITCCessAmt=I),a&&(null!=c.CTaxAmt&&(h+=parseFloat(c.CTaxAmt),N.ITCCTaxAmt=h),null!=c.STaxAmt&&(d+=parseFloat(c.STaxAmt),N.ITCSTaxAmt=d))),i.Tables[0].RemoveAt(f)):(null==c.TaxableValue&&(c.TaxableValue=0),null==c.IntTaxAmt&&(c.IntTaxAmt=0),null==c.CessAmt&&(c.CessAmt=0),a&&(null==c.CTaxAmt&&(c.CTaxAmt=0),null==c.STaxAmt&&(c.STaxAmt=0)),"Ineligible"!=m?(T=parseFloat(c.IntTaxAmt),I=parseFloat(c.CessAmt),c.ITCIntTaxAmt=T,c.ITCCessAmt=I,a&&(h=parseFloat(c.CTaxAmt),d=parseFloat(c.STaxAmt),c.ITCCTaxAmt=h,c.ITCSTaxAmt=d)):T=h=d=I=0,r=s,e=t,D=n);"ANX1_b2bur"==o&&(r=null)}static Update_at(o,i=!1){let a,p,u=null,s=0,t=0,m=0,r=0,e=0,n=0,D="",T="";o.Tables[0].Columns.push("InvValue");for(let d=0;d<o.Tables[0].length;d++){for(a=o.Tables[0][d],D="AccountID="+C.J0.String(a.AccountID)+" and RefDocNo='"+C.J0.String(a.VoucherNo)+"' and AdjAmount!=0",D!=T&&(u=o.Tables[1].filter(I=>I.AccountID==C.J0.String(a.AccountID)&&I.RefDocNo==C.J0.String(a.VoucherNo)&&0!=I.AdjAmount),s=0,T=D),a.InvValue=a.AdvReceived,e=null!=a.AdvReceived?parseFloat(a.AdvReceived):0,e=Math.abs(e),n=e;s<u.length;){if(r=Math.abs(parseFloat(u[s].AdjAmount)),r>=e){u[s].AdjAmount=r-e,e=0,o.Tables[0].RemoveAt(d),d--;break}u[s].AdjAmount=0,e-=r,a.AdvReceived=e,s++}e>0&&(m=null!=a.CessAmt?parseFloat(a.CessAmt):0,m>0&&n!=e&&(m=parseFloat((m*e/n).ToString("N2")),a.CessAmt=m))}let h=[];if(i)p={},o.Tables[0].length>0&&(p.TaxableValue=o.Tables[0].Compute("sum(AdvReceived)",""),p.CessAmt=o.Tables[0].Compute("sum(CessAmt)",""),p.IntTaxAmt=o.Tables[0].Compute("sum(IntTaxAmt)",""),p.CTaxAmt=o.Tables[0].Compute("sum(CTaxAmt)",""),p.STaxAmt=o.Tables[0].Compute("sum(STaxAmt)",""),p.Cnt=o.Tables[0].DefaultView.ToTable(!0,["VoucherNo"]).length),h.push(p);else{p=null,T=null;for(let d=0;d<o.Tables[0].length;d++)a=o.Tables[0][d],D="PoS='"+a.PoS.toString()+"' and Rate="+a.Rate.toString(),D!=T&&(p={},p.PoS=a.PoS,p.Rate=a.Rate,h.push(p),T=D,t=0,m=0),t+=parseFloat(a.AdvReceived),m+=null!=a.CessAmt?parseFloat(a.CessAmt):0,p.AdvReceived=t,p.CessAmt=m}o.Tables.Clear(),o.Tables.push(h)}static Update_atadj(o,i=!1){let a,p,r,e,n,D,u=null,s=0,t=0,m=0,T="",h="";for(let I=0;I<o.Tables[0].length;I++){if(a=o.Tables[0][I],T="AccountID="+C.J0.String(a.AccountID)+" and RefDocNo='"+C.J0.String(a.VoucherNo)+"' and AdjAmount!=0",T!=h){if(u=o.Tables[1].filter(c=>c.AccountID==C.J0.String(a.AccountID)&&c.RefDocNo==C.J0.String(a.VoucherNo)&&0!=c.AdjAmount),0==u.length){o.Tables[0].RemoveAt(I),I--;continue}s=0,h=T}for(e=null!=a.AdvReceived?parseFloat(a.AdvReceived):0,e=Math.abs(e),D=e,n=0;s<u.length;){if(r=Math.abs(parseFloat(u[s].AdjAmount)),r>=e){n+=e,u[s].AdjAmount=r-e,e-=r;break}u[s].AdjAmount=0,n+=r,e-=r,s++}0!=n?(a.AdvAdjusted=n,m=null!=a.CessAmt?parseFloat(a.CessAmt):0,m>0&&0!=n&&D!=n&&(m=parseFloat((m*n/D).ToString("N2")),a.CessAmt=m)):(o.Tables[0].RemoveAt(I),I--)}let d=[];if(i)p={},o.Tables[0].length>0&&(p.TaxableValue=o.Tables[0].Compute("sum(AdvAdjusted)",""),p.CessAmt=o.Tables[0].Compute("sum(CessAmt)",""),p.IntTaxAmt=o.Tables[0].Compute("sum(IntTaxAmt)",""),p.CTaxAmt=o.Tables[0].Compute("sum(CTaxAmt)",""),p.STaxAmt=o.Tables[0].Compute("sum(STaxAmt)",""),p.Cnt=o.Tables[0].DefaultView.ToTable(!0,["VoucherNo"]).length),d.push(p);else{p=null,h=null;for(let I=0;I<o.Tables[0].length;I++)a=o.Tables[0][I],T="PoS='"+a.PoS.toString()+"' and Rate="+a.Rate.toString(),T!=h&&(p={},p.PoS=a.PoS,p.Rate=a.Rate,d.push(p),h=T,t=0,m=0),t+=parseFloat(a.AdvAdjusted),m+=null!=a.CessAmt?parseFloat(a.CessAmt):0,p.AdvAdjusted=t,p.CessAmt=m}o.Tables.Clear(),o.Tables.push(d)}}var De=O(76428);class ue{constructor(){this.ReportColumns=new Array,this.Data=new Array}SetColumns(o){let i=new H.bA;i.Alignment="Right",i.FontFamilyName="Arial",i.FontSize=12,i.BackColor="White",i.ForeColor="Black";let a=new H.bA;a.Alignment="Left",a.FontFamilyName="Arial",a.FontSize=12,a.BackColor="White",a.ForeColor="Black";let p=new H.bA;p.Alignment="Center",p.FontFamilyName="Arial",p.FontSize=12,p.IsBold=!0,p.BackColor="White",p.ForeColor="Black",this.ReportColumns.Clear();for(let u=0;u<o.length;u++){if(!o[u].InUse)continue;let s=new H.yL;s.DecimalsPoints=parseInt(y.d.SessionManager.Preferences.DecimalsinAmount),"Millions"==y.d.SessionManager.Preferences.Commas?s.Commas=1:"Lakhs"==y.d.SessionManager.Preferences.Commas&&(s.Commas=2),s.DateType=y.d.SessionManager.Preferences["Date Format"];let t=new De.D_;t.gridLines=3,t.ID=o[u].ID,t.FieldName=o[u].ID,t.HeaderText=o[u].Caption,t.HeaderAppearance=p,t.DataAppearance=a,t.HeaderHeight=22,t.width=o[u].Width,t.DataFormat=s,t.ColumnType=o[u].DType,"FLOAT"==o[u].DType&&(t.DataAppearance=i),this.ReportColumns.push(t)}}}class me{constructor(){this.objReturn=null,this.ViewModel=null,this.Columns=new Array,this.GridColumns=new Array,this.objRevReport=new ue,this.dtReturnDate=new F.Lc,this.dtToDate=new F.Lc,this.chkToDate=new B.c,this.dtReturnDate.LblWidth="90",this.dtToDate.LblWidth="90",this.dtToDate.Label="To Date",this.dtToDate.Visible=!1,this.dtReturnDate.Date=Date.Today(),this.dtReturnDate.Label="Return Month",this.chkToDate.Label="Show To Date",this.chkToDate.Visible=!1,this.chkToDate.CheckedChangedCommand.Subscribe(this,"onchkToDateClik")}Button_Click(o){try{if(this.DisplayMessage="","Submit"==o){let i=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),1),a=null,p="";this.GSTType.startsWith("VAT")?(a=this.dtToDate.Date,p=M.SetVATQueryWhere(this.Query,this.GSTType,this.dtReturnDate.Date,this.dtToDate.Date)):(this.dtToDate.Visible&&(i=this.dtReturnDate.Date,a=this.dtToDate.Date),p=M.SetQueryWhere(this.Query,this.GSTType,i,a));let u=y.d.report.ReportDataSet("RPT022",!1,p);if(null!=u&&u.Tables.length>0){if(u.Columns[0].Contains("ErrorMessage"))return this.DisplayMessage=u.Tables[0][0].ErrorMessage.toString(),void Logger.ErrorLog(this.DisplayMessage);let s=new Array;if(this.objReturn=M.ResetData(this.GSTType,u,i,a,s),"VATFATPurchaseList"==this.GSTType||"VATFATSupplyList"==this.GSTType){let m=u.Tables[0].filter(r=>"PeriodStart"==r.XMLID);m[0][this.objReturn.ValueColumn]=this.dtReturnDate.Date.ToString("dd-MM-yyyy"),m=u.Tables[0].filter(r=>"PeriodEnd"==r.XMLID),m[0][this.objReturn.ValueColumn]=this.dtToDate.Date.ToString("dd-MM-yyyy"),m=u.Tables[0].filter(r=>"FAFCreationDate"==r.XMLID),m[0][this.objReturn.ValueColumn]=(new Date).ToString("dd-MM-yyyy")}let t=new Array;for(let m=1;m<this.GridColumns.length;m++){if(0==this.GridColumns[m].CurrID)continue;let r=new v.O7;r.ID=this.GridColumns[m].ID,r.Header=this.GridColumns[m].Header,r.DisplayMember=s.Contains(this.GridColumns[m].ID)?this.GridColumns[m].ID+"_Key":this.GridColumns[m].ID,r.Width=this.GridColumns[m].Width,r.ReadOnly=!0;let e=this.Columns.find(n=>n.ID==this.GridColumns[m].ID);r.DataType=e.DType,"FLOAT"==r.DataType&&(r.DecimalPoints=C.J0.IsEmpty(e.Decimals)?"2":e.Decimals,"SUM"==e.Agg&&(r.ShowTotal=!0,r.IsCalculated=1)),r.DependantOn=C.J0.IsEmpty(e.CT)?e.ID:e.CT,t.push(r)}this.ViewModel.PreviewGrid.Table=u.Tables[0],this.ViewModel.PreviewGrid.refreshids(),this.ViewModel.PreviewGrid.Columns=t,this.ViewModel.PreviewGrid.UpdateTotals(),this.GSTType.startsWith("VAT")&&(this.objRevReport.SetColumns(this.Columns),"VATAED1"==this.GSTType&&(this.objRevReport.ReportColumns[0].HeaderHeight=0),b.FillRows(this.objRevReport,this.ViewModel.PreviewGrid.Table))}else alert("EMPTY DATA TABLE")}}catch(i){alert(i.Message),Logger.ErrorLog("PREVIEW CLICK: ",i)}}UserControl_DataContextChanged(o){this.ViewModel=o;let i=this.ViewModel.rpt;i.Columns.forEach(a=>{this.Columns.push(a)}),i.ReportGrid.Columns.forEach(a=>{this.GridColumns.push(a)}),this.GSTType=i.GSTType,this.Query=i.objReport.QUERY,this.dtReturnDate.Date=Date.Today(),this.GSTType.startsWith("VAT")?(this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0,this.dtReturnDate.Date=(new Date).MonthsFirst(),this.dtToDate.Date=new Date(this.dtReturnDate.Date.getFullYear(),this.dtReturnDate.Date.getMonth(),this.dtReturnDate.Date.DaysInMonth())):this.chkToDate.Visible=!0}onchkToDateClik(){if(this.chkToDate.IsChecked){this.dtReturnDate.Label="From Date",this.dtToDate.Visible=!0;let o=Date.Today();this.dtReturnDate.Date=new Date(o.getFullYear(),o.getMonth(),1),this.dtToDate.Date=new Date(o.getFullYear(),o.getMonth(),o.DaysInMonth())}else this.dtReturnDate.Label="Return Month",this.dtToDate.Visible=!1}}function de(A,o){if(1&A&&(l.j41(0,"div",13),l.EFF(1,"\n            "),l.eu8(2,7),l.EFF(3,"\n        "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.chkToDate)("group",i.form)}}function Ie(A,o){if(1&A&&(l.j41(0,"div",6),l.EFF(1,"\n                "),l.eu8(2,7),l.EFF(3,"\n            "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.dtToDate)("group",i.form)}}function he(A,o){if(1&A&&(l.j41(0,"div",14),l.EFF(1,"\n                "),l.eu8(2,7),l.EFF(3,"\n            "),l.k0s()),2&A){const i=l.XpG();l.R7$(2),l.Y8G("obj",i.obj.PreviewGrid)("group",i.form)}}let ce=(()=>{class A extends me{constructor(){super(),this.form=new P.gE({})}ngOnInit(){this.params?.obj&&(this.obj=this.params?.obj),this.UserControl_DataContextChanged(this.obj)}static{this.\u0275fac=function(a){return new(a||A)}}static{this.\u0275cmp=l.VBU({type:A,selectors:[["app-report-preview"]],standalone:!1,features:[l.Vt3],decls:34,vars:6,consts:[[2,"overflow","auto","height","110%"],[1,"page-header",2,"display","flex"],[1,"page-title"],["style","width: 140px; padding-left: 20px;",4,"ngIf"],[1,"section"],[1,"row","form-row"],[1,"form-group","col-xl-3","col-md-3","col-sm-6","col-xs-12","PACTControl"],["FieldDirective","",3,"obj","group"],["class","form-group col-xl-3 col-md-3 col-sm-6 col-xs-12 PACTControl",4,"ngIf"],[1,"form-group","col-xl-6","col-md-6","col-sm-12","col-xs-12","PACTControl",2,"display","block"],[1,"primary-btn-wicon",2,"width","70px",3,"click"],[1,"PACTTabFields","tab_content","tab-exrafields",2,"display","flex"],["style","width: calc(100% - 30px); height: calc(100% - 20px);",4,"ngIf"],[2,"width","140px","padding-left","20px"],[2,"width","calc(100% - 30px)","height","calc(100% - 20px)"]],template:function(a,p){1&a&&(l.j41(0,"div",0),l.EFF(1,"\n    "),l.j41(2,"div",1),l.EFF(3,"\n        "),l.j41(4,"label",2),l.EFF(5),l.k0s(),l.EFF(6,"\n        "),l.DNE(7,de,4,2,"div",3),l.EFF(8,"\n    "),l.k0s(),l.EFF(9,"\n    "),l.j41(10,"div",4),l.EFF(11,"\n        "),l.j41(12,"div",5),l.EFF(13,"\n            "),l.j41(14,"div",6),l.EFF(15,"\n                "),l.eu8(16,7),l.EFF(17,"\n            "),l.k0s(),l.EFF(18,"\n            "),l.DNE(19,Ie,4,2,"div",8),l.EFF(20,"\n            "),l.j41(21,"div",9),l.EFF(22,"\n                "),l.j41(23,"button",10),l.bIt("click",function(){return p.Button_Click("Submit")}),l.EFF(24,"Submit"),l.k0s(),l.EFF(25,"\n            "),l.k0s(),l.EFF(26,"\n        "),l.k0s(),l.EFF(27,"\n        \n        "),l.j41(28,"div",11),l.EFF(29,"\n            "),l.DNE(30,he,4,2,"div",12),l.EFF(31,"\n        "),l.k0s(),l.EFF(32,"\n    "),l.k0s(),l.EFF(33,"\n"),l.k0s()),2&a&&(l.R7$(5),l.JRh(p.obj.DisplayName),l.R7$(2),l.Y8G("ngIf",p.chkToDate.Visible),l.R7$(9),l.Y8G("obj",p.dtReturnDate)("group",p.form),l.R7$(3),l.Y8G("ngIf",p.dtToDate.Visible),l.R7$(11),l.Y8G("ngIf",p.obj.PreviewGrid.Columns.length>0))},dependencies:[x.bT,k._],encapsulation:2})}}return A})();class Ae extends w.g{constructor(o){super(),this.rpt=o,this.PreviewGrid=new U.vv,this.PreviewGrid.Width="",this.PreviewGrid.Height=0,this.PreviewGrid.HeaderHeight=36}}let ye=(()=>{class A{static LoadScreen(i,a){if(9001==i.FeatureID){let p="VATAED1",u=y.d.report.GetDataTable("RPT022","select DefaultPreferences from adm_revenureports with(nolock)\nwhere ReportID="+i.FeatureActionID),s=C.J0.String(u[0].DefaultPreferences);if(0==u.length||""==s)return void alert("Report not found");s.Contains("<UTILREPORT>VATFATPurchaseList</UTILREPORT>")?p="VATFATPurchaseList":s.Contains("<UTILREPORT>VATFATSupplyList</UTILREPORT>")?p="VATFATSupplyList":s.Contains("<UTILREPORT>VATSAS1</UTILREPORT>")&&(p="VATSAS1");let t=new J;if(t.ReportBuilder_1(!0),t.cmbReportModule.SetSelectedItem("VAT"),t.cmbReportModule_SelectionChanged(),t.cmbReportType.SetSelectedItem(p),t.cmbReportType_SelectionChanged(),t.cmbReport.SetSelectedItem(i.FeatureActionID.toString()),t.cmbReport_SelectionChanged(null,null),t.GetReportConfiguration(),t.DisplayMessage.length>0)return void alert(t.DisplayMessage);if(t.objReport.QUERY=t.GetQuery(!0),0==t.objReport.QUERY.length)return void alert("Select Documents");let m=new Ae(t);m.DisplayName=a,y.d.page.addNewTab({title:i.ScreenName,component:ce,params:{obj:m}})}else if(-9e3==i.FeatureActionID){let p=new Y;if(p.DisplayMessage.length>0)return void alert(p.DisplayMessage);p.DisplayName=a,y.d.page.addNewTab({title:i.ScreenName,component:$t,params:{obj:p}})}else if(-8999==i.FeatureActionID){let p=new ne;if(p.DisplayMessage.length>0)return void alert(p.DisplayMessage);p.DisplayName=a,y.d.page.addNewTab({title:i.ScreenName,component:qt,params:{obj:p}})}else if(-8998==i.FeatureActionID){let p=new b;if(p.DisplayMessage.length>0)return void alert(p.DisplayMessage);p.DisplayName=a,y.d.page.addNewTab({title:i.ScreenName,component:Wt,params:{obj:p}})}else if(-8997==i.FeatureActionID){let p=new Dt;if(p.DisplayMessage.length>0)return void alert(p.DisplayMessage);p.DisplayName=a,y.d.page.addNewTab({title:i.ScreenName,component:ie,params:{obj:p}})}else if(-8996==i.FeatureActionID){let p=new Te;if(p.DisplayMessage.length>0)return void alert(p.DisplayMessage);p.DisplayName=a,y.d.page.addNewTab({title:i.ScreenName,component:re,params:{obj:p}})}}static{this.\u0275fac=function(a){return new(a||A)}}static{this.\u0275mod=l.$C({type:A})}static{this.\u0275inj=l.G2t({imports:[x.MD,P.YN,P.X1,_.jr.forRoot(),Nt.G]})}}return A})()}}]);
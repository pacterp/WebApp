"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[4882],{12501:(U,M,t)=>{t.r(M),t.d(M,{CheckInOutComponent:()=>W});var u=t(74523),v=t(82503),g=t(32040),d=t(43767),A=t(23458),e=t(96598);function b(c,D){if(1&c){const i=e.RV6();e.j41(0,"span",11),e.nI1(1,"translate"),e.j41(2,"i",12),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.ShowGrid=!s.ShowGrid)}),e.k0s()()}2&c&&e.FS9("title",e.bMT(1,1,"List"))}function O(c,D){if(1&c){const i=e.RV6();e.j41(0,"span",13),e.bIt("click",function(s){e.eBV(i);const l=e.XpG();return s.preventDefault(),e.Njj(l.OnNext())}),e.k0s()}}function j(c,D){if(1&c){const i=e.RV6();e.j41(0,"span",14),e.bIt("click",function(s){return e.eBV(i),e.Njj(s.preventDefault())}),e.k0s()}}function k(c,D){if(1&c&&(e.j41(0,"div",15),e.EFF(1),e.k0s()),2&c){const i=e.XpG();e.R7$(),e.SpI("\n    ",i.DisplayMessage,"\n")}}function V(c,D){if(1&c&&(e.j41(0,"div",22),e.EFF(1,"\n        "),e.j41(2,"span",23),e.EFF(3),e.k0s(),e.EFF(4,"\n    "),e.k0s()),2&c){const i=e.XpG(2);e.R7$(3),e.SpI(" ",i.DisplayTime,"")}}function N(c,D){if(1&c&&(e.j41(0,"div",22),e.EFF(1,"\n        "),e.j41(2,"span",23),e.EFF(3),e.k0s(),e.EFF(4,"\n    "),e.k0s()),2&c){const i=e.XpG(2);e.R7$(3),e.SpI(" ",i.Displaytext,"")}}function R(c,D){if(1&c){const i=e.RV6();e.j41(0,"div",24),e.EFF(1,"\n            "),e.j41(2,"button",25),e.bIt("click",function(s){e.eBV(i);const l=e.XpG(2);return e.Njj(l.onclick(s,"Check-in"))}),e.nrm(3,"i",26),e.EFF(4,"Check In"),e.k0s(),e.EFF(5,"\n            "),e.j41(6,"span",27),e.EFF(7),e.k0s(),e.EFF(8,"\n        "),e.k0s()}if(2&c){const i=e.XpG(2);e.R7$(2),e.AVh("CheckedIn",""!=i.checkinTime||i.btnRegularizeVisibility),e.Y8G("debounceTime",200),e.R7$(5),e.JRh(i.getTime(i.checkinTime))}}function G(c,D){if(1&c){const i=e.RV6();e.j41(0,"div",24),e.EFF(1,"\n            "),e.j41(2,"button",28),e.bIt("click",function(s){e.eBV(i);const l=e.XpG(2);return e.Njj(l.onclick(s,"Check-out"))}),e.nrm(3,"i",29),e.EFF(4,"Check Out"),e.k0s(),e.EFF(5,"\n            "),e.j41(6,"span",27),e.EFF(7),e.k0s(),e.EFF(8,"\n        "),e.k0s()}if(2&c){const i=e.XpG(2);e.R7$(2),e.AVh("CheckedOut",""!=i.checkOutTime||i.btnRegularizeVisibility),e.Y8G("debounceTime",200),e.R7$(5),e.SpI(" ",i.getTime(i.checkOutTime),"\n            ")}}function P(c,D){if(1&c){const i=e.RV6();e.j41(0,"div",24),e.EFF(1,"\n            "),e.j41(2,"button",30),e.bIt("click",function(){e.eBV(i);const s=e.XpG(2);return e.Njj(s.onRegularize())}),e.nrm(3,"i",26),e.EFF(4,"Regularize"),e.k0s(),e.EFF(5,"\n        "),e.k0s()}}function L(c,D){if(1&c&&(e.j41(0,"div",16),e.EFF(1,"\n\n    "),e.j41(2,"div",17),e.EFF(3,"\n        "),e.j41(4,"div",18),e.EFF(5,"\n            "),e.eu8(6,5),e.EFF(7,"\n        "),e.k0s(),e.EFF(8,"\n    "),e.k0s(),e.EFF(9,"\n    "),e.DNE(10,V,5,1,"div",19),e.EFF(11,"\n    "),e.DNE(12,N,5,1,"div",19),e.EFF(13,"\n    "),e.j41(14,"div",20),e.EFF(15,"\n        "),e.DNE(16,R,9,4,"div",21),e.EFF(17,"\n        "),e.DNE(18,G,9,4,"div",21),e.EFF(19,"\n        "),e.DNE(20,P,6,0,"div",21),e.EFF(21,"\n    "),e.k0s(),e.EFF(22,"\n"),e.k0s()),2&c){const i=e.XpG();e.R7$(6),e.Y8G("obj",i.FilterDate),e.R7$(4),e.Y8G("ngIf",!i.btnRegularizeVisibility||i.DisplayTimeVisibility),e.R7$(2),e.Y8G("ngIf",i.btnRegularizeVisibility),e.R7$(4),e.Y8G("ngIf",!i.IsHolidayOrWeeklyOff),e.R7$(2),e.Y8G("ngIf",!i.IsHolidayOrWeeklyOff),e.R7$(2),e.Y8G("ngIf",i.btnRegularizeVisibility)}}function B(c,D){if(1&c&&(e.j41(0,"div",40),e.EFF(1,"\n        "),e.eu8(2,41),e.EFF(3,"\n    "),e.k0s()),2&c){const i=e.XpG(2);e.R7$(2),e.Y8G("obj",i.EmpFilter)("group",i.form)}}function J(c,D){if(1&c){const i=e.RV6();e.j41(0,"div",31),e.EFF(1,"\n    "),e.j41(2,"div",32),e.EFF(3,"\n        "),e.j41(4,"label",33),e.EFF(5,"Select Employee"),e.k0s(),e.EFF(6,"\n    "),e.k0s(),e.EFF(7,"\n    "),e.DNE(8,B,4,2,"div",34),e.EFF(9,"\n    "),e.j41(10,"div",35),e.EFF(11,"\n        "),e.j41(12,"button",36),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.ShowGrid=!1)}),e.nrm(13,"i",37),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.EFF(16,"\n        "),e.j41(17,"button",38),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.onBtnClick())}),e.nrm(18,"i",39),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.EFF(21,"\n    "),e.k0s(),e.EFF(22,"\n"),e.k0s()}if(2&c){const i=e.XpG();e.R7$(8),e.Y8G("ngIf",i.ShowGrid),e.R7$(6),e.JRh(e.bMT(15,3,"Close")),e.R7$(5),e.JRh(e.bMT(20,5,"Ok"))}}let W=(()=>{class c{constructor(i=null){this.elementRef=i,this.checkinTime="",this.checkOutTime="",this.time=0,this.ShowGrid=!1,this.blnChkinPermission=!1,this.Displaytext="",this.dsAttendance=[],this.IsHolidayOrWeeklyOff=!1,this.DisplayTimeVisibility=!1,this.MessageVisibility=!1,this.onNextVisible=!1}ngOnInit(){var i=this;return(0,u.A)(function*(){i.FilterDate=new v.Lc,i.FilterDate.maxDate=new Date,i.EmpFilter=new A.y$,i.EmpFilter.CCID=50051,i.EmpFilter.TypeID=4,i.EmpFilter.t.Interval=5e3,g.d.SessionManager.IsRptManagerUser?(i.EmpFilter.IsReadOnly=!1,i.EmpFilter.SelectedValue=g.d.SessionManager.iEmployee,i.EmpFilter.SelectedValueText=g.d.SessionManager.LoginUserName):(i.EmpFilter.IsReadOnly=!0,i.EmpFilter.SelectedValue=g.d.SessionManager.iEmployee,i.EmpFilter.SelectedValueText=g.d.SessionManager.LoginUserName),i.empUserChkinPermission(),i.getEmpAttendanceData(),i.FilterDate.SelectedDateChanged.Subscribe(i,"OnDateChange")})()}empUserChkinPermission(){let i=[];i.push(g.d.SessionManager.CompanyIndex),i.push(this.EmpFilter.SelectedValue);let a=g.d.empService.ExecuteQuery_SP(i,"spPAY_GetGeoLocation");if(!d.J0.IsEmpty(a)&&a.Tables.length>0&&a.Tables[a.Tables.length-1].length>0){let s=a.Tables[a.Tables.length-1][0].CheckInOutDevice.toString();(s.Contains("Web")||s.Contains("Mobile")&&g.d.IsMobile)&&(this.blnChkinPermission=!0)}}get IsRptManagerUser(){return g.d.SessionManager.IsRptManagerUser}onBtnClick(){this.getEmpAttendanceData(),this.ShowGrid=!1}onclick(i,a){var s=this;return(0,u.A)(function*(){i.preventDefault(),i.stopImmediatePropagation(),i.target.disabled=!0,yield s.setDocument(i,"40089","Attendance",a),console.log("After object Creation")})()}SaveCallBack_Complete(){this.getEmpAttendanceData()}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){}getTime(i){return""!=i?i:"--:--"}getEmpAttendanceData(){this.Displaytext="",this.DisplayTime="",this.checkOutTime="",this.checkinTime="",this.btnRegularizeVisibility=!1,this.DisplayTimeVisibility=!1,this.IsHolidayOrWeeklyOff=!1,this.dsAttendance=g.d.empService.GetAttendanceDetails(this.FilterDate.Date,this.EmpFilter.SelectedValue),this.shiftName=this.dsAttendance.ShiftName,!d.J0.IsEmpty(this.dsAttendance.DocID)&&parseInt(this.dsAttendance.DocID)>0?(this.checkinTime=this.dsAttendance.LastInTime,this.checkOutTime=this.dsAttendance.LastOutTime,this.FilterDate.Date.ToString("dd/MMM/yyyy")==(new Date).ToString("dd/MMM/yyyy")?""==this.checkinTime||""==this.checkOutTime?this.digi(this.checkinTime):(this.btnRegularizeVisibility=!(!d.J0.IsEmpty(this.dsAttendance.ActCheckInDate)||!d.J0.IsEmpty(this.dsAttendance.ActCheckOutDate)),this.DisplayTimeVisibility=!0,clearInterval(this.interval),this.DisplayTime=this.dsAttendance.TotalTime):this.FilterDate.Date.ToString("dd/MMM/yyyy")!=(new Date).ToString("dd/MMM/yyyy")&&(clearInterval(this.interval),this.FilterDate.Date.ToString("dd/MMM/yyyy")!=(new Date).AddDays(-1).ToString("dd/MMM/yyyy")||d.J0.IsEmpty(this.dsAttendance.IsNightShift)||"true"!=this.dsAttendance.IsNightShift?(this.btnRegularizeVisibility=!(!d.J0.IsEmpty(this.dsAttendance.ActCheckInDate)||!d.J0.IsEmpty(this.dsAttendance.ActCheckOutDate)),""==this.checkinTime||""==this.checkOutTime?""==this.checkinTime?this.Displaytext="Check in Missed":""==this.checkOutTime&&(this.Displaytext="Check Out Missed"):(this.DisplayTime=this.dsAttendance.TotalTime,this.DisplayTimeVisibility=!0)):(""!=this.checkinTime&&""!=this.checkOutTime&&(this.DisplayTime=this.dsAttendance.TotalTime,this.DisplayTimeVisibility=!0,this.btnRegularizeVisibility=!0),(!d.J0.IsEmpty(this.dsAttendance.ActCheckInDate)||!d.J0.IsEmpty(this.dsAttendance.ActCheckOutDate))&&(this.btnRegularizeVisibility=!1)))):this.FilterDate.Date.ToString("dd/MMM/yyyy")!=(new Date).ToString("dd/MMM/yyyy")&&(this.FilterDate.Date.ToString("dd/MMM/yyyy")!=(new Date).AddDays(-1).ToString("dd/MMM/yyyy")||d.J0.IsEmpty(this.dsAttendance.IsNightShift)||"true"!=this.dsAttendance.IsNightShift?(this.Displaytext="Absent or Leave",this.btnRegularizeVisibility=!0,d.J0.IsEmpty(this.dsAttendance.IsWHDay)||(this.IsHolidayOrWeeklyOff=!0,"W"==this.dsAttendance.IsWHDay?this.Displaytext="WeeklyOff":"H"==this.dsAttendance.IsWHDay&&(this.Displaytext="Holiday"))):d.J0.IsEmpty(this.dsAttendance.IsWHDay)||(this.IsHolidayOrWeeklyOff=!0,"W"==this.dsAttendance.IsWHDay?this.Displaytext="WeeklyOff":"H"==this.dsAttendance.IsWHDay&&(this.Displaytext="Holiday")))}onRegularize(){this.RegularizeClick("")}get DisplayMessage(){return this._DisplayMessage}set DisplayMessage(i){this._DisplayMessage=i,this.MessageVisibility=""!=this._DisplayMessage}setDocument(i,a,s,l){var n=this;return(0,u.A)(function*(){n.DisplayMessage="Saving...",g.d.page.ShowLoading=!0;const{AddEditDocumentViewModel:h}=yield Promise.all([t.e(9891),t.e(534),t.e(7996),t.e(1755),t.e(3884),t.e(7030),t.e(4628),t.e(5984),t.e(5152),t.e(8405),t.e(895),t.e(5819),t.e(6015),t.e(2963),t.e(108),t.e(2290),t.e(8024),t.e(3364),t.e(9284),t.e(9128),t.e(1938),t.e(2726),t.e(4065),t.e(2014),t.e(2209),t.e(2771),t.e(6084),t.e(4119)]).then(t.bind(t,5109));if(!d.J0.IsEmpty(n.dsAttendance)&&!d.J0.IsEmpty(n.dsAttendance.DocID)&&parseInt(n.dsAttendance.DocID)>0)n.objDoc=new h(parseInt(a),s,!0),n.objDoc.SaveCallBackMethod.Subscribe(n,"SaveCallBack_Complete"),n.objDoc.ScreenObject.DocID=n.dsAttendance.DocID.toString(),n.objDoc.ScreenObject.DocPrefix.ComboBox.SelectedValue=n.dsAttendance.DocPrefix.toString(),n.objDoc.ScreenObject.DocPrefix.TextBox.Text=n.dsAttendance.DocNumber.toString(),n.objDoc.OnDocPrefixChanged("lostFocus");else if(d.J0.IsEmpty(n.dsAttendance)||d.J0.IsEmpty(n.dsAttendance.IsLeavesExist)||1!=parseInt(n.dsAttendance.IsLeavesExist)){n.objDoc=new h(parseInt(a),s,!1);let o=n.objDoc.ScreenObject.GridDataObj.NewRow();o.DocSeqNo=1,o.DocDetailsID=0,n.objDoc.ScreenObject.GridDataObj.Table.push(o),n.objDoc.SaveCallBackMethod.Subscribe(n,"SaveCallBack_Complete")}else alert("Cannot Apply Attendance,Employee has Already applied Leave");n.objDoc.ScreenObject.CustomTab.Pages.forEach(o=>{o.Fields.forEach(r=>{"dcccnid51"==r.DBColumnName.toString().toLowerCase()?r.SelectedValue=n.EmpFilter.SelectedValue:"dcalpha32"==r.DBColumnName.toString().toLowerCase()||"dcalpha39"==r.DBColumnName.toString().toLowerCase()&&(r.Date=n.FilterDate.Date)})}),n.objDoc.ScreenObject._TextFields.forEach(o=>{"dcalpha26"==o.DBColumnName.toLowerCase()||"dcalpha27"==o.DBColumnName.toLowerCase()||"dcalpha39"==o.DBColumnName.toLowerCase()?o.Date=n.FilterDate.Date:o.DBColumnName.toLowerCase()}),n.objDoc.ScreenObject.ColumnSource.forEach(o=>{if("dcccnid51"==o.DisplayMember.toLowerCase()&&"LISTBOX"==o.DataType.toUpperCase()&&50051==o.CostCenterID){n.objDoc.ScreenObject.GridData[0][o.DisplayMember]=n.EmpFilter.SelectedValueText,n.objDoc.ScreenObject.GridData[0][o.DisplayMember+"_Key"]=n.EmpFilter.SelectedValue;let r={column:{},item:n.objDoc.ScreenObject.GridData[0]};r.column.DgCol=o,r.column.field=o.DisplayMember,r.column.className="DataGridPactListBoxColumn",n.objDoc.ScreenObject.GridDataObj.updateRow(n.objDoc.ScreenObject.GridData[0]),n.objDoc.ScreenObject.GridDataObj.SelectedItem=n.objDoc.ScreenObject.GridData[0],n.objDoc.ScreenObject.GridDataObj.CellEditEnding.Call(r)}}),n.objDoc.DisplayMessage="Saving...",n.DisplayMessage=n.objDoc.DisplayMessage;try{yield n.objDoc.onButtonClick(l),n.DisplayMessage=n.objDoc.DisplayMessage}catch(o){n.DisplayMessage=o.toString(),console.log(o)}g.d.page.ShowLoading=!1,setTimeout(()=>{i.target.disabled=!1,n.DisplayMessage=""},3500)})()}EmpAccessibility(i,a,s,l){let n=[],h="",o=0,r="",F="",p="",E="",z="",m=null;console.log("EmpAccessibility Inside");try{if(n.push(g.d.SessionManager.CompanyIndex),n.push(g.d.SessionManager.iEmployee),m=g.d.empService.ExecuteQuery_SP(n,"spPAY_GetGeoLocation"),d.J0.IsEmpty(m)||!(m.Tables.length>0))return l.Flag="404",l.Msg="No records found please contact your system administrator!",console.log(l.Msg),!0;{if(d.J0.IsEmpty(m.Tables[1]))return l.Flag="404",l.Msg="No records found please contact your system administrator!",console.log(l.Msg),!1;if(!(m.Tables[0].length>0&&m.Tables[1].length>0))return l.Flag="404",l.Msg="No records found please contact your system administrator!",console.log(l.Msg),!1;if(r=d.J0.String(m.Tables[0][0].Latitude),F=d.J0.String(m.Tables[0][0].Longitude),z=d.J0.String(m.Tables[1][0].CheckInOutDevice),h=d.J0.String(m.Tables[1][0].AccessAnyWhere),o=parseInt(m.Tables[1][0].CheckInOutMobileRange||250),p=d.J0.String(m.Tables[1][0].AttSetType),E=d.J0.String(m.Tables[1][0].AttSetDimNodes),"True"==h)return l.Flag="200",l.Msg="Allowed",!0;let f;if("Company"==p)return f=d.J0.haversineDistance({latitude:a,longitude:s},{latitude:r,longitude:F}),console.log("ApiRangeValue KM  "+f),f*=1e3,console.log("ApiRangeValue Meter only  "+f),console.log("strCatSetType  "+p),o>0&&f<=o?(l.Flag="200",l.Msg=" Allowed",console.log(l.Msg),!0):(l.Flag="404",l.Msg=" Not Allow for this location to check-in/check-out, out of range",console.log(l.Msg),!1);if("Dimension"==p){if(console.log("strCatSetType"+p),!(E.length>0))return l.Flag="500",l.Msg=" No location is assigned",console.log(l.Msg),!1;{let T=E.split(",");if(T.length>0){let S=!1;for(let y=0;y<T.length;y++){const $=T[y];let C,x;if(m.Tables[0].length>0){let I=m.Tables[0].find(Y=>Y.NodeID==$);if(x=d.J0.IsEmpty(I.Longitude)?0:I.Longitude,C=d.J0.IsEmpty(I.Latitude)?0:I.Latitude,console.log("CurrUserLat"+a+"CurrUserLong"+s),console.log("strNodeLat"+C+"strNodeLon"+x),f=d.J0.haversineDistance({latitude:a,longitude:s},{latitude:C,longitude:x}),console.log("ApiRangeValue KM"+f+"index"+y),f*=1e3,console.log("ApiRangeValue Meter"+f+"index"+y),o>0&&f<=o)return l.Flag="200",l.Msg=" Allowed",S=!0,!1}}return S?(l.Flag="200",l.Msg=" Allowed",!0):(l.Flag="404",l.Msg=" You are not allowed to check-in/check-out, out of range from this location",console.log(l.Msg),!1)}}}}}catch(f){console.log("catch (error) "+f),console.log("Excetion EmpAccessibility"+f)}return!1}RegularizeClick(i){var a=this;return(0,u.A)(function*(){if(a.EmpFilter.SelectedValue>0&&null!=a.dsAttendance)if(!d.J0.IsEmpty(a.dsAttendance.DocID)&&parseInt(a.dsAttendance.DocID)>0){let s=[];s.push(a),s.push(a.EmpFilter.SelectedValue),s.push(a.FilterDate.Date);const{RegularizationOfAttendanceComponent:l}=yield t.e(9268).then(t.bind(t,36887)),{RegularizationOfAttendanceViewModel:n}=yield Promise.all([t.e(9891),t.e(534),t.e(7996),t.e(1755),t.e(3884),t.e(7030),t.e(4628),t.e(5984),t.e(5152),t.e(8405),t.e(895),t.e(5819),t.e(6015),t.e(2963),t.e(108),t.e(2290),t.e(8024),t.e(3364),t.e(9284),t.e(9128),t.e(1938),t.e(2726),t.e(4065),t.e(2014),t.e(2209),t.e(2771),t.e(6084),t.e(4119),t.e(2076)]).then(t.bind(t,58624));let h=new n;h.RegularizationOfAttendanceViewModel(s),g.d.page.ShowDialog(h,l,{ShowCenter:!0,Title:"Regularize Attendance"}).subscribe(o=>{a.getEmpAttendanceData()})}else if(d.J0.IsEmpty(a.dsAttendance.DocID)||"0"==a.dsAttendance.DocID){let s={};const{AddEditDocumentViewModel:l}=yield Promise.all([t.e(9891),t.e(534),t.e(7996),t.e(1755),t.e(3884),t.e(7030),t.e(4628),t.e(5984),t.e(5152),t.e(8405),t.e(895),t.e(5819),t.e(6015),t.e(2963),t.e(108),t.e(2290),t.e(8024),t.e(3364),t.e(9284),t.e(9128),t.e(1938),t.e(2726),t.e(4065),t.e(2014),t.e(2209),t.e(2771),t.e(6084),t.e(4119)]).then(t.bind(t,5109)),{AddEditDocumentComponent:n}=yield Promise.all([t.e(7996),t.e(8405),t.e(895),t.e(1884)]).then(t.bind(t,30786));let h=new l(40089,"",!1),o=h.ScreenObject._CCFields.find(r=>"dcccnid51"==r.DBColumnName.toLowerCase());d.J0.IsEmpty(o)||(o.SelectedValue=a.EmpFilter.SelectedValue),h.ScreenObject._TextFields.forEach(r=>{"dcalpha39"==r.DBColumnName.toLowerCase()&&(r.Date=a.FilterDate.Date)}),h.ScreenObject.GridDataObj.attendanceDate=a.FilterDate.Date,Object.assign(s,{component:n,params:{obj:h}}),g.d.page.addNewTab(s),h.RefreshGrid=!0}})()}OnDateChange(i){d.J0.IsEmpty(this.selectedDate)?this.selectedDate=i.Date:this.selectedDate!=i.Date&&(this.selectedDate=i.Date,i.Date<new Date&&clearInterval(this.interval),this.getEmpAttendanceData(),this.onNextVisible=d.J0.ParseDate((new Date).ToString("dd/MMM/yyyy")).getTime()>d.J0.ParseDate(this.FilterDate.Date.ToString("dd/MMM/yyyy")).getTime())}OnPrevious(){this.FilterDate.Date=this.FilterDate.Date.AddDays(-1)}OnNext(){this.FilterDate.Date=this.FilterDate.Date.AddDays(1)}digi(i){this.interval=setInterval(()=>{let a=new Date;a.getHours(),a.getMinutes(),a.getSeconds(),a.toLocaleTimeString().split(" "),""!=this.checkinTime&&""==this.checkOutTime?this.checkdifferance(this.checkinTime):clearInterval(this.interval)},1e3)}checkdifferance(i){var a=i,s=d.J0.ParseDate((new Date).ToString("yyyy-MM-ddT")+a),n=((new Date).getTime()-s.getTime())/1e3;parseFloat((n/60).ToString()).toFixed(2);let o=(Math.floor(n/3600),Math.floor(n/3600)),r=(Math.floor((n-3600*parseInt(o.toString()))/60),Math.floor((n-3600*parseInt(o.toString()))/60)),F=Math.floor(n-3600*parseInt(o.toString())-60*parseInt(r.toString())),p=o.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0")+":"+F.toString().padStart(2,"0");this.DisplayTime=p}startTimer(){this.interval=setInterval(()=>{this.time++;var i=this.checkinTime,a=d.J0.ParseDate((new Date).ToString("dd/MMM/yyyy ")+i),l=((new Date).getTime()-a.getTime())/1e3;this.DisplayTime=this.transform(l)})}transform(i){let a=i,s=Math.floor(a/3600),l=Math.floor(a-3600*s),n=a-3600*s-60*l;return s<10&&(s=0),l<10&&(l=0),n<10&&(n=0),s+":"+l+":"+n}static{this.\u0275fac=function(a){return new(a||c)(e.rXU(e.aKT))}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["check-in-out"]],inputs:{obj:"obj"},standalone:!1,decls:24,vars:7,consts:[[1,"dbheader",2,"height","30px","justify-content","space-between"],[2,"padding","0","padding-top","6px","padding-left","16px"],[1,"DtAttendance",2,"align-self","baseline","margin-right","10px"],["style","margin-right: 5px;font-size: 20px;",3,"title",4,"ngIf"],["href","",1,"fa-light","fa-chevrons-left",2,"padding","7px",3,"click"],["FieldDirective","",3,"obj"],["style","padding: 7px;","href","","class","fa-light fa-chevrons-right",3,"click",4,"ngIf"],["class","fa-light fa-chevrons-right","style","font-size: 10px;opacity:0.8;color: #cacbcd;padding: 7px;",3,"click",4,"ngIf"],["class","alert alert-primary","style","margin-bottom: 0px;margin-left: 10px;margin-right: 10px;padding: 5px;",4,"ngIf"],["class","Check_In_Out_widget","style","display: flex;flex-direction: column;align-items: center;height: 100%;flex: 1;",4,"ngIf"],["class","shadowborder parent-center","style","height: 200px; background-color: white; z-index: 11; ",4,"ngIf"],[2,"margin-right","5px","font-size","20px",3,"title"],[1,"fa-light","fa-table",3,"click"],["href","",1,"fa-light","fa-chevrons-right",2,"padding","7px",3,"click"],[1,"fa-light","fa-chevrons-right",2,"font-size","10px","opacity","0.8","color","#cacbcd","padding","7px",3,"click"],[1,"alert","alert-primary",2,"margin-bottom","0px","margin-left","10px","margin-right","10px","padding","5px"],[1,"Check_In_Out_widget",2,"display","flex","flex-direction","column","align-items","center","height","100%","flex","1"],[2,"height","30px","display","flex","justify-content","flex-end","display","none"],[2,"width","250px"],["style","flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin: auto 0;",4,"ngIf"],[2,"height","70px","display","flex","justify-content","space-around","width","100%","margin-top","15px"],["style","display: flex;align-items: center;flex-direction: column;",4,"ngIf"],[2,"flex","1","display","flex","flex-direction","column","align-items","center","justify-content","center","margin","auto 0"],[2,"text-align","left","font","normal normal 500 20px/30px IBM PLex sans","white-space","nowrap","text-overflow","ellipsis","overflow","hidden"],[2,"display","flex","align-items","center","flex-direction","column"],["appDebounceClick","","title","Check In",1,"primary-btn-wicon",2,"width","unset","border","1px #ff6666","background","#ff6666 0 0 no-repeat padding-box","border-radius","5px",3,"click","debounceTime"],[1,"fa-light","fa-time"],[2,"text-align","left","font","normal normal 500 14px/30px IBM PLex sans"],["appDebounceClick","","title","Check Out",1,"primary-btn-wicon",2,"width","unset","border","1px #ff6666","background","#ff6666 0 0 no-repeat padding-box","border-radius","5px",3,"click","debounceTime"],[1,"fa-light","fa-Time"],["title","Regularize",1,"primary-btn-wicon",2,"width","100px","border","1px #ff6666","background","#ff6666 0 0 no-repeat padding-box","border-radius","5px",3,"click"],[1,"shadowborder","parent-center",2,"height","200px","background-color","white","z-index","11"],[1,"page-subheader",2,"margin-bottom","4px","border-bottom","solid 1px #D3D7DF"],[1,"page-subtitle",2,"padding-top","4px"],["class","PactMasterTree Pactpagetree","style","height: calc(100% - 100px);width: 300px;",4,"ngIf"],[1,"btnMetroDiv","secondary-btn-group",2,"padding","2px 0"],[1,"secondary-btn-wicon",3,"click"],[1,"fa-light","fa-times"],[1,"primary-btn-wicon",3,"click"],[1,"fa-light","fa-circle-check"],[1,"PactMasterTree","Pactpagetree",2,"height","calc(100% - 100px)","width","300px"],["FieldDirective","",3,"obj","group"]],template:function(a,s){1&a&&(e.j41(0,"div",0),e.EFF(1,"\n    "),e.j41(2,"label",1),e.EFF(3,"Attendance"),e.k0s(),e.EFF(4,"\n    \n    "),e.j41(5,"div",2),e.EFF(6,"\n        "),e.DNE(7,b,3,3,"span",3),e.EFF(8,"\n        "),e.j41(9,"span",4),e.bIt("click",function(n){return n.preventDefault(),s.OnPrevious()}),e.k0s(),e.EFF(10,"\n        "),e.eu8(11,5),e.EFF(12,"\n        "),e.DNE(13,O,1,0,"span",6),e.EFF(14,"\n        "),e.DNE(15,j,1,0,"span",7),e.EFF(16,"\n    "),e.k0s(),e.EFF(17,"\n"),e.k0s(),e.EFF(18,"\n"),e.DNE(19,k,2,1,"div",8),e.EFF(20,"\n"),e.DNE(21,L,23,6,"div",9),e.EFF(22,"\n"),e.DNE(23,J,23,7,"div",10)),2&a&&(e.R7$(7),e.Y8G("ngIf",s.IsRptManagerUser),e.R7$(4),e.Y8G("obj",s.FilterDate),e.R7$(2),e.Y8G("ngIf",s.onNextVisible),e.R7$(2),e.Y8G("ngIf",!s.onNextVisible),e.R7$(4),e.Y8G("ngIf",s.MessageVisibility),e.R7$(2),e.Y8G("ngIf",s.blnChkinPermission),e.R7$(2),e.Y8G("ngIf",s.ShowGrid))},encapsulation:2})}}return c})()}}]);
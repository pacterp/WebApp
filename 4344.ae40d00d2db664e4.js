"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[4344],{74344:(M,l,n)=>{n.r(l),n.d(l,{POSCashRegisterViewModel:()=>C});var d=n(98580),p=n(58170),a=n(21774),s=n(32040),h=n(14752),u=n(86639),D=n(7321);class C extends d.g{get angularGrid(){return this.TableObj.angularGrid}get DataTable(){return this.TableObj.Table}get SelectedRow(){return this.TableObj.SelectedItem}constructor(t){super(),this.ButtonClick=new p.Yk,Logger.InfoLog("DocumentDraftsViewModel:: Entering DocumentDraftsViewModel"),this.oparent=t,this.ButtonClick.Subscribe(this,"OnButtonClick"),this.DisplayName="Cash Register",this.Title="Cash Register",this.TableObj=new D.vv,this.ColSource=[],this.TableObj.Table=[];let e,g=parseInt(s.d.SessionManager.Preferences.CashIn)+"~"+parseInt(s.d.SessionManager.Preferences.CashOut)+"~"+parseInt(s.d.SessionManager.Preferences.Registers),S=+this.oparent.ScreenObject.RegisterNodeID+"~"+this.oparent.ScreenObject.ShiftNodeID+"~"+parseInt(s.d.SessionManager.Preferences.PosShifts),O=this.oparent.DocumentDate.ToString("dd/MMM/yyyy"),i=s.d.common.GetDataSet3("POS003",g,S,O);if(null!=i&&i.Tables.length>0&&(this.TableObj.Table=i.Tables[0],null!=this.TableObj)){this.TableObj.TableColumns.push("Sno"),this.TableObj.TableColumns.push("Type");let c=0;this.TableObj.Table.forEach(o=>{c++,o.Sno=c,""!=o.CostCenterID.toString()&&(o.CostCenterID.toString()==s.d.SessionManager.Preferences.CashIn?o.Type="CashIn":o.CostCenterID.toString()==s.d.SessionManager.Preferences.CashOut&&(o.Type="CashOut"))})}e=new a.O7,e.Header=s.d.GetResource("DocumentDesigner_Sno"),e.DisplayMember="Sno",e.ReadOnly=!0,e.IsFrozen=!0,e.Width=45,this.ColSource.push(e),e=new a.O7,e.Header=s.d.GetResource("Import_Type"),e.DisplayMember="Type",e.ReadOnly=!0,e.IsFrozen=!0,e.Width=100,this.ColSource.push(e),e=new a.O7,e.Header=s.d.GetResource("DocumentDesigner_VoucherNo"),e.DisplayMember="DocNo",e.ID="DocNo",e.DataType="LINK",e.ReadOnly=!0,e.IsFrozen=!0,e.Width=150,this.ColSource.push(e),e=new a.O7,e.Header=s.d.GetResource("DocumentDesigner_Amount"),e.DisplayMember="Amount",e.ReadOnly=!0,e.IsFrozen=!0,e.Width=100,this.ColSource.push(e),this.PopupWidth=450,this.TableObj.Columns=this.ColSource,Logger.InfoLog("DocumentDraftsViewModel:: Entering DocumentDraftsViewModel")}OnButtonClick(t){"Cancel"==t.toString()&&("AddEditDocumentViewModel"==this.oparent.ClassName&&(this.oparent.res="No"),s.d.page.HideDialog(this.PopUpGUID))}LoadDocument(t){if("AddEditDocumentViewModel"==this.oparent.ClassName)if(s.d.page.HideDialog(this.PopUpGUID),"CashIn"==t.Type.toString()){if(s.d.SessionManager.Preferences.ContainsKey("CashIn")&&""!=s.d.SessionManager.Preferences.CashIn&&"0"!=s.d.SessionManager.Preferences.CashIn){let r=new h.PostVoucherSaveViewModel(this.oparent,parseInt(s.d.SessionManager.Preferences.CashIn),parseFloat(t.Amount),parseInt(t.CreditAccount),1,1,!1,!1);s.d.page.ShowDialog(r,u.PostVoucherSaveComponent)}}else if("CashOut"==t.Type.toString()&&s.d.SessionManager.Preferences.ContainsKey("CashOut")&&""!=s.d.SessionManager.Preferences.CashOut&&"0"!=s.d.SessionManager.Preferences.CashOut){let r=new h.PostVoucherSaveViewModel(this.oparent,parseInt(s.d.SessionManager.Preferences.CashOut),parseFloat(t.Amount),parseInt(t.DebitAccount),1,1,!1,!1);s.d.page.ShowDialog(r,u.PostVoucherSaveComponent)}}}}}]);
"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[7139],{59520:(S,i,l)=>{l.r(i),l.d(i,{PickProductsViewModel:()=>P});var r=l(9659),c=l(76199),n=l(94628),a=l(92264);class P extends c.g{get ClearSelectedNodes(){return this._ClearSelectedNodes}set ClearSelectedNodes(e){this._ClearSelectedNodes=e,this.tree.length>0&&(this.tree[0].ClearAllSelectedNodes=!this.tree[0].ClearAllSelectedNodes)}get SelectedNode(){return this._SelectedNode}set SelectedNode(e){this._SelectedNode!=e&&(this._SelectedNode=e)}get Filters(){return this._Filters}Refresh(){null!=this.tree&&this.tree.length>0&&(this.tree[0].RefreshData=!0)}CommandController(e){}constructor(e){super(),this.tree=[],this.DisplayName="Pick Products",this.Parent=e,this.tree=[];let t=[];if("AddEditDocumentViewModel"==this.Parent.ClassName&&null!=this.Parent.SelectedRow&&""!=this.Parent.SelectedRow.dcAlpha21.toString()){let o=this.Parent.SelectedRow.dcAlpha21.toString().split(",");for(let d=0;d<o.length;d++){let h=new a.n;h.Id=parseInt(o[d]),t.push(h)}}let s=new n.T;s.TreeViewModel_6(3,this,0,"",t,""),s.HeaderVisiblity=!1,s.OnNodeSelected=this.OnNodeSelected,this.tree.push(s),Logger.InfoLog("PickProductsViewModel:: Entering PickProductsViewModel")}OnNodeSelected(){let e="";this.SelectedNodes.forEach(t=>{e=""!=e?e+", "+t.Text[0]:t.Text[0],e.length>140&&(e+=" . . .")}),this.SelectedProducts=e}OnButtonClick(e){if("OK"==e){let t="";this.SelectedNodes.forEach(s=>{t+=s.Id+","}),t.length>1&&(t=t.Remove(0,t.length-1)),"AddEditDocumentViewModel"==this.Parent.ClassName&&null!=this.Parent.SelectedRow&&(this.Parent.SelectedRow.dcAlpha21=t),r.d.page.HideDialog(this.PopUpGUID)}else"Cancel"==e&&r.d.page.HideDialog(this.PopUpGUID)}}}}]);
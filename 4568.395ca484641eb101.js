"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[4568],{4568:(D,a,t)=>{t.r(a),t.d(a,{FAPostingGroupViewModel:()=>u});var s=t(9659),h=t(76199),l=t(6532),i=t(1077),r=t(92014),c=t(66133),n=t(5349);class u extends h.g{get PostingGroupID(){return this._PostingGroupID}set PostingGroupID(e){e!=this._PostingGroupID&&(this._PostingGroupID=e,this.obj.PostingGroupID=this._PostingGroupID)}constructor(e){super(),this.Status=new n.y$(23815),this.PostGroupCode=new l.Dw(23803),this.PostGroupName=new l.Dw(23804),this.AcqnCostACCID=new i.y$(23807),this.AccumDeprACCID=new i.y$(23809),this.AcquisitionClearingAcc=new i.y$(23811),this.DisposalClearingAcc=new i.y$(23810),this.DisposalGainAcc=new i.y$(23812),this.DisposalLossAcc=new i.y$(23813),this.MinorAssetExpenseAcc=new i.y$(23814),this.DeprExpenseACCID=new i.y$(23808),this._PostingGroupID=0,this.ScreenObject=new r.ControlGenerator,this.obj=new c.V,this.RetValue=0,this.Fields=[],this.PostingGroupID=e,this.LoadData(),0==this.PostingGroupID?this.Title=s.d.GetResource("AddPostingGroup"):(this.obj.PostingGroupID=this.PostingGroupID,this.Title=s.d.GetResource("EditPostingGroup"),this.OnLoadData())}LoadData(){this.ScreenObject.LoadScreen_2(this,77),this.PostGroupCode.Label=s.d.GetResource("Code"),this.PostGroupName.Label=s.d.GetResource("Name"),this.Fields.push(this.PostGroupCode),this.Fields.push(this.PostGroupName),this.Fields.push(this.Status),this.Fields.push(this.AcqnCostACCID),this.Fields.push(this.AccumDeprACCID),this.Fields.push(this.DeprExpenseACCID),this.Fields.push(this.AcquisitionClearingAcc),this.Fields.push(this.DisposalClearingAcc),this.Fields.push(this.DisposalGainAcc),this.Fields.push(this.DisposalLossAcc),this.Fields.push(this.MinorAssetExpenseAcc),this.ScreenObject.Data.Tables.length>0&&null!=this.ScreenObject.Data&&(this.ScreenObject.Data.Tables[3].forEach(e=>{this.Status.Items.push(n._p.ComboBoxItems_2(e.Status.toString(),e.StatusID.toString()))}),this.Status.SelectedValue="385")}OnLoadData(){let e=c.V.GetPostingGroupDetails(this.obj.PostingGroupID);null!=e&&e.Tables.length>0&&e.Tables[0].length>0&&(this.PostGroupCode.Text=e.Tables[0][0].PostGroupCode.toString(),this.PostGroupName.Text=e.Tables[0][0].PostGroupName.toString(),this.AcqnCostACCID.SelectedValue=parseInt(e.Tables[0][0].AcqnCostACCID.toString()),this.AccumDeprACCID.SelectedValue=parseInt(e.Tables[0][0].AccumDeprACCID.toString()),this.DeprExpenseACCID.SelectedValue=parseInt(e.Tables[0][0].DeprExpenseACCID.toString()),this.AcquisitionClearingAcc.SelectedValue=parseInt(e.Tables[0][0].AcqnCostDispACCID.toString()),this.DisposalClearingAcc.SelectedValue=parseInt(e.Tables[0][0].AccumDeprDispACCID.toString()),this.DisposalGainAcc.SelectedValue=parseInt(e.Tables[0][0].GainsDispACCID.toString()),this.DisposalLossAcc.SelectedValue=parseInt(e.Tables[0][0].LossDispACCID.toString()),this.MinorAssetExpenseAcc.SelectedValue=parseInt(e.Tables[0][0].MaintExpenseACCID.toString()),this.Status.SelectedValue=e.Tables[0][0].StatusID.toString(),this.obj.GUID=e.Tables[0][0].GUID.toString())}OnSavePostingGroup(e){try{if("Save"==e.toString()){if(null==this.PostGroupCode.Text||""==this.PostGroupCode.Text.Trim())return void(this.DisplayMessage=s.d.GetResource("Enter")+" Code");if(this.obj.PostGroupCode=this.PostGroupCode.Text,null==this.PostGroupName.Text||""==this.PostGroupName.Text.Trim())return void(this.DisplayMessage=s.d.GetResource("Enter")+" Name");if(this.obj.PostGroupName=this.PostGroupName.Text,0==this.AcqnCostACCID.SelectedValue)return void(this.DisplayMessage=s.d.GetResource("Select ")+this.AcqnCostACCID.Label);if(this.obj.AcqnCostACCID=this.AcqnCostACCID.SelectedValue,0==this.AccumDeprACCID.SelectedValue)return this.DisplayMessage=s.d.GetResource("Select ")+this.AccumDeprACCID.Label,void(this.MessageVisibility=!0);if(this.obj.AccumDeprACCID=this.AccumDeprACCID.SelectedValue,0!=this.AcquisitionClearingAcc.SelectedValue&&(this.obj.AcqnCostDispACCID=this.AcquisitionClearingAcc.SelectedValue),0!=this.DisposalClearingAcc.SelectedValue&&(this.obj.AccumDeprDispACCID=this.DisposalClearingAcc.SelectedValue),0!=this.DisposalGainAcc.SelectedValue&&(this.obj.GainsDispACCID=this.DisposalGainAcc.SelectedValue),0!=this.DisposalLossAcc.SelectedValue&&(this.obj.LossDispACCID=this.DisposalLossAcc.SelectedValue),0!=this.MinorAssetExpenseAcc.SelectedValue&&(this.obj.MaintExpenseACCID=this.MinorAssetExpenseAcc.SelectedValue),0==this.DeprExpenseACCID.SelectedValue)return void(this.DisplayMessage=s.d.GetResource("Select ")+this.DeprExpenseACCID.Label);this.obj.DeprExpenseACCID=this.DeprExpenseACCID.SelectedValue,this.obj.StatusID=parseInt(this.Status.SelectedValue),this.obj.SaveFAPostingGroup().subscribe(o=>{this.DisplayMessage=o.Message,this.RetValue=o.RetValue,this.RetValue>0&&(this.PostingGroupID=0,this.PostGroupCode.Text="",this.PostGroupName.Text="",this.AcqnCostACCID.SelectedValue=0,this.AccumDeprACCID.SelectedValue=0,this.DeprExpenseACCID.SelectedValue=0,this.AcquisitionClearingAcc.SelectedValue=0,this.DisposalClearingAcc.SelectedValue=0,this.DisposalGainAcc.SelectedValue=0,this.DisposalLossAcc.SelectedValue=0,this.MinorAssetExpenseAcc.SelectedValue=0,this.Status.SelectedValue="385",null!=this.Parent&&this.Parent.Refresh())})}else s.d.page.HideDialog(this.PopUpGUID)}catch(o){Logger.ErrorLog("FAPostingGroupViewModel:: OnSavePostingGroup",o)}}}}}]);
"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[5113],{5113:(R,F,h)=>{h.r(F),h.d(F,{DashFavoriteComponent:()=>w});var t=h(41360),u=h(32881),r=h(21413),b=h(92401),D=h(56977);let C=(()=>{class o{constructor(n,i=null){this.el=n,this.zone=i,this.destroy$=new r.B}ngOnChanges(){}onResize(){this.Calculate()}ngAfterViewInit(){setTimeout(()=>{this.Calculate()},700),this.zone.runOutsideAngular(()=>{(0,b.a)(this.element).pipe((0,D.Q)(this.destroy$)).subscribe(n=>{("dbCollapse"==n.target.id||"idExpandMenu"==n.target.id||"dbCollapse_panel"==n.target.id||n.target.classList.contains("PACT-hmenu")||n.target.parentElement.classList.contains("PACT-hmenu"))&&this.zone.run(i=>{this.Calculate()})})})}Calculate(){let n,i,s=this.el.nativeElement.getContext("2d");this.data.forEach(e=>{Array.from(this.element.getElementsByClassName("dashfavbtninner")).forEach(c=>{c.getAttribute("tagobj")==e.Source.DBColumnName&&(n=c)}),Array.from(this.element.getElementsByClassName("dashfavbtninner")).forEach(c=>{c.getAttribute("tagobj")==e.Destination.DBColumnName&&(i=c)});const p=n.getBoundingClientRect();e.X1=n.offsetLeft,e.Y1=n.offsetTop;const l=i.getBoundingClientRect();e.X2=i.offsetLeft,e.Y2=i.offsetTop,parseInt(e.Source.Column)>parseInt(e.Destination.Column)?(e.X1=e.X1-3,e.X2=e.X2+l.width):parseInt(e.Source.Column)<parseInt(e.Destination.Column)?(e.X1=e.X1+p.width,e.X2=e.X2):(e.X1+=p.width/2,e.X2+=l.width/2),parseInt(e.Source.Row)>parseInt(e.Destination.Row)?(e.Y1=e.Y1-4,e.Y2=e.Y2+l.height):parseInt(e.Source.Row)<parseInt(e.Destination.Row)?(e.Y1=e.Y1+p.height,e.Y2=e.Y2-4):parseInt(e.Source.Row)==parseInt(e.Destination.Row)&&(e.Y1+=p.height/2,e.Y2+=l.height/2)});let x=Math.max.apply(Math,this.data.map(function(e){return e.X1})),y=Math.max.apply(Math,this.data.map(function(e){return e.X2})),I=Math.max.apply(Math,this.data.map(function(e){return e.Y1})),j=Math.max.apply(Math,this.data.map(function(e){return e.Y2}));this.el.nativeElement.width=Math.max(x,y)+20,this.el.nativeElement.height=Math.max(I,j)+20,this.data.forEach(e=>{e.X1=parseInt(e.X1),e.X2=parseInt(e.X2),e.Y1=parseInt(e.Y1),e.Y2=parseInt(e.Y2),s.beginPath(),s.strokeStyle="#bfbfbfff",s.lineWidth=2,s.moveTo(e.X1,e.Y1),s.lineTo(e.X2,e.Y2);let p=Math.atan2(e.Y1-e.Y2,e.X1-e.X2),l=Math.sin(p),m=Math.cos(p),c=e.X2+(8*m-4*l),v=e.Y2+(8*l+4*m);s.moveTo(e.X2,e.Y2),s.lineTo(c,v),c=e.X2+(8*m+4*l),v=e.Y2-(4*m-8*l),s.lineTo(c,v),s.closePath(),s.stroke(),s.fillStyle=s.strokeStyle,s.fill()})}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(t.aKT),t.rXU(t.SKi))}}static{this.\u0275dir=t.FsC({type:o,selectors:[["","DashArrowDirective",""]],hostBindings:function(i,a){1&i&&t.bIt("resize",function(){return a.onResize()},!1,t.tSv)},inputs:{data:"data",objData:"objData",element:"element"},exportAs:["DashArrowDirective"],standalone:!1,features:[t.OA$]})}}return o})();function X(o,g){if(1&o){const n=t.RV6();t.j41(0,"div",6),t.EFF(1,"\n                "),t.j41(2,"div",7),t.bIt("click",function(a){t.eBV(n);const f=t.XpG().$implicit,d=t.XpG();return t.Njj(d.onclick(a,f))}),t.EFF(3,"\n                    "),t.EFF(4,"\n                    "),t.nrm(5,"i"),t.EFF(6,"\n                    "),t.j41(7,"a",8),t.bIt("click",function(a){return t.eBV(n),t.Njj(a.preventDefault())}),t.EFF(8),t.k0s(),t.EFF(9," \n                "),t.k0s(),t.EFF(10,"\n            "),t.k0s()}if(2&o){const n=t.XpG().$implicit,i=t.XpG();t.Y8G("ngStyle",i.styleObject(n)),t.R7$(2),t.BMQ("tagobj",n.DBColumnName),t.R7$(3),t.HbH(n.WebIcon),t.R7$(3),t.JRh(n.Label)}}function Y(o,g){if(1&o&&(t.qex(0),t.EFF(1,"\n            "),t.DNE(2,X,11,5,"div",5),t.EFF(3,"\n        "),t.bVm()),2&o){const n=g.$implicit;t.R7$(2),t.Y8G("ngIf",n.Visible)}}function E(o,g){if(1&o&&t.nrm(0,"canvas",9),2&o){const n=t.XpG(),i=t.sdS(1);t.Y8G("data",n.obj.DocsArrowData)("element",i)}}let w=(()=>{class o{constructor(n=null){this.elementRef=n}ngOnInit(){}onclick(n,i){n.preventDefault(),i.ClickCommand.Call(i)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){}styleObject(n){let i;return i={"grid-row":""+Number(n.Row),"grid-column":""+(Number(n.Column)+1)},i}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-dash-favorite"]],inputs:{obj:"obj"},standalone:!1,decls:11,vars:2,consts:[["eleme",""],[2,"height","100%","overflow","auto","padding-left","16px","padding-top","16px","position","relative"],[1,"row","form-row",2,"padding-bottom","8px","position","absolute","left","0px","top","0px","z-index","1","width","100%","display","grid"],[4,"ngFor","ngForOf"],["DashArrowDirective","","style","position:absolute; left:0px; top:0px;",3,"data","element",4,"ngIf"],["class","dashfavbtn",3,"ngStyle",4,"ngIf"],[1,"dashfavbtn",3,"ngStyle"],[1,"dashfavbtninner",3,"click"],["href","#",3,"click"],["DashArrowDirective","",2,"position","absolute","left","0px","top","0px",3,"data","element"]],template:function(i,a){1&i&&(t.j41(0,"div",1,0),t.EFF(2,"\n    "),t.j41(3,"div",2),t.EFF(4," \n        "),t.DNE(5,Y,4,1,"ng-container",3),t.EFF(6,"\n    "),t.k0s(),t.EFF(7,"\n    "),t.DNE(8,E,1,2,"canvas",4),t.EFF(9,"\n"),t.k0s(),t.EFF(10,"\n")),2&i&&(t.R7$(5),t.Y8G("ngForOf",a.obj.StaticFields),t.R7$(3),t.Y8G("ngIf",a.obj.StaticFields.length>0))},dependencies:[u.Sq,u.bT,u.B3,C],encapsulation:2})}}return o})()}}]);
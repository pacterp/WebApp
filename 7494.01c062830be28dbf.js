"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[7494],{14782:(Y,v,s)=>{s.d(v,{a:()=>F});var t=s(11345),f=s(83583);function F(p){const b=Array.isArray(p)?p:[p];return(0,t.R)(document,"click").pipe((0,f.p)(E=>{const d=E.target;return b.reduce((C,u)=>C&&u!==d&&!u.contains(d),!0)}))}},27494:(Y,v,s)=>{s.r(v),s.d(v,{DashFavoriteComponent:()=>x});var t=s(96598),f=s(43357),F=s(43794),p=s(14782),b=s(79358);let E=(()=>{class o{constructor(n,i=null){this.el=n,this.zone=i,this.destroy$=new F.B}ngOnChanges(){}onResize(){this.Calculate()}ngAfterViewInit(){setTimeout(()=>{this.Calculate()},700),this.zone.runOutsideAngular(()=>{(0,p.a)(this.element).pipe((0,b.Q)(this.destroy$)).subscribe(n=>{("dbCollapse"==n.target.id||"idExpandMenu"==n.target.id||"dbCollapse_panel"==n.target.id||n.target.classList.contains("PACT-hmenu")||n.target.parentElement.classList.contains("PACT-hmenu"))&&this.zone.run(i=>{this.Calculate()})})})}Calculate(){let n,i,a=this.el.nativeElement.getContext("2d");this.data.forEach(e=>{Array.from(this.element.getElementsByClassName("dashfavbtninner")).forEach(h=>{h.getAttribute("tagobj")==e.Source.DBColumnName&&(n=h)}),Array.from(this.element.getElementsByClassName("dashfavbtninner")).forEach(h=>{h.getAttribute("tagobj")==e.Destination.DBColumnName&&(i=h)});const r=n.getBoundingClientRect();e.X1=n.offsetLeft,e.Y1=n.offsetTop;const c=i.getBoundingClientRect();e.X2=i.offsetLeft,e.Y2=i.offsetTop,parseInt(e.Source.Column)>parseInt(e.Destination.Column)?(e.X1=e.X1-3,e.X2=e.X2+c.width):parseInt(e.Source.Column)<parseInt(e.Destination.Column)?(e.X1=e.X1+r.width,e.X2=e.X2):(e.X1+=r.width/2,e.X2+=c.width/2),parseInt(e.Source.Row)>parseInt(e.Destination.Row)?(e.Y1=e.Y1-4,e.Y2=e.Y2+c.height):parseInt(e.Source.Row)<parseInt(e.Destination.Row)?(e.Y1=e.Y1+r.height,e.Y2=e.Y2-4):parseInt(e.Source.Row)==parseInt(e.Destination.Row)&&(e.Y1+=r.height/2,e.Y2+=c.height/2)});let I=Math.max.apply(Math,this.data.map(function(e){return e.X1})),R=Math.max.apply(Math,this.data.map(function(e){return e.X2})),y=Math.max.apply(Math,this.data.map(function(e){return e.Y1})),A=Math.max.apply(Math,this.data.map(function(e){return e.Y2}));this.el.nativeElement.width=Math.max(I,R)+20,this.el.nativeElement.height=Math.max(y,A)+20,this.data.forEach(e=>{e.X1=parseInt(e.X1),e.X2=parseInt(e.X2),e.Y1=parseInt(e.Y1),e.Y2=parseInt(e.Y2),a.beginPath(),a.strokeStyle="#bfbfbfff",a.lineWidth=2,a.moveTo(e.X1,e.Y1),a.lineTo(e.X2,e.Y2);let r=Math.atan2(e.Y1-e.Y2,e.X1-e.X2),c=Math.sin(r),g=Math.cos(r),h=e.X2+(8*g-4*c),X=e.Y2+(8*c+4*g);a.moveTo(e.X2,e.Y2),a.lineTo(h,X),h=e.X2+(8*g+4*c),X=e.Y2-(4*g-8*c),a.lineTo(h,X),a.closePath(),a.stroke(),a.fillStyle=a.strokeStyle,a.fill()})}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(t.aKT),t.rXU(t.SKi))}}static{this.\u0275dir=t.FsC({type:o,selectors:[["","DashArrowDirective",""]],hostBindings:function(i,l){1&i&&t.bIt("resize",function(){return l.onResize()},!1,t.tSv)},inputs:{data:"data",objData:"objData",element:"element"},exportAs:["DashArrowDirective"],standalone:!1,features:[t.OA$]})}}return o})();function d(o,_){if(1&o){const n=t.RV6();t.j41(0,"div",6),t.EFF(1,"\n                "),t.j41(2,"div",7),t.bIt("click",function(l){t.eBV(n);const m=t.XpG().$implicit,D=t.XpG();return t.Njj(D.onclick(l,m))}),t.EFF(3,"\n                    "),t.EFF(4,"\n                    "),t.nrm(5,"i"),t.EFF(6,"\n                    "),t.j41(7,"a",8),t.bIt("click",function(l){return t.eBV(n),t.Njj(l.preventDefault())}),t.EFF(8),t.k0s(),t.EFF(9," \n                "),t.k0s(),t.EFF(10,"\n            "),t.k0s()}if(2&o){const n=t.XpG().$implicit,i=t.XpG();t.Y8G("ngStyle",i.styleObject(n)),t.R7$(2),t.BMQ("tagobj",n.DBColumnName),t.R7$(3),t.HbH(n.WebIcon),t.R7$(3),t.JRh(n.Label)}}function C(o,_){if(1&o&&(t.qex(0),t.EFF(1,"\n            "),t.DNE(2,d,11,5,"div",5),t.EFF(3,"\n        "),t.bVm()),2&o){const n=_.$implicit;t.R7$(2),t.Y8G("ngIf",n.Visible)}}function u(o,_){if(1&o&&t.nrm(0,"canvas",9),2&o){const n=t.XpG(),i=t.sdS(1);t.Y8G("data",n.obj.DocsArrowData)("element",i)}}let x=(()=>{class o{constructor(n=null){this.elementRef=n}ngOnInit(){}onclick(n,i){n.preventDefault(),i.ClickCommand.Call(i)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){}styleObject(n){let i;return i={"grid-row":""+Number(n.Row),"grid-column":""+(Number(n.Column)+1)},i}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-dash-favorite"]],inputs:{obj:"obj"},standalone:!1,decls:11,vars:2,consts:[["eleme",""],[2,"height","100%","overflow","auto","padding-left","16px","padding-top","16px","position","relative"],[1,"row","form-row",2,"padding-bottom","8px","position","absolute","left","0px","top","0px","z-index","1","width","100%","display","grid"],[4,"ngFor","ngForOf"],["DashArrowDirective","","style","position:absolute; left:0px; top:0px;",3,"data","element",4,"ngIf"],["class","dashfavbtn",3,"ngStyle",4,"ngIf"],[1,"dashfavbtn",3,"ngStyle"],[1,"dashfavbtninner",3,"click"],["href","#",3,"click"],["DashArrowDirective","",2,"position","absolute","left","0px","top","0px",3,"data","element"]],template:function(i,l){1&i&&(t.j41(0,"div",1,0),t.EFF(2,"\n    "),t.j41(3,"div",2),t.EFF(4," \n        "),t.DNE(5,C,4,1,"ng-container",3),t.EFF(6,"\n    "),t.k0s(),t.EFF(7,"\n    "),t.DNE(8,u,1,2,"canvas",4),t.EFF(9,"\n"),t.k0s(),t.EFF(10,"\n")),2&i&&(t.R7$(5),t.Y8G("ngForOf",l.obj.StaticFields),t.R7$(3),t.Y8G("ngIf",l.obj.StaticFields.length>0))},dependencies:[f.Sq,f.bT,f.B3,E],encapsulation:2})}}return o})()},83583:(Y,v,s)=>{s.d(v,{p:()=>F});var t=s(17593),f=s(31979);function F(p,b){return(0,t.N)((E,d)=>{let C=0;E.subscribe((0,f._)(d,u=>p.call(b,u,C++)&&d.next(u)))})}}}]);
"use strict";(self.webpackChunkRevenUWebApp=self.webpackChunkRevenUWebApp||[]).push([[5819],{20643:(M,S,c)=>{c.d(S,{w:()=>p});var e=c(32040),u=c(43767),_=c(84151),o=c(27730),s=c(17970),i=c(82503),m=c(23458),d=c(11592),R=c(95083),I=c(58941),t=c(54047),D=c(21774);let p=(()=>{class h{static{this.itm_DateRanges=[]}static get items_DateRanges(){return 0==h.itm_DateRanges.length&&h.AddEditFilterFieldViewModel(),h.itm_DateRanges}static getDateRanges(){let r=new o.y$;return r.Items=h.items_DateRanges,r.SelectedValue="Duration",r}static AddEditFilterFieldViewModel(){h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterAll"),"All")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterToday"),"Today")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterThisWeek"),"ThisWeek")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterThisMonth"),"ThisMonth")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterThisQuarter"),"ThisQuarter")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterThisFiscalYear"),"ThisFiscalYear")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterYesterday"),"Yesterday")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterPreviousMonth"),"PreviousMonth")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterPreviousMonthtodate"),"PreviousMonthTODATE")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterPreviousQuarter"),"PreviousQuarter")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterPreviousFiscalYear"),"PreviousFiscalYear")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterPreviousFiscalYeartodate"),"PreviousFiscalYearTODATE")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterMonthStartToDate"),"MonthStart(ToDate)")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterMonthEndFromDate"),"MonthEnd(FromDate)")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterYearStartToDate"),"YearStart(ToDate)")),h.itm_DateRanges.push(o._p.ComboBoxItems_2(e.d.GetResource("Reports_DateFilterYearEndFromDate"),"YearEnd(FromDate)"))}constructor(r){this.ClassName="AddEditFilterFieldViewModel",this.IsVisible=!1,this.IsPrePocessFilter=!1,this.PrePocessFilterVisible=!1,this.DeleteVisible=!1,this.Row=0,this.Column=0,this.ParentReportFilter=null,this.CDGDO=new R.ir,this.ID=u.J0.NewGuid(),this.ViewModel=r,this.Controls=[],this.Controls.push(new _.Dw(0)),this.Controls[0].Column=0,this.Controls[0].Label=" ",this.Controls[0].Width="120",this.Controls[0].Enable=!1,this.Controls.push(new _.Dw(0)),this.Controls[1].Column=1,this.Controls[1].Label=" ",this.Controls[1].Width="120",this.Controls[1].Enable=!1;let l=new I.v;l.Row=0,l.Column=2,l.Label="Edit",l.Width="60",l.ClickCommand.Subscribe(this,"OnEditClick"),this.Controls.push(l);let a=new I.v;a.Row=0,a.Column=3,a.Label="Delete",a.Width="60",a.ClickCommand.Subscribe(this,"OnDeleteClick"),this.Controls.push(a),this.IsVisible=!0,this.DeleteVisible=!0,this.HideFilter=new d.c(0),this.QuerySearchField=new d.c,this.QuickSearchField=new d.c,this.QuerySearchField.Visible=!1,this.QuickSearchField.Visible=!1,this.HideFilter.Visible=!r.IsReportViewScreen,this.Caption=new _.Dw(0),this.Member=new _.Dw(0),this.Condition=new o.y$(0),this.FromValue=new s.e3(0),this.ToValue=new _.Dw(0),this.FromDate=new o.y$(0),this.ToDate=new o.y$(0),this.FromDatePicker=new i.Lc(0),this.ToDatePicker=new i.Lc(0),this.FromDatePicker.SelectedDateChanged.Subscribe(this,"onDate_PropertyChanged"),this.ToDatePicker.SelectedDateChanged.Subscribe(this,"onDate_PropertyChanged"),this.DateRanges=h.getDateRanges(),this.DateRanges.Visible=!1,this.FromList=new m.y$(0),this.ToList=new m.y$(0),this.Caption.Label=e.d.GetResource("Reports_Caption"),this.Member.Label=e.d.GetResource("Reports_Field"),this.Condition.Label=e.d.GetResource("Reports_Condition"),this.FromList.Label=this.FromValue.Label=e.d.GetResource("Reports_FromValue"),this.ToList.Label=this.ToValue.Label=e.d.GetResource("Reports_ToValue"),this.FromDate.Label=this.FromDatePicker.Label=e.d.GetResource("Reports_FromValue"),this.ToDate.Label=this.ToDatePicker.Label=e.d.GetResource("Reports_ToValue"),this.Condition.SelectionChangedCommand.Subscribe(this,"OnConditionSelectionChanged"),this.DateRanges.SelectionChangedCommand.Subscribe(this,"OnDateRangesSelectionChanged"),this.Caption.LblWidth="80",this.Member.LblWidth="80",this.Condition.LblWidth="80",this.FromValue.LblWidth="80",this.ToValue.LblWidth="80",this.FromDatePicker.LblWidth="80",this.ToDatePicker.LblWidth="80",this.FromList.LblWidth="80",this.ToList.LblWidth="80",this.LoadConditions(),this.OnConditionSelectionChanged(this.Condition.SelectedValue),Logger.InfoLog("AddEditFilterFieldViewModel:: Entering AddEditFilterFieldViewModel")}onDate_PropertyChanged(r){"1"!=e.d.SessionManager.RoleID&&e.d.SessionManager.Preferences.ContainsKey("DoNotAllowFutureDateInReports")&&"True"==e.d.SessionManager.Preferences.DoNotAllowFutureDateInReports&&null!=this.FromDatePicker&&null!=this.FromDatePicker.Date&&this.FromDatePicker.Date>Date.Today()&&(this.FromDatePicker.Date=Date.Today()),"1"!=e.d.SessionManager.RoleID&&e.d.SessionManager.Preferences.ContainsKey("DoNotAllowFutureDateInReports")&&"True"==e.d.SessionManager.Preferences.DoNotAllowFutureDateInReports&&null!=this.ToDatePicker&&null!=this.ToDatePicker.Date&&this.ToDatePicker.Date>Date.Today()&&(this.ToDatePicker.Date=Date.Today())}OnButtonClick(r){"SearchField"==r?e.d.page.HideDialog(this.PopUpGUID):"Delete"==r&&this.ViewModel.Fields.Remove(this)}OnEditClick(r){}OnDeleteClick(r){this.ViewModel.Fields.Remove(this)}OnConditionSelectionChanged(r){null!=this.Condition.SelectedValue&&(this.FromValue.Label=this.FromDate.Label=this.FromDatePicker.Label=this.FromList.Label=e.d.GetResource("Service_Value"),this.FromValue.Visible=!1,this.ToValue.Visible=!1,this.FromDate.Visible=!1,this.ToDate.Visible=!1,this.FromDatePicker.Visible=!1,this.ToDatePicker.Visible=!1,this.FromValue.ComboBox.Visible=!1,this.FromList.Visible=!1,this.ToList.Visible=!1,this.FromValue.TextBox.Width="140",this.DateRanges.Visible=!1,this.QuerySearchField.Visible=!1,this.QuickSearchField.Visible=!1,"DATE"==this.CDGDO.DataType?(this.ViewModel.IsReportViewScreen&&(this.DateRanges.Visible=!0),"Between"==this.Condition.SelectedValue||"NotBetween"==this.Condition.SelectedValue?(this.ViewModel.IsReportViewScreen?(this.FromDatePicker.Visible=!0,this.ToDatePicker.Visible=!0):(this.FromDate.Visible=!0,this.ToDate.Visible=!0),this.FromDatePicker.Label=this.FromDate.Label=e.d.GetResource("Reports_FromValue")):"FUTURE"==this.Condition.SelectedValue||"PAST"==this.Condition.SelectedValue?(this.FromValue.Visible=!0,this.FromValue.Label=e.d.GetResource("Reports_FromValue"),u.J0.IsEmpty(this.FromValue.TextBox.Text)&&(this.FromValue.TextBox.Text="30"),this.FromValue.TextBox.Width="50",this.FromValue.ComboBox.Visible=!0,this.FromValue.ComboBox.Items.Clear(),this.FromValue.ComboBox.Items.push(o._p.ComboBoxItems_2("Days","Days")),this.FromValue.ComboBox.Items.push(o._p.ComboBoxItems_2("Weeks","Weeks")),this.FromValue.ComboBox.Items.push(o._p.ComboBoxItems_2("Months","Months")),this.FromValue.ComboBox.Items.push(o._p.ComboBoxItems_2("Quarter","Quarter")),this.FromValue.ComboBox.Items.push(o._p.ComboBoxItems_2("Year","Year")),this.FromValue.ComboBox.SelectedValue="Days"):"IsNull"==this.Condition.SelectedValue||"IsNotNull"==this.Condition.SelectedValue||(this.ViewModel.IsReportViewScreen?this.FromDatePicker.Visible=!0:this.FromDate.Visible=!0)):"Between"==this.Condition.SelectedValue||"NotBetween"==this.Condition.SelectedValue?(this.QuerySearchField.Visible=!1,this.QuickSearchField.Visible=!1,this.FromList.CCID>0?(this.FromList.Visible=!0,this.FromValue.TextBox.Visible=!0,this.ToList.CCID=this.FromList.CCID,this.ToList.TypeID=this.FromList.TypeID,this.ToList.CustomWhere=this.FromList.CustomWhere,this.ToList.Refresh(),this.ToList.Visible=!0,this.FromList.Label=e.d.GetResource("Reports_FromValue")):(this.FromValue.Visible=!0,this.FromValue.TextBox.Visible=!0,this.ToValue.Visible=!0,this.FromValue.Label=e.d.GetResource("Reports_FromValue"))):"Equal"==this.Condition.SelectedValue||"NotEqual"==this.Condition.SelectedValue?this.FromList.CCID>0?this.FromList.Visible=!0:(this.FromValue.Visible=!0,this.FromValue.TextBox.Visible=!0):"IsNull"==this.Condition.SelectedValue||"IsNotNull"==this.Condition.SelectedValue||(this.FromValue.Visible=!0,this.FromValue.TextBox.Visible=!0,this.ViewModel.IsReportViewScreen||(this.QuerySearchField.Visible=!0,this.QuickSearchField.Visible=!0)))}OnDateRangesSelectionChanged(r){null!=this.DateRanges.SelectedValue&&("Between"!=this.Condition.SelectedValue&&(this.Condition.SelectedValue="Between"),h.SetDateRanges(this.DateRanges.SelectedValue,this.FromDatePicker,this.ToDatePicker))}static SetDateRanges(r,l,a){let n=new Date(Date.Today().getFullYear(),e.d.SessionManager.AccountingFromMonth-1,1);switch(n>Date.Today()&&(n=n.AddYears(-1)),r){case"All":l.Date=e.d.SessionManager.AccountingDate,a.Date=Date.Today();break;case"Today":l.Date=Date.Today(),a.Date=Date.Today();break;case"ThisWeek":let b=(new Date).getDay(),g=0;if(e.d.SessionManager.Preferences.ContainsKey("WeekDay")&&""!=e.d.SessionManager.Preferences.WeekDay)switch(e.d.SessionManager.Preferences.WeekDay){case"Monday":default:g=D.ob.Monday-b;break;case"Tuesday":g=D.ob.Tuesday-b;break;case"Wednesday":g=D.ob.Wednesday-b;break;case"Thursday":g=D.ob.Thursday-b;break;case"Friday":g=D.ob.Friday-b;break;case"Saturday":g=D.ob.Saturday-b;break;case"Sunday":g=D.ob.Sunday-b}else g=D.ob.Monday-b;l.Date=(new Date).AddDays(g-7),a.Date=l.Date.AddDays(6);break;case"ThisMonth":l.Date=new Date(Date.Today().getFullYear(),Date.Today().getMonth(),1),a.Date=l.Date.AddMonths(1).AddDays(-1);break;case"ThisQuarter":for(let T=0;T<4;T++){if(Date.Today()>=n&&Date.Today()<n.AddMonths(3)){l.Date=n,a.Date=n.AddMonths(3).AddDays(-1);break}n=n.AddMonths(3)}break;case"ThisFiscalYear":l.Date=n,a.Date=l.Date.AddYears(1).AddDays(-1);break;case"Yesterday":l.Date=Date.Today().AddDays(-1),a.Date=l.Date;break;case"PreviousMonth":l.Date=new Date(Date.Today().getFullYear(),Date.Today().getMonth(),1).AddMonths(-1),a.Date=l.Date.AddMonths(1).AddDays(-1);break;case"PreviousMonthTODATE":if(l.Date=new Date(Date.Today().getFullYear(),Date.Today().getMonth(),1).AddMonths(-1),Date.Today().getDate()>=29){let T=l.Date.DaysInMonth();T<Date.Today().getDate()&&(a.Date=new Date(l.Date.getFullYear(),l.Date.getMonth(),T))}else a.Date=new Date(l.Date.getFullYear(),(new Date).getMonth(),Date.Today().getDate());break;case"PreviousQuarter":for(let T=0;T<4;T++){if(Date.Today()>=n&&Date.Today()<n.AddMonths(3)){l.Date=n.AddMonths(-3),a.Date=n.AddDays(-1);break}n=n.AddMonths(3)}break;case"PreviousFiscalYear":l.Date=n.AddYears(-1),a.Date=l.Date.AddYears(1).AddDays(-1);break;case"PreviousFiscalYearTODATE":if(l.Date=n.AddYears(-1),Date.Today().getDate()>=29){let T=(new Date).DaysInMonth();T<Date.Today().getDate()&&(a.Date=new Date(l.Date.getFullYear(),Date.Today().getMonth(),T))}else a.Date=new Date(l.Date.getFullYear(),Date.Today().getMonth(),Date.Today().getDate());break;case"MonthStart(ToDate)":l.Date=new Date(a.Date.getFullYear(),a.Date.getMonth(),1);break;case"MonthEnd(FromDate)":a.Date=new Date(l.Date.getFullYear(),l.Date.getMonth(),1).AddMonths(1).AddDays(-1);break;case"YearStart(ToDate)":l.Date=new Date(a.Date.getFullYear(),0,1);break;case"YearEnd(FromDate)":a.Date=new Date(l.Date.getFullYear(),11,31)}l.SetMonthYear(),a.SetMonthYear()}CallBackFieldSelection(r){this.CDGDO=r,this.LoadConditions(),this.Member.Text=""==u.J0.StringValue(r.CategoryText)?"":e.d.GetResource(u.J0.StringValue(r.CategoryText))+"."+r.FieldText,this.Caption.Text=r.FieldText,"DATE"==r.DataType?this.ViewModel.IsReportViewScreen||(this.FromDate.Items.Clear(),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("TODAY"),"TODAY")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("YESTERDAY"),"YESTERDAY")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("DEFAULT_DATE"),"DEFAULT_DATE")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("ACCOUNTING_DATE"),"ACCOUNTING_DATE")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("WEEK_START"),"WEEK_START")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("WEEK_END"),"WEEK_END")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("PREVWEEK_START"),"PREVWEEK_START")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("PREVWEEK_END"),"PREVWEEK_END")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("MONTH_START"),"MONTH_START")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("MONTH_END"),"MONTH_END")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("QUARTER_START"),"QUARTER_START")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("QUARTER_END"),"QUARTER_END")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("YEAR_START"),"YEAR_START")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("YEAR_END"),"YEAR_END")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("YEAR_END (DEFAULT_DATE)"),"YEAR_END(DEFAULT_DATE)")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("FISCAL_YEAR_START"),"FISCAL_YEAR_START")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("FISCAL_YEAR_END"),"FISCAL_YEAR_END")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("PREVIOUS_YEAR_START"),"PREVIOUS_YEAR_START")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("PREVIOUS_YEAR_END"),"PREVIOUS_YEAR_END")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("PAYROLL_MONTH"),"PAYROLL_MONTH")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("PAYROLL_MONTH_START"),"PAYROLL_MONTH_START")),this.FromDate.Items.push(o._p.ComboBoxItems_2(e.d.GetResource("PAYROLL_MONTH_END"),"PAYROLL_MONTH_END")),this.ToDate.Items=this.FromDate.Items,this.FromDate.SelectedValue="DEFAULT_DATE",this.ToDate.SelectedValue="TODAY"):(this.FromValue.ComboBox.Visible=!1,this.FromDate.Items.Clear(),this.FromList.CCID=0,this.ToList.CCID=0,this.SetListViewData())}LoadConditions(){this.Condition.Items.Clear(),"INT"==this.CDGDO.DataType||"FLOAT"==this.CDGDO.DataType||"Float"==this.CDGDO.DataType?(this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Between"),"Between"," BETWEEN ")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_NotBetween"),"NotBetween"," NOT BETWEEN ")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Equal"),"Equal","=")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_NotEqual"),"NotEqual","<>")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Lessthan"),"Lessthan","<")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_LessthanOrEqual"),"LessthanOrEqual","<=")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Greaterthan"),"Greaterthan",">")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_GreaterthanOrEqual"),"Greaterthan Or Equal",">=")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_IsNull"),"IsNull"," IS NULL")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_IsNotNull"),"IsNotNull"," IS NOT NULL")),this.Condition.SelectedValue="Equal"):"Date"==this.CDGDO.DataType||"DATE"==this.CDGDO.DataType?(this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Between"),"Between"," BETWEEN ")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_NotBetween"),"NotBetween"," NOT BETWEEN ")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Equal"),"Equal","=")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_NotEqual"),"NotEqual","<>")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Lessthan"),"Lessthan","<")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_LessthanOrEqual"),"LessthanOrEqual","<=")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Greaterthan"),"Greaterthan",">")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_GreaterthanOrEqual"),"Greaterthan Or Equal",">=")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_IsNull"),"IsNull"," IS NULL")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_IsNotNull"),"IsNotNull"," IS NOT NULL")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Future"),"FUTURE","FUTURE")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Past"),"PAST","PAST")),this.Condition.SelectedValue="Between"):(this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Between"),"Between"," BETWEEN ")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_NotBetween"),"NotBetween"," NOT BETWEEN ")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Com_Contains"),"Contains"," LIKE ")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_NotContain"),"NotContain"," NOT LIKE ")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_Equal"),"Equal","=")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_NotEqual"),"NotEqual","<>")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_IsNull"),"IsNull"," IS NULL")),this.Condition.Items.push(o._p.ComboBoxItems_3(e.d.GetResource("Reports_IsNotNull"),"IsNotNull"," IS NOT NULL")),this.Condition.SelectedValue="Contains")}SetListViewData(){this.CDGDO.IsForeignKey?3==this.CDGDO.ParentCostCenterID?261==this.CDGDO.ParentCCDefaultColID?(this.FromList.CCID=3,this.FromList.TypeID=100):262==this.CDGDO.ParentCCDefaultColID&&(this.FromList.CCID=3,this.FromList.TypeID=10):2==this.CDGDO.ParentCostCenterID?238==this.CDGDO.ParentCCDefaultColID?(this.FromList.CCID=2,this.FromList.TypeID=10):239==this.CDGDO.ParentCCDefaultColID?(this.FromList.CCID=2,this.FromList.TypeID=100):null!=this.CDGDO.Column&&this.CDGDO.Column.startsWith("CCNID")&&(this.FromList.CCID=5e4+parseInt(this.CDGDO.Column.Replace("CCNID","")),this.FromList.TypeID=1):this.CDGDO.ParentCostCenterID>5e4&&("Name"==this.CDGDO.Column||"Code"==this.CDGDO.Column)&&(this.FromList.CCID=this.CDGDO.ParentCostCenterID,this.FromList.TypeID=1):3==this.CDGDO.CategoryValue?261==this.CDGDO.FieldValue?(this.FromList.CCID=3,this.FromList.TypeID=100):262==this.CDGDO.FieldValue&&(this.FromList.CCID=3,this.FromList.TypeID=10):2==this.CDGDO.ParentCostCenterID&&(238==this.CDGDO.ParentCCDefaultColID?(this.FromList.CCID=2,this.FromList.TypeID=10):239==this.CDGDO.ParentCCDefaultColID&&(this.FromList.CCID=2,this.FromList.TypeID=100)),this.ViewModel.ParentViewModel.ReportViewType!=t.Zv.TransactionQuery&&this.FromList.CCID>0&&this.FromList.Refresh()}}return h})()},85221:(M,S,c)=>{c.d(S,{N:()=>R});var e=c(32040),u=c(43767),_=c(54581),o=c(98580),s=c(7321),i=c(21774),m=c(61301),d=c(88514);class R extends o.g{get oTable(){return this.Schedules.Table}constructor(){super(),this.DeprMessage="",this.oparent=null,this.PostVisible=!1,this.DeleteVisible=!1,this.JVCCID=0,this.AssetID=0,this.CreditAcc=0,this.DebitAcc=0,this.IsDeprSummary=!1,this.iFailure=0,this.IsPostingOnScheduleDate=!1,this.AllowEditPostingDate=!1,this.SystemDate=Date.Today(),this.CV=null,this.oNotif=null,this.iLoop=0,this.iStart=0,this.strTo=null,this.strDrAcc=null,this.strCrAcc=null,this.strDeprIDs="",this.strDtColumn="",this.JVOK=!1,this.JVUNOK=!1,this.objAsset=new d.V,this.Title=e.d.GetResource("ASM_ScheduleDepreciation")}DepreciationScheduleViewModel_1(t){"AssetManagement"==t?.ClassName?(this.oparent=t,this.AssetID=this.oparent.AssetID,this.PostVisible=!0,this.DeleteVisible=!!e.d.SessionManager.IsActionAssigned(72,"Delete Depreciatin Schedule"),(1==this.oparent.IsFullDispose||3==this.oparent.IsFullDispose)&&(this.PostVisible=!1,this.DeleteVisible=!1)):"ChangeValue"==t?.ClassName&&(this.CV=t,this.PostVisible=!1,this.DeleteVisible=!1),this.InitGrid()}DepreciationScheduleViewModel_2(t,D){this.oNotif=D;let p=t.Tables[1].filter(h=>"DepreciationJV"==h.Name);p.length>0&&parseInt(p[0].Value)>0&&(this.JVCCID=parseInt(p[0].Value)),p=t.Tables[1].filter(h=>"ClubDeprPosting"==h.Name),p.length>0&&"TRUE"==p[0].Value.toString().toUpperCase()&&(this.IsDeprSummary=!0),this.worker_DoWork()}worker_RunWorkerCompleted(){this.oNotif.Enable=!0,this.oNotif.DisplayMessage=this.DeprMessage,this.oNotif.DeprDataFilling()}worker_DoWork(){this.oNotif.Enable=!1;let t=this.oNotif.DepreciationGrid.Table;if(this.drrPost=t.length>0?t.filter(D=>D.select&&u.J0.IsEmpty(D.DocID)):[],0==this.drrPost.length)return this.oNotif.DisplayMessage=e.d.GetResource("PleaseSelectDepreciation"),void(this.DeprMessage=this.oNotif.DisplayMessage);this.oNotif.DisplayMessage="Posting 0 of "+this.drrPost.length,this.iFailure=0,this.IsDeprSummary?(this.iStart=0,this.strDeprIDs="",this.strDtColumn=this.oNotif.AllowEditPostingDate?"PostDate_Key":"ToDate",this.drrPost=t.filter(D=>D.select&&u.J0.IsEmpty(D.DocID)),this.drrPost.SortBy([this.strDtColumn,"DebitAccount","CreditAccount"]),this.iLoop=0,this.PostDeprJV_CallBack()):(this.iLoop=0,this.PostDeprJVDetail_CallBack())}PostDeprJV_CallBack(){if(this.iLoop>=this.drrPost.length)this.strDeprIDs.length>0?(this.oNotif.DisplayMessage="Posting ("+(this.iStart+1)+"-"+this.drrPost.length+") of "+this.drrPost.length,this.PostDeprJV_Summary(this.strDeprIDs,this.strTo,this.strDrAcc,this.strCrAcc,this.iStart,this.drrPost.length).then(t=>{this.worker_RunWorkerCompleted()})):this.worker_RunWorkerCompleted();else{for(;this.iLoop<this.drrPost.length;this.iLoop++){if(this.strTo!=this.drrPost[this.iLoop][this.strDtColumn].toString()||this.strDrAcc!=this.drrPost[this.iLoop].DebitAccount.toString()||this.strCrAcc!=this.drrPost[this.iLoop].CreditAccount.toString()){if(this.strDeprIDs.length>0)return this.oNotif.DisplayMessage="Posting ("+(this.iStart+1)+"-"+this.iLoop+") of "+this.drrPost.length,this.PostDeprJV_Summary(this.strDeprIDs,this.strTo,this.strDrAcc,this.strCrAcc,this.iStart,this.iLoop).then(t=>{this.PostDeprJV_CallBack()}),this.strDeprIDs="",this.strTo=this.drrPost[this.iLoop][this.strDtColumn].toString(),this.strDrAcc=this.drrPost[this.iLoop].DebitAccount.toString(),this.strCrAcc=this.drrPost[this.iLoop].CreditAccount.toString(),void(this.iStart=this.iLoop);this.strDeprIDs="",this.strTo=this.drrPost[this.iLoop][this.strDtColumn].toString(),this.strDrAcc=this.drrPost[this.iLoop].DebitAccount.toString(),this.strCrAcc=this.drrPost[this.iLoop].CreditAccount.toString(),this.iStart=this.iLoop}this.strDeprIDs.length>0&&(this.strDeprIDs+=","),this.strDeprIDs+=this.drrPost[this.iLoop].ScheduleID.toString()}this.strDeprIDs.length>0&&this.PostDeprJV_CallBack()}}PostDeprJVDetail_CallBack(){if(this.iLoop>=this.drrPost.length)return void this.worker_RunWorkerCompleted();let t="";t="",t+="<JVXML>",t+="<ROWS>",t+='<DepreciationID DepID="'+this.drrPost[this.iLoop].ScheduleID.toString()+'" AssetID="'+this.drrPost[this.iLoop].AssetID.toString()+'"',u.J0.IsEmpty(this.drrPost[this.iLoop].PostDate_Key)||(t+=' Dt="'+u.J0.ParseDate(this.drrPost[this.iLoop].PostDate_Key).ToString("dd MMM yyyy")+'"'),t+="/>",t+="</ROWS>",t+="</JVXML>",this.oNotif.DisplayMessage="Posting "+(this.iLoop+1)+" of "+this.drrPost.length;let D=0;this.objAsset.PostAssetID=this.AssetID,this.objAsset.PostCCID=this.JVCCID,this.objAsset.JVXML=t.toString(),this.objAsset.Post=!0,this.objAsset.PostDeprJV().subscribe(p=>{this.DisplayMessage=p.Message,D=p.RetValue,D<=0&&this.iFailure++,this.DeprMessage=this.DisplayMessage,this.iLoop++,this.PostDeprJVDetail_CallBack()})}PostDeprJV_Summary(t,D,p,h,C,r){let l=u.J0.ParseDate(D);return!this.oNotif.AllowEditPostingDate&&!this.oNotif.IsPostingOnScheduleDate&&(l=this.oNotif.SystemDate),this.objAsset.PostDeprJVSummary(this.JVCCID,l,p,h,t).then(a=>{this.DisplayMessage=a.Message,a.RetValue<=0&&(this.iFailure+=r-C),this.DeprMessage=this.DisplayMessage})}InitGrid(){this.Schedules=new s.vv,this.Schedules.Width="",this.Schedules.Height=400,this.Schedules.TableColumns.push("ID"),this.Schedules.TableColumns.push("period"),this.Schedules.TableColumns.push("From"),this.Schedules.TableColumns.push("FromText"),this.Schedules.TableColumns.push("To"),this.Schedules.TableColumns.push("ToText"),this.Schedules.TableColumns.push("DepAmt"),this.Schedules.TableColumns.push("AccDep"),this.Schedules.TableColumns.push("AccDepWithPrev"),this.Schedules.TableColumns.push("NetValue"),this.Schedules.TableColumns.push("Status"),this.Schedules.TableColumns.push("DocID"),this.Schedules.TableColumns.push("DocNo"),this.Schedules.TableColumns.push("select"),this.Schedules.TableColumns.push("PostingDate"),this.Schedules.TableColumns.push("CostCenterID"),this.Schedules.TableColumns.push("PostingDate_Key"),this.Schedules.TableColumns.push("DocumentName"),this.Schedules.TableColumns.push("DocPrefix"),this.Schedules.TableColumns.push("DocNumber"),this.oColumns=new Array;let t=new i.O7;t.Header="#",t.DisplayMember="period",t.ReadOnly=!0,t.Width=45,t.IsFrozen=!0,this.oColumns.push(t),t=new i.O7,t.Header=e.d.GetResource("From"),t.DisplayMember="FromText",t.ReadOnly=!0,t.Width=90,t.IsFrozen=!0,this.oColumns.push(t),t=new i.O7,t.Header=e.d.GetResource("To"),t.DisplayMember="ToText",t.ReadOnly=!0,t.Width=90,t.IsFrozen=!0,this.oColumns.push(t),t=new i.O7,t.Header="Depr. Amount",t.DisplayMember="DepAmt",t.IsCalculated=1,t.Width=95,t.ReadOnly=!0,t.DataType="FLOAT",this.oColumns.push(t),t=new i.O7,t.Header="Acc. Depr",t.DisplayMember="AccDepWithPrev",t.IsCalculated=1,t.Width=100,t.ReadOnly=!0,t.DataType="FLOAT",this.oColumns.push(t),t=new i.O7,t.Header="Net Value",t.DisplayMember="NetValue",t.IsCalculated=1,t.Width=100,t.ReadOnly=!0,t.DataType="FLOAT",this.oColumns.push(t),t=new i.O7,t.Header=e.d.GetResource("Status"),t.DisplayMember="Status",t.ReadOnly=!0,t.Width=80,this.oColumns.push(t),null!=this.CV&&(t=new i.O7,t.Header="Actual Depr",t.DisplayMember="ActualDeprAmt",t.IsCalculated=1,t.Width=100,t.ReadOnly=!0,t.DataType="FLOAT",this.oColumns.push(t)),null!=this.oparent&&(t=new i.O7,t.Header=e.d.GetResource("DocumentDesigner_VoucherNo"),t.DisplayMember="DocNo",t.DataType="LINK",t.ReadOnly=!0,t.Width=140,this.oColumns.push(t),t=new i.O7,t.Header=e.d.GetResource("select"),t.DisplayMember="select",t.DataType="CheckBox",t.Width=60,this.oColumns.push(t)),this.AllowEditPostingDate=e.d.SessionManager.IsActionAssigned(72,"Allow editing of depreciation posting date"),this.AllowEditPostingDate&&null!=this.oparent&&(this.Schedules.TableColumns.push("PostDate_Key"),this.Schedules.TableColumns.push("PostDate"),t=new i.O7,t.Header="Post Date",t.DisplayMember="PostDate",t.DataType="DATE",t.Width=110,t.ReadOnly=!1,this.oColumns.push(t)),t=new i.O7,t.Header=e.d.GetResource("DocID"),t.DisplayMember="CostCenterID",t.IsVisible=!1,t.Width=80,this.oColumns.push(t),this.Schedules.OnLinkClick.Subscribe(this,"OnLinkClickEvent"),this.Schedules.Table=[],this.Schedules.addEmptyRow(),this.Schedules.addEmptyRow(),this.Schedules.addEmptyRow(),this.Schedules.addEmptyRow(),this.Schedules.addEmptyRow(),this.Schedules.addEmptyRow(),this.Schedules.addEmptyRow(),this.Schedules.Columns=this.oColumns}OnLinkClickEvent(t,D,p){m.RibbonExtViewModel.LoadDocument(t),e.d.page.HideDialog(this.PopUpGUID)}LoadData(t,D,p){this.Schedules.Clear();let h=this.oparent.ScreenObject.Data.Tables[4].filter(r=>"DepreciationJV"==r.Name);h.length>0&&parseInt(h[0].Value)>0&&(this.JVCCID=parseInt(h[0].Value)),u.J0.IsEmpty(t.Tables[4][0].AccumDeprACCID)||(this.CreditAcc=parseInt(t.Tables[4][0].AccumDeprACCID.toString())),u.J0.IsEmpty(t.Tables[4][0].DeprExpenseACCID)||(this.DebitAcc=parseInt(t.Tables[4][0].DeprExpenseACCID.toString()));let C=u.J0.Double(t.Tables[4][0].PreviousDepreciation);if(h=this.oparent.ScreenObject.Data.Tables[4].filter(r=>"AssetDeprPostDate"==r.Name),h.length>0&&"ScheduleDate"==h[0].Value.toString()&&(this.IsPostingOnScheduleDate=!0),t.Tables.length>10){let r=1;t.Tables[10].filter(a=>u.J0.ParseDate(a.FromDate)>=D&&u.J0.ParseDate(a.ToDate)<=p).forEach(a=>{let n=this.Schedules.NewRow();n.period=(r++).toString(),n.From=a.FromDate,n.ID=a.ScheduleID,n.FromText=u.J0.ParseDate(a.FromDate).ToString(e.d.SessionManager.Preferences["Date Format"]),n.To=a.ToDate,n.ToText=u.J0.ParseDate(a.ToDate).ToString(e.d.SessionManager.Preferences["Date Format"]),n.DocID=a.DocID,n.DocNo=a.VoucherNo,n.Status=a.StatusID,n.CostCenterID=a.CostCenterID,n.DocPrefix=a.DocPrefix,n.DocNumber=a.DocNumber,n.DocumentName=a.DocumentName,n.DepAmt=parseFloat(a.DeprAmt).ToString("N"+e.d.SessionManager.Preferences.DecimalsinAmount),n.AccDep=parseFloat(a.accmDepr).ToString("N"+e.d.SessionManager.Preferences.DecimalsinAmount),n.NetValue=parseFloat(a.NetValue).ToString("N"+e.d.SessionManager.Preferences.DecimalsinAmount),n.AccDepWithPrev=(parseFloat(a.accmDepr)+C).ToString("N"+e.d.SessionManager.Preferences.DecimalsinAmount),n.select=!1,this.AllowEditPostingDate&&u.J0.IsEmpty(n.DocNo)&&(this.IsPostingOnScheduleDate?(n.PostDate_Key=a.ToDate,n.PostDate=u.J0.ParseDate(a.ToDate).ToString(e.d.SessionManager.Preferences["Date Format"])):(n.PostDate_Key=this.SystemDate,n.PostDate=this.SystemDate.ToString(e.d.SessionManager.Preferences["Date Format"]))),this.Schedules.addRow(n)})}}GetJVXML(){let t="",D=0;return t+="<JVXML>",this.oTable.forEach(p=>{!u.J0.IsEmpty(p.select)&&(0,_.yG0)(p.select)&&u.J0.IsEmpty(p.DocID)&&"0"!=p.DepAmt.toString()?(D++,t+='<ROWS><DepreciationID DepID="'+p.ID.toString()+'" AssetID="'+this.AssetID+'"',this.Schedules.TableColumns.Contains("PostDate_Key")&&(t+=' Dt="'+u.J0.ParseDate(p.PostDate_Key).ToString("dd MMM yyyy")+'"'),t+="/>",t+="</ROWS>"):!u.J0.IsEmpty(p.select)&&(0,_.yG0)(p.select)&&u.J0.IsEmpty(p.DocID)&&"0"==p.DepAmt.toString()&&(t+="Zero")}),D>0&&(this.JVOK=!0),t+="</JVXML>",t.toString()}GetUnPostJVXML(){let t="",D=0;t+="<JVXML>";for(let p=this.oTable.length-1;p>=0;p--)!u.J0.IsEmpty(this.oTable[p].select)&&(0,_.yG0)(this.oTable[p].select)&&!u.J0.IsEmpty(this.oTable[p].DocID)&&(D++,t+='<DepreciationID DepID="'+this.oTable[p].ID.toString()+'" AssetID="'+this.AssetID+'"></DepreciationID>');return t+="</JVXML>",D>0&&(this.JVUNOK=!0),t.toString()}OnButtonClick(t){if(this.DisplayMessage="","Cancel"==t)e.d.page.HideDialog(this.PopUpGUID);else if("Delete"==t){if(!confirm("Do you want to delete depreciation schedule?"))return;let D=d.V.DeleteAssetDeprSchedule(this.AssetID);this.DisplayMessage=D.Message,u.J0.Int(D.RetValue)>0&&(this.oparent.ds.Tables[10].Clear(),this.Schedules.Clear())}else if("Post"==t){let D=0;this.objAsset.PostAssetID=this.AssetID,this.objAsset.PostCCID=this.JVCCID,this.objAsset.JVXML=this.GetJVXML(),this.objAsset.Post=!0,this.JVOK?!this.JVOK&&this.objAsset.JVXML.Contains("Zero")?this.DisplayMessage="Can not post Zero value":this.objAsset.PostDeprJV().subscribe(p=>{if(D=p.RetValue,this.DisplayMessage=p.Message,D>0){let h=0;for(let C=0;C<this.oTable.length;C++)if(!u.J0.IsEmpty(this.oTable[C].select)&&(0,_.yG0)(this.oTable[C].select)&&u.J0.IsEmpty(this.oTable[C].DocID)){this.oparent.ViewTransactionHistory.TransactionHisInfoObj.addEmptyRow();let r=this.oparent.ViewTransactionHistory.TransactionHisInfo.length-1;0==r?h=this.oparent.GetDeprStartValue():r>0&&(h=0==C?this.oparent.GetDeprStartValue():parseFloat(this.oTable[C-1].NetValue.toString())),this.oparent.ViewTransactionHistory.TransactionHisInfo[r].Type="Depreciation Schedule Post",this.oparent.ViewTransactionHistory.TransactionHisInfo[r].Date=Date.Today().ToString("dd/MMM/yyyy"),this.oparent.ViewTransactionHistory.TransactionHisInfo[r].OldValue=h,this.oparent.ViewTransactionHistory.TransactionHisInfo[r].ChangeType="6",this.oparent.ViewTransactionHistory.TransactionHisInfo[r].Percentage=this.oTable[C].DepAmt.toString(),this.oparent.ViewTransactionHistory.TransactionHisInfo[r].NewValue=h-parseFloat(this.oTable[C].DepAmt.toString()),null!=this.oTable[C].DepAmt&&""!=this.oTable[C].DepAmt&&this.oparent.CurrentValueCallBack(h-parseFloat(this.oTable[C].DepAmt.toString())),this.oparent.ViewTransactionHistory.TransactionHisInfoObj.updateRow(this.oparent.ViewTransactionHistory.TransactionHisInfo[r])}return this.LoadData(d.V.GetAssetManagementDetails(this.AssetID),this.oparent.DeprFromDate,this.oparent.DeprToDate),this.MessageVisibility=!0,void(this.JVOK=!1)}}):this.DisplayMessage="Please select record to post",this.DeprMessage=this.DisplayMessage}else if("UnPost"==t){let D=0;this.objAsset.PostAssetID=this.AssetID,this.objAsset.PostCCID=this.JVCCID,this.objAsset.JVXML=this.GetUnPostJVXML(),this.objAsset.Post=!1,this.JVUNOK?this.objAsset.PostDeprJV().subscribe(p=>{if(D=p.RetValue,this.DisplayMessage=p.Message,D>0){let h=0;for(let C=this.oTable.length-1;C>=0;C--)if(!u.J0.IsEmpty(this.oTable[C].select)&&(0,_.yG0)(this.oTable[C].select)&&!u.J0.IsEmpty(this.oTable[C].DocID)){this.oparent.ViewTransactionHistory.TransactionHisInfoObj.addEmptyRow();let r=this.oparent.ViewTransactionHistory.TransactionHisInfo.length-1;0==r?h=this.oparent.GetDeprStartValue():r>0&&(h=0==C?this.oparent.GetDeprStartValue():parseFloat(this.oTable[C-1].NetValue.toString())),this.oparent.ViewTransactionHistory.TransactionHisInfo[r].Type="Depreciation Schedule UnPost",this.oparent.ViewTransactionHistory.TransactionHisInfo[r].Date=Date.Today().ToString("dd/MMM/yyyy"),this.oparent.ViewTransactionHistory.TransactionHisInfo[r].OldValue=h-parseFloat(this.oTable[C].DepAmt.toString()),this.oparent.ViewTransactionHistory.TransactionHisInfo[r].ChangeType="6",this.oparent.ViewTransactionHistory.TransactionHisInfo[r].Percentage=this.oTable[C].DepAmt.toString(),this.oparent.ViewTransactionHistory.TransactionHisInfo[r].NewValue=h,null!=this.oTable[C].DepAmt&&""!=this.oTable[C].DepAmt&&this.oparent.CurrentValueCallBack(h),this.oparent.ViewTransactionHistory.TransactionHisInfoObj.updateRow(this.oparent.ViewTransactionHistory.TransactionHisInfo[r])}return this.LoadData(d.V.GetAssetManagementDetails(this.AssetID),this.oparent.DeprFromDate,this.oparent.DeprToDate),this.MessageVisibility=!0,void(this.JVUNOK=!1)}}):this.DisplayMessage="Please select record to Un post",this.DeprMessage=this.oNotif.DisplayMessage}}}},88514:(M,S,c)=>{c.d(S,{V:()=>_});var e=c(32040),u=c(43767);class _{constructor(){this.ChangeValueXML=null,this.DetailsXML=null,this.AMCode=null,this.AMName=null,this.AMPurchaseValue=null,this.HistoryXML=null,this.DocNo=null,this.XML=null,this.DocSave=null,this.CodePrefix=null,this.Sno=null,this.AssetClassID=0,this.DeprBookID=0,this.AcqnCostACCID=0,this.AccumDeprACCID=0,this.AcqnCostDispACCID=0,this.AccumDeprDispACCID=0,this.GainsDispACCID=0,this.LossDispACCID=0,this.MaintExpenseACCID=0,this.DeprExpenseACCID=0,this.PostingGroupID=0,this.AMStatusID=0,this.CodeNumber=0,this.AMAssetID=0,this.AMParentAssetID=0,this.IsGroup=!1,this.Post=!1,this.StatusID=0,this.DeprBookMethod=0,this.DeprBookMethodBasedOn=0,this.AveragingMethodID=0,this.DeprScheduleID=0,this.DeprTypeID=0,this.AssetClassCode=null,this.AssetClassName=null,this.GUID=null,this.DeprBookCode=null,this.DeprBookName=null,this.PostGroupCode=null,this.PostGroupName=null,this.AMGUID=null,this.RecordType=null,this.AMGroup=!1,this.IsIncreaseAssetValue=!1,this.EmpName=null,this.EmpCode=null,this.EmpID=0,this.SelectedNodeID=0,this.PostCCID=0,this.PostAssetID=0,this.ScheduleID=0,this.LocationID=0,this.AddressXML=null,this.NotesXML=null,this.ContactsXML=null,this.CustomCostCenterFieldsQuery=null,this.CustomFieldsQuery=null,this.PrimaryContactQuery=null,this.AttachmetsXML=null,this.DepreciationXML=null,this.JVXML=null,this.Description=null,this.DeprStartValue=0,this.ChangeVal=0,this.AssetNetValueChange=0,this.DeprBookMethodBasedOnValue=0,this.TotalYears=0}static GetAssetClassDetails(s){let i=[];return i.push(s),i.push(e.d.SessionManager.UserID),i.push(e.d.SessionManager.LanguageID),e.d.accounting.GetAssetClassDetails(i)}static GetPostingGroupDetails(s){let i=[];return i.push(s),i.push(e.d.SessionManager.UserID),i.push(e.d.SessionManager.LanguageID),e.d.accounting.GetPostingGroupDetails(i)}SaveAssetClass(){0==this.AssetClassID&&(this.GUID=u.J0.NewGuid());let s=[];return s.push(this.AssetClassID),s.push(null!=this.AssetClassCode?this.AssetClassCode:""),s.push(null!=this.AssetClassName?this.AssetClassName:""),s.push(this.PostingGroupID),s.push(this.DeprBookID),s.push(this.DeprTypeID),s.push(this.TotalYears),s.push(this.StatusID),s.push(e.d.SessionManager.CompanyGUID),s.push(this.GUID),s.push(""),s.push(e.d.SessionManager.UserName),s.push(e.d.SessionManager.UserID),s.push(e.d.SessionManager.LanguageID),e.d.accounting.SetAssetClass(s)}static GetDeprBookDetails(s){let i=[];return i.push(s),i.push(e.d.SessionManager.UserID),i.push(e.d.SessionManager.LanguageID),e.d.accounting.GetDeprBookDetails(i)}PostJVvoucher(){this.GUID=u.J0.NewGuid();let s=[];return s.push(this.PostAssetID),s.push(this.PostCCID),s.push(this.JVXML),s.push(this.Post),s.push(this.DeprTypeID),s.push(this.DocXML),s.push(this.DocSave),s.push(this.DepreciationXML),s.push(this.RecordType),s.push(e.d.SessionManager.CompanyGUID),s.push(this.GUID),s.push(e.d.SessionManager.UserName),s.push(e.d.SessionManager.UserID),s.push(e.d.SessionManager.LanguageID),e.d.accounting.GetPostJvVoucher(s)}SetAssetDispose(s){this.GUID=u.J0.NewGuid();let i=[];return i.push(this.PostAssetID),i.push(s.ToString("dd/MMM/yyyy")),i.push(this.PostCCID),i.push(this.JVXML),i.push(this.Post),i.push(this.DeprTypeID),i.push(this.DocXML),i.push(this.DocSave),i.push(this.DepreciationXML),i.push(this.RecordType),i.push(e.d.SessionManager.CompanyGUID),i.push(this.GUID),i.push(e.d.SessionManager.UserName),i.push(e.d.SessionManager.UserID),i.push(e.d.SessionManager.LanguageID),e.d.accounting.SetAssetDispose(i)}SaveDeprBook(s,i,m){0==this.DeprBookID&&(this.GUID=u.J0.NewGuid());let d=[];return d.push(this.DeprBookID),d.push(this.DeprBookCode),d.push(this.DeprBookName),d.push(this.DeprBookMethod),d.push(this.DeprBookMethodBasedOn),d.push(this.DeprBookMethodBasedOnValue),d.push(this.StatusID),d.push(this.AveragingMethodID),d.push(s),d.push(i),d.push(m),d.push(e.d.SessionManager.CompanyGUID),d.push(this.GUID),d.push(""),d.push(e.d.SessionManager.UserName),d.push(e.d.SessionManager.UserID),d.push(e.d.SessionManager.LanguageID),e.d.accounting.SetDeprBook(d)}SaveFAPostingGroup(){0==this.PostingGroupID&&(this.GUID=u.J0.NewGuid());let s=[];return s.push(this.PostingGroupID),s.push(this.PostGroupCode),s.push(this.PostGroupName),s.push(this.AcqnCostACCID),s.push(this.AccumDeprACCID),s.push(this.AcqnCostDispACCID),s.push(this.AccumDeprDispACCID),s.push(this.GainsDispACCID),s.push(this.LossDispACCID),s.push(this.MaintExpenseACCID),s.push(this.DeprExpenseACCID),s.push(this.StatusID),s.push(0),s.push(this.IsGroup),s.push(e.d.SessionManager.CompanyGUID),s.push(this.GUID),s.push(e.d.SessionManager.UserName),s.push(e.d.SessionManager.UserID),s.push(e.d.SessionManager.LanguageID),e.d.accounting.SetPostingGroup(s)}static GetAssetManagementDetails(s){let i=[];return i.push(s),i.push(e.d.SessionManager.UserID),i.push(e.d.SessionManager.LanguageID),e.d.accounting.GetAssetManagementDetails(i)}static GetAssetDeprSchDetails(s){let i=[];return i.push(s),i.push(e.d.SessionManager.UserID),i.push(e.d.SessionManager.LanguageID),e.d.accounting.GetAssetDeprSchDetails(i)}SetAssetManagementDetails(){let s=[];return s.push(this.AMAssetID),s.push(this.AMCode),s.push(this.AMName),s.push(this.AMStatusID),s.push(this.AMPurchaseValue),s.push(this.AMParentAssetID),s.push(this.AMGroup),s.push(this.CodePrefix),s.push(this.CodeNumber),s.push(this.Sno),s.push(this.DetailsXML),s.push(this.ChangeValueXML),s.push(this.CustomFieldsQuery),s.push(this.CustomCostCenterFieldsQuery),s.push(this.DepreciationXML),s.push(this.HistoryXML),s.push(this.NotesXML),s.push(this.AttachmetsXML),s.push(e.d.SessionManager.CompanyGUID),s.push(this.AMGUID),s.push(e.d.SessionManager.UserName),s.push(e.d.SessionManager.UserID),s.push(e.d.SessionManager.LanguageID),s.push(this.WID),e.d.accounting.SetAssetManagementDetails(s).toPromise()}static DeleteAsset(s){let i=[];return i.push(s),i.push(e.d.SessionManager.UserID),i.push(e.d.SessionManager.RoleID),e.d.accounting.DeleteAsset(i)}static DeleteAssetDeprSchedule(s){let i=[];return i.push(s),i.push(e.d.SessionManager.RoleID),i.push(e.d.SessionManager.LanguageID),e.d.accounting.DeleteAssetDeprSchedule(i)}static DeleteAssetRefDoc(s,i){let m=[];return m.push(s),m.push(i),m.push(e.d.SessionManager.UserID),e.d.accounting.DeleteAssetRefDoc(m)}PostDeprJV(){this.GUID=u.J0.NewGuid();let s=[];return s.push(this.PostCCID),s.push(this.JVXML),s.push(this.Post),s.push(e.d.SessionManager.CompanyGUID),s.push(this.GUID),s.push(e.d.SessionManager.UserName),s.push(e.d.SessionManager.UserID),s.push(e.d.SessionManager.LanguageID),s.push(e.d.SessionManager.RoleID),e.d.accounting.PostDeprJV(s)}PostDeprJVSummary(s,i,m,d,R){this.GUID=u.J0.NewGuid();let I=[];return I.push(s),I.push(i),I.push(m),I.push(d),I.push(R),I.push(e.d.SessionManager.CompanyGUID),I.push(e.d.SessionManager.UserName),I.push(e.d.SessionManager.UserID),I.push(e.d.SessionManager.LanguageID),e.d.accounting.SetDeprPostingJVSummary(I).toPromise()}static SetsPostDeprReverseJV(s,i,m){let d=[];return d.push(s),d.push(i),d.push(m),d.push(e.d.SessionManager.CompanyGUID),d.push(e.d.SessionManager.UserName),d.push(e.d.SessionManager.UserID),d.push(e.d.SessionManager.LanguageID),e.d.accounting.SetsPostDeprReverseJV(d)}ChangeValue(s,i){this.GUID=u.J0.NewGuid();let m=[];return m.push(this.PostAssetID),m.push(s),m.push(this.ChangeVal),m.push(this.AssetNetValueChange),m.push(i.ToString("dd/MMM/yyyy")),m.push(this.Description),m.push(this.DepreciationXML),m.push(this.ChangeValueXML),m.push(this.HistoryXML),m.push(this.LocationID),m.push(this.IsIncreaseAssetValue),m.push(this.JVXML),m.push(this.ChangeValueTypeID),m.push(e.d.SessionManager.CompanyGUID),m.push(this.GUID),m.push(e.d.SessionManager.UserName),m.push(e.d.SessionManager.UserID),m.push(e.d.SessionManager.LanguageID),e.d.accounting.SetAssetChangeValue(m)}DisposeReverse(s){let i=[];return i.push(s),i.push(e.d.SessionManager.UserName),i.push(e.d.SessionManager.UserID),i.push(e.d.SessionManager.LanguageID),e.d.accounting.DisposeReverse(i)}}}}]);